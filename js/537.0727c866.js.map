{"version":3,"file":"js/537.0727c866.js","mappings":"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","sources":["webpack://amis/./src/store/alertMessage.js","webpack://amis/./src/store/fetchApi.js","webpack://amis/./src/store/drawingTool.js","webpack://amis/./src/store/courseCorrespondenceDesign.js","webpack://amis/./src/store/courseConsumableCorrespondence.js","webpack://amis/./src/store/microCosmeticSurgeryRecords.js","webpack://amis/./src/store/medicalRecord.js","webpack://amis/./src/store/course.js","webpack://amis/./src/store/bodyPart.js","webpack://amis/./src/components/HATable.vue","webpack://amis/./src/components/HATable.vue?e0a5","webpack://amis/./src/views/courseOfTreatment.vue","webpack://amis/./src/views/courseOfTreatment.vue?0843"],"sourcesContent":["import { defineStore } from 'pinia';\n\nexport default defineStore('alertMessage Store', {\n  state: () => ({\n    messages: [],\n  }),\n  actions: {\n    updateMessage(message, ststus = null) {\n      const timestamp = Math.floor(new Date() / 1000);\n      this.messages.push({ message, timestamp, ststus });\n      this.removeMessageWithTiming(timestamp);\n    },\n    removeMessageWithTiming(timestamp) {\n      setTimeout(() => {\n        this.messages.forEach((item, i) => {\n          if (item.timestamp === timestamp) {\n            this.messages.splice(i, 1);\n          }\n        })\n      }, 2000);\n    },\n    removeMessage(index) {\n      this.messages.splice(index , 1);\n    }\n  }\n});","import { defineStore } from 'pinia';\nimport alertMessageStore from '@/store/alertMessage';\n// import router from \"@/router\";\n\nconst alertMessage = alertMessageStore();\nconst { updateMessage } = alertMessage;\n\nconst BASE_URL = `${process.env.VUE_APP_API_URL}`;\n\nexport default defineStore('fetchApi Store', {\n  state: () => ({}),\n  actions: {\n    async fetchApi(url, defaultOptions) {\n\n      const headersJudge = defaultOptions && defaultOptions.headers;\n      const methodJudge = defaultOptions && defaultOptions.method;\n      const dataJudge = defaultOptions && defaultOptions.data;\n\n      // const token = `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI1N2UyZjZiNC02ZTIwLTQzYzYtYmQ4ZC1jMDg5ZDliNGRkM2QiLCJyb2xlIjoiQWRtaW5pc3RyYXRvciIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvdXNlcmRhdGEiOiJmYTE3ZjhiOS1jYWJkLTQwMzEtYWFjMy0xYWY1Y2JmYWQzYzAiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL2V4cGlyYXRpb24iOiIxNjkzMjQ0MzI5IiwibmJmIjoxNjkzMTg0Mzg5LCJleHAiOjE2OTMyNDQzMjksImlhdCI6MTY5MzE4NDM4OSwiaXNzIjoiaGMifQ.l8LdA13fgjjeV52AcU8cHxMFznUtMQjb6ebLc3UNJUE`;\n\n      const options = {\n        headers: headersJudge ? defaultOptions.headers : {\n          'Content-Type': 'application/json',\n          \"Authorization\" : `Bearer ${this.getTokenFromCookie()}`,\n          // \"Authorization\" : `Bearer ${token}`,\n        },\n        method: methodJudge ? defaultOptions.method : 'GET',\n      }\n\n      if (dataJudge) {\n        options.body = JSON.stringify(defaultOptions.data);\n      }\n\n      try {\n        const response = await fetch(BASE_URL + url, options)\n        .then(res => res.json())\n        .then(res => res);\n\n        const isGetJudge = options.method === 'GET' || options.method === 'get';\n\n        // 只有 statusCode 200、非 GET 時，才會顯示訊息\n        if (response.statusCode === 200 && !isGetJudge) {\n          updateMessage(response.message);\n        }\n        \n        // 只有不是 statusCode 200、非 GET 時，才會顯示訊息\n        if (response.statusCode !== 200 && !isGetJudge) {\n          updateMessage(`${response.message} ${response.statusCode}`);\n        }\n    \n        return response;\n      }\n      catch (error) {\n        // console.log(error);\n        // router.push('/loginIndex');\n      }\n    },\n    getTokenFromCookie() {\n      const cookies = document.cookie.split(';');\n      for (let i = 0; i < cookies.length; i++) {\n        const cookie = cookies[i].trim();\n    \n        if (cookie.startsWith('token=')) {\n          const token = cookie.substring('token='.length);\n    \n          return token;\n        }\n      }\n    \n      return null;\n    }\n  }\n});","import { defineStore } from 'pinia';\n\nexport default defineStore('drawingTool Store', {\n  state: () => ({\n    createFocusShape: null,\n    image: null,\n    ctx: null,\n    canvas: null,\n    focusEditShape: null,\n    unfoldData: [],   // 展開資料\n    showDefaultDrawingData: [], // 渲染預設資料\n    // rect\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null,\n    differenceX: null,\n    differenceY: null,\n    // \n  }),\n  actions: {\n    /** 形狀偵測(方形、點) */\n    shapeListener(e) {\n      const x = e.clientX - this.canvas.getBoundingClientRect().left;\n      const y = e.clientY - this.canvas.getBoundingClientRect().top;\n\n      for (let i = this.showDefaultDrawingData.length - 1; i >= 0; i--) {\n        const shape = this.showDefaultDrawingData[i];\n        const width = shape.width;\n        const height = shape.height;\n\n        // 點\n        if (shape.designToolName === '點') {\n          const distance = Math.sqrt((x - shape.x) ** 2 + (y - shape.y) ** 2);\n          if (distance <= shape.radius) {\n            return shape;\n          }\n        }\n        \n        // 方形\n        if (shape.designToolName === '區域') {\n          if (x >= shape.x && x <= shape.x + width &&\n              y >= shape.y && y <= shape.y + height) {\n            return shape;\n          }\n        }\n      }\n\n      return null;\n    },\n    /** 繪製圖形 */\n    drawDrawingToolData() {\n      this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n      this.ctx.drawImage(this.image, 0, 0);\n\n      for (const shape of this.showDefaultDrawingData) {\n        const radius = shape.bluntNeedle ? 12 : shape.radius;\n\n        if (shape.designToolName === '點') {\n          this.ctx.beginPath();\n          this.ctx.arc(shape.x, shape.y, radius, 0, 2 * Math.PI);\n          // this.ctx.fillStyle = shape.bruiseColor ? shape.bruiseColor : shape.color;\n          this.ctx.fillStyle = shape.color;\n          this.ctx.fill();\n\n          if (shape.bruiseColor) {\n            this.pointBruisesRendering(shape);\n          }\n          \n          if (shape.borderColorName) {\n            this.ctx.strokeStyle = shape.borderColorName;\n            this.ctx.lineWidth = 2;\n            this.ctx.stroke();\n          }\n\n          if (shape.bluntNeedle) {\n            this.ctx.font = `16px Arial`;\n            this.ctx.fillStyle = \"#FFF\";\n            this.ctx.fillText(shape.bluntNeedle, shape.x - (radius / 2), shape.y + (radius / 2));\n          }\n\n          this.ctx.closePath();\n        }\n\n        if (shape.designToolName === '區域') {\n          this.ctx.strokeStyle = shape.color;\n          this.ctx.strokeRect(shape.x, shape.y, shape.width, shape.height);\n        }\n      }\n    },\n    /** canvas 初始 */\n    initCanvas(canvas) {\n\n      this.canvas = canvas;\n\n      if (this.canvas && this.canvas.getContext) {\n        this.ctx = this.canvas.getContext('2d');\n        return true;\n      } else {\n        alert('未成功載入 canvas');\n        return false;\n      }\n    },\n    /** image 初始 */\n    initImage(url) {\n      const vm = this;\n\n      return new Promise((resolve, reject) => {\n        vm.image = new Image();\n\n        vm.image.src = url;\n\n        vm.image.onload = function() {\n          vm.canvas.width = vm.image.width;\n          vm.canvas.height = vm.image.height;\n          vm.ctx.drawImage(vm.image, 0, 0);\n          resolve(true);\n        };\n\n        vm.image.onerror = function() {\n          reject(false);\n        };\n      })\n    },\n    /** 圓點展開 */\n    pointUnfold(data) {\n      const remarkData = this.remarkDataSorting(data.showRemarkData);\n      const { codeName, colorName, borderColorName } = remarkData;\n\n      const text = `${data.qunatity}${codeName ? ` ${codeName}` : ''}`;\n\n      const pillRadius = text.length > 1 ? 12 : 8; // 調整圓角大小\n      const paddingX = 4;\n      const paddingY = 2;\n      const rectHeight = 24;                       // 指定形狀的高度\n      const fontSize = 16;\n      \n      // 資料計算\n      this.ctx.font = `${fontSize}px Arial`;\n      \n      const textWidth = this.ctx.measureText(text).width * 2;\n      const rectWidth = (textWidth / 2) + (paddingX * 2); // 指定形狀的寬度\n\n      const x = data.x - (rectWidth / 2);                   // 指定 x 座標\n      const y = data.y - (rectHeight / 2);                  // 指定 y 座標\n      \n      this.ctx.beginPath();\n  \n      // 左上角的圓角\n      this.ctx.arc(x + pillRadius, y + pillRadius, pillRadius, Math.PI, 1.5 * Math.PI);\n  \n      // 上邊緣\n      this.ctx.lineTo(x + rectWidth - pillRadius, y);\n  \n      // 右上角的圓角\n      this.ctx.arc(x + rectWidth - pillRadius, y + pillRadius, pillRadius, 1.5 * Math.PI, 2 * Math.PI);\n  \n      // 右邊緣\n      this.ctx.lineTo(x + rectWidth, y + rectHeight - pillRadius);\n  \n      // 右下角的圓角\n      this.ctx.arc(x + rectWidth - pillRadius, y + rectHeight - pillRadius, pillRadius, 0, 0.5 * Math.PI);\n  \n      // 下邊緣\n      this.ctx.lineTo(x + pillRadius, y + rectHeight);\n  \n      // 左下角的圓角\n      this.ctx.arc(x + pillRadius, y + rectHeight - pillRadius, pillRadius, 0.5 * Math.PI, Math.PI);\n  \n      // 左邊緣\n      this.ctx.lineTo(x, y + pillRadius);\n  \n      this.ctx.closePath();\n  \n      // this.ctx.fillStyle = colorName ? colorName : data.consumableColor ? data.consumableColor : data.color;\n      this.ctx.fillStyle = data.consumableColor ? data.consumableColor : data.color;\n      this.ctx.fill();\n\n\n      if (colorName) {\n        this.pointUnfoldBruisesRendering(data);\n      }\n\n      this.ctx.fillStyle = \"#FFF\";\n      this.ctx.fillText(text, x + paddingX, y + fontSize + paddingY); // 調整文字位置\n\n      if (borderColorName) {\n        this.ctx.strokeStyle = borderColorName;\n        this.ctx.lineWidth = 2;\n        this.ctx.stroke();\n      }\n    },\n    /** 圓點展開的 focus */\n    pointUnfoldFocus(data, strokeColor = \"#42C5FF\") {\n      const remarkData = this.remarkDataSorting(data.showRemarkData);\n      const { codeName } = remarkData;\n\n      const text = `${data.qunatity}${codeName ? ` ${codeName}` : ''}`;\n\n      const textWidth = this.ctx.measureText(text).width * 2;\n      const paddingX = 4;\n      const pillRadius = text.length > 1 ? 12 : 8; // 調整圓角大小\n\n      const rectHeight = 24; \n      const rectWidth = (textWidth / 2) + (paddingX * 2);\n\n      const x = data.x - (rectWidth / 2);             // 指定 x 座標\n      const y = data.y - (rectHeight / 2);            // 指定 y 座標\n\n      const borderPadding = 5;\n      const borderX = x - borderPadding;\n      const borderY = y - borderPadding;\n      const borderWidth = rectWidth + (borderPadding * 2);\n      const borderHeight = rectHeight + (borderPadding * 2);\n      const borderPillRadius = pillRadius + borderPadding;\n\n      this.ctx.beginPath();\n      // 左上角的圓角\n      this.ctx.arc(borderX + borderPillRadius, borderY + borderPillRadius, borderPillRadius, Math.PI, 1.5 * Math.PI);\n\n      // 上邊緣\n      this.ctx.lineTo(borderX + borderWidth - borderPillRadius, borderY);\n\n      // 右上角的圓角\n      this.ctx.arc(borderX + borderWidth - borderPillRadius, borderY + borderPillRadius, borderPillRadius, 1.5 * Math.PI, 2 * Math.PI);\n\n      // 右邊緣\n      this.ctx.lineTo(borderX + borderWidth, borderY + borderHeight - borderPillRadius);\n\n      // 右下角的圓角\n      this.ctx.arc(borderX + borderWidth - borderPillRadius, borderY + borderHeight - borderPillRadius, borderPillRadius, 0, 0.5 * Math.PI);\n\n      // 下邊緣\n      this.ctx.lineTo(borderX + borderPillRadius, borderY + borderHeight);\n\n      // 左下角的圓角\n      this.ctx.arc(borderX + borderPillRadius, borderY + borderHeight - borderPillRadius, borderPillRadius, 0.5 * Math.PI, Math.PI);\n\n      // 左邊緣\n      this.ctx.lineTo(borderX, borderY + borderPillRadius);\n\n      this.ctx.closePath();\n\n      this.ctx.strokeStyle = strokeColor;\n      this.ctx.lineWidth = 2;\n      this.ctx.stroke();\n    },\n    // 繪製 point focus\n    pointFocusDraw(data) {\n      const pointBorder = 2;\n\n      this.ctx.beginPath();\n      this.ctx.arc(data.x, data.y, data.radius + (pointBorder * 2), 0, Math.PI * 2);\n      this.ctx.closePath();\n      this.ctx.strokeStyle = \"#42C5FF\";\n      this.ctx.lineWidth = pointBorder;\n      this.ctx.stroke();\n    },\n    // 計算展開的點的寬度\n    pointUnfoldRectWidth(text) {\n      const fontSize = 16;\n      const paddingX = 4;\n\n      this.ctx.font = `${fontSize}px Arial`;\n      \n      const textWidth = this.ctx.measureText(`${text}`).width * 2;\n      return (textWidth / 2) + (paddingX * 2);\n    },\n    /** 備註資料整理 */\n    remarkDataSorting(showRemarkData) {\n      let codeName = null;        // 使用鈍針 - 文字 C\n      let colorName = null;       // 瘀青 - 背景色\n      let borderColorName = null; // 稀釋 - 外框色\n      showRemarkData.forEach(t => {\n        switch (t.name) {\n          case \"使用鈍針\":\n            codeName = t.codeName;\n            break;\n          case \"瘀青\":\n            colorName = t.colorName;\n            break;\n          case \"稀釋\":\n            borderColorName = t.colorName;\n            break;\n        }\n      });\n\n      return { codeName, colorName, borderColorName };\n    },\n    /** 展開的點 - 瘀青樣式渲染 */\n    pointUnfoldBruisesRendering(data) {\n      const { rectHeight, qunatity, x, y } = data;\n      this.ctx.save();\n      this.ctx.clip();\n\n      const remarkData = this.remarkDataSorting(data.showRemarkData);\n      const { codeName, colorName } = remarkData;\n\n      const text = `${qunatity}${codeName ? ` ${codeName}` : ''}`;\n      const rectWidth = this.pointUnfoldRectWidth(text);\n  \n      this.ctx.strokeStyle = colorName;\n      this.ctx.lineWidth = 1;\n      \n      // 形狀最右上角的 X 點\n      const shapeX = x - (rectWidth / 2);\n\n      // 形狀最右上角的 Y 點\n      const shapeY = y - (rectHeight / 2);\n      \n      // 水平\n      for (let i = shapeY; i < shapeY + rectHeight; i += 5) {\n        this.ctx.beginPath();\n        this.ctx.moveTo(shapeX, i);\n        this.ctx.lineTo(shapeX + rectWidth, i);\n        this.ctx.stroke();\n      }\n\n      // 垂直\n      for (let i = shapeX; i < shapeX + rectWidth; i += 5) {\n        this.ctx.beginPath();\n        this.ctx.moveTo(i, shapeY);\n        this.ctx.lineTo(i, shapeY + rectHeight);\n        this.ctx.stroke();\n      }\n  \n      this.ctx.restore();\n    },\n    /** 點 - 瘀青樣式渲染 */\n    pointBruisesRendering(data) {\n      const { x, y, bruiseColor, radius } = data;\n      this.ctx.save();\n      this.ctx.clip();\n  \n      this.ctx.strokeStyle = bruiseColor;\n      this.ctx.lineWidth = 1;\n      \n      // 水平\n      for (let i = y - radius; i < y + radius; i += 5) {\n        this.ctx.beginPath();\n        this.ctx.moveTo(x - radius, i);\n        this.ctx.lineTo(x + radius, i);\n        this.ctx.stroke();\n      }\n\n      // 垂直\n      for (let i = x - radius; i < x + radius; i += 5) {\n        this.ctx.beginPath();\n        this.ctx.moveTo(i, y - radius);\n        this.ctx.lineTo(i, y + radius);\n        this.ctx.stroke();\n      }\n  \n      this.ctx.restore();\n    }\n  }\n});","import { defineStore } from 'pinia';\nimport fetchApiStore from './fetchApi';\n\nconst fetchApifunction = fetchApiStore();\nconst { fetchApi } = fetchApifunction;\n\nexport default defineStore('courseCorrespondenceDesign Store', {\n  state: () => ({\n    allCourseCorrespondenceDesignNameData: [],\n    initCourseCorrespondenceDesignData: [],\n  }),\n  actions: {\n    // GET\n    /** 取得所有療程對應的設計方案名稱 */\n    async getAllCourseCorrespondenceDesignNameData() {\n      const url = `/api/CourseCorrespondenceDesign/GetAllName`;\n\n      const response = await fetchApi(url);\n\n      this.allCourseCorrespondenceDesignNameData = response.data;\n    },\n    /** 根據療程代號取得療程對應的設計方案相關資料 */\n    async getInitCourseCorrespondenceDesignData(courseId) {\n      const url = `/api/CourseCorrespondenceDesign/GetInitCourseCorrespondenceDesignData?courseId=${courseId}`;\n\n      const response = await fetchApi(url);\n\n      this.initCourseCorrespondenceDesignData = response.data;\n    },\n  }\n});","import { defineStore } from 'pinia';\nimport fetchApiStore from './fetchApi';\n\nconst fetchApifunction = fetchApiStore();\nconst { fetchApi } = fetchApifunction;\n\nexport default defineStore('courseConsumableCorrespondence Store', {\n  state: () => ({\n    courseConsumableCorrespondenceData: [],\n  }),\n  actions: {\n    // GET\n    /** 根據療程代號取得療程耗材相關資料 */\n    async getCourseConsumableCorrespondenceData(courseId) {\n      const url = `/api/CourseConsumableCorrespondence/GetCourseConsumableCorrespondenceData?courseId=${courseId}`;\n\n      const response = await fetchApi(url);\n\n      this.courseConsumableCorrespondenceData = response.data;\n    },\n  }\n});","import { defineStore } from 'pinia';\nimport fetchApiStore from './fetchApi';\n\nconst fetchApifunction = fetchApiStore();\nconst { fetchApi } = fetchApifunction;\n\nexport default defineStore('microCosmeticSurgeryRecords Store', {\n  state: () => ({\n    microCosmeticSurgeryRecordsData: [],\n    initMicroCosmeticSurgeryRecordData: [],\n  }),\n  actions: {\n    // GET\n    /** 根據病歷代號取得微整紀錄相關資料 */\n    async getMicroCosmeticSurgeryRecords(medicalRecordId) {\n      const url = `/api/MicroCosmeticSurgeryRecords/GetMicroCosmeticSurgeryRecords?medicalRecordId=${medicalRecordId}`;\n\n      const response = await fetchApi(url);\n\n      this.microCosmeticSurgeryRecordsData = response.data;\n    },\n    /** 根據客戶代號取得初始化微整紀錄資料 */\n    async getInitMicroCosmeticSurgeryRecordData(customerId, employeeId, date) {\n      const url = `/api/MicroCosmeticSurgeryRecords/GetInitMicroCosmeticSurgeryRecordData?customerId=${customerId}&employeeId=${employeeId}&date=${date}`;\n\n      const response = await fetchApi(url);\n\n      this.initMicroCosmeticSurgeryRecordData = response.data;\n    },\n    // POST\n    /** 新增微整紀錄 */\n    async postMicroCosmeticSurgeryRecords(data) {\n      const url = `/api/MicroCosmeticSurgeryRecords`;\n\n      const options = {\n        method: \"POST\",\n        data,\n      }\n\n      return await fetchApi(url, options);\n    },\n  }\n});","import { defineStore } from 'pinia';\nimport fetchApiStore from './fetchApi';\n\nconst fetchApifunction = fetchApiStore();\nconst { fetchApi } = fetchApifunction;\n\nexport default defineStore('medicalRecord Store', {\n  state: () => ({\n    initExtraMedicalRecordData: [],\n    anestheticInfo: [],\n  }),\n  actions: {\n    // GET\n    /** 取得初始化加診的資料 */\n    async getInitExtraMedicalRecordData(departmentId, customerId) {\n      const url =`/api/MedicalRecord/GetInitExtraMedicalRecordData?departmentId=${departmentId}&customerId=${customerId}`;\n\n      const response = await fetchApi(url);\n\n      console.log(response);\n\n      this.initExtraMedicalRecordData = response.data;\n    },\n    /** 取得上麻資料 */\n    async getAnestheticInfo({customerId, courseId, doctor, date}) {\n\n      const url = `/api/MedicalRecord/GetAnestheticInfo?customerId=${customerId}&courseId=${courseId}&doctor=${doctor}&date=${date}`;\n\n      const response = await fetchApi(url);\n\n      this.anestheticInfo = response.data;\n    },\n    // POST\n    /** 加診 */\n    async createExtraMedicalRecord(data) {\n\n      const url = `/api/MedicalRecord/CreateExtraMedicalRecord`;\n\n      const options = {\n        method: \"POST\",\n        data,\n      }\n\n      return await fetchApi(url, options);\n    },\n  },\n});","import { defineStore } from 'pinia';\nimport fetchApiStore from './fetchApi';\n\nconst fetchApifunction = fetchApiStore();\nconst { fetchApi } = fetchApifunction;\n\nexport default defineStore('course Store', {\n  state: () => ({\n    courseOptionsByType: [],\n  }),\n  actions: {\n    // GET\n    /** 取得療程選項 */\n    async getCourseOptionsByType(courseType) {\n\n      const url = `/api/Course/GetCourseOptionsByType?courseTypeId=${courseType}`;\n\n      const response = await fetchApi(url);\n\n      this.courseOptionsByType = response.data;\n    }\n  }\n});","import { defineStore } from 'pinia';\nimport fetchApiStore from './fetchApi';\n\nconst fetchApifunction = fetchApiStore();\nconst { fetchApi } = fetchApifunction;\n\nexport default defineStore('bodyPart Store', {\n  state: () => ({\n    bodyPartByCourseData: [],\n  }),\n  actions: {\n    // GET\n    /** 取得療程對應的身體部位 */\n    async getBodyPartByCourse(courseId) {\n      const url = `/api/BodyPart/GetBodyPartByCourse?courseId=${courseId}`;\n\n      const response = await fetchApi(url);\n\n      this.bodyPartByCourseData = response.data;\n    }\n  }\n});","<template>\n  <!-- Table -->\n  <table class=\"table table-bordered\">\n    <thead>\n      <tr>\n        <th class=\"font-30 font-weight-600\" v-for=\"item in HATableData.HeaderTh\" :key=\"item.name\" :colspan=\"item.colspan\" scope=\"col\">{{ item.name }}</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr v-for=\"(tr, index) in showHATableData.body\" :key=\"index\">\n        <th v-if=\"tr.rowspan\" :rowspan=\"tr.rowspan\" scope=\"row\"\n            :class=\"{ 'font-30 font-weight-600 text-center' : tr.rowspanName}\">\n            {{ tr.rowspanName ? tr.rowspanName : tr.thName }}\n        </th>\n        <td v-for=\"(td, tdIndex) in tr.td\" class=\"font-weight-600\" :class=\"{ 'font-30 text-center' : td.first}\"\n            :rowspan=\"td.rowspan\"\n            :key=\"tdIndex\"\n            @click=\"openAddDoseAndConsumable(td)\">\n\n            <span>{{ td.name }}{{ td.name && !td.first ? `:` : '' }}</span>\n            <div class=\"d-flex justify-content-center\">\n              <div v-if=\"td.qunatity > 0\"\n                  style=\"height: 24px;\"\n                  :style=\"`background: ${td.courseConsumableColorName}`\"\n                  class=\"d-flex align-items-center justify-content-center rounded-pill p-1\">\n                <p class=\"text-white mb-0\">{{ td.qunatity }} {{ td.codeName }}</p>\n              </div>\n            </div>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n    <!-- Modal -->\n    <div class=\"modal fade\" ref=\"addShapeDataModalRef\">\n      <div class=\"modal-dialog\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">{{ currentModalData.pointName }} : {{ currentModalData.qunatity }}</h5>\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n          </div>\n          <div class=\"modal-body\">\n            <!-- 耗材 -->\n          <div class=\"mb-2\">\n            <h6>耗材</h6>\n            <template v-for=\"item in courseConsumableCorrespondenceData\" :key=\"item.courseConsumableAndUnitData.id\">\n              <div class=\"d-inline-block rounded-10 mb-2 me-2\"\n                  :class=\"{ 'border border-2 border-info p-1' : item.courseConsumableAndUnitData.id === currentModalData.selectedConsumable }\">\n                <button type=\"button\" class=\"btn text-white\"\n                      :style=\"`background: ${item.colorStyleName};`\"\n                      @click=\"currentModalData.selectedConsumable = item.courseConsumableAndUnitData.id\">\n                      {{ item.courseConsumableAndUnitData.name }}\n                </button>\n              </div>\n            </template>\n          </div>\n\n            <!-- 劑量 -->\n            <div class=\"mb-2\">\n              <h6>劑量</h6>\n              <div>\n                <button type=\"button\" class=\"btn btn btn-primary mb-2 me-2\" @click=\"currentModalData.qunatity = 0\">0</button>\n                <button type=\"button\" class=\"btn btn btn-primary mb-2 me-2\" @click=\"currentModalData.qunatity = (parseFloat(currentModalData.qunatity) + 0.1).toFixed(2)\">0.1</button>\n                <button type=\"button\" class=\"btn btn btn-primary mb-2 me-2\" @click=\"currentModalData.qunatity = (parseFloat(currentModalData.qunatity) + 0.2).toFixed(2)\">0.2</button>\n                <button type=\"button\" class=\"btn btn btn-primary mb-2 me-2\" @click=\"currentModalData.qunatity = (parseFloat(currentModalData.qunatity) + 0.3).toFixed(2)\">0.3</button>\n                <button type=\"button\" class=\"btn btn btn-primary mb-2 me-2\" @click=\"currentModalData.qunatity = (parseFloat(currentModalData.qunatity) + 0.5).toFixed(2)\">0.5</button>\n                <button type=\"button\" class=\"btn btn btn-primary mb-2 me-2\" @click=\"currentModalData.qunatity = (parseFloat(currentModalData.qunatity) + 1).toFixed(2)\">1</button>\n                <button type=\"button\" class=\"btn btn btn-primary mb-2 me-2\" @click=\"currentModalData.qunatity = (parseFloat(currentModalData.qunatity) + 0.05).toFixed(2)\">0.05</button>\n              </div>\n            </div>\n\n            <!-- 備註 -->\n          <div class=\"mb-2\">\n            <h6>備註</h6>\n            <div>\n              <div class=\"form-check\"\n                  v-for=\"item in designRemarkRecordDataList\"\n                  :key=\"item.designRemarkId\">\n                <input class=\"form-check-input\" type=\"checkbox\"\n                      :value=\"item.designRemarkId\"\n                      :id=\"item.designRemarkId\"\n                      v-model=\"currentModalData.remarkData\">\n                <label class=\"form-check-label\" :for=\"item.designRemarkId\">\n                  {{ item.name }}\n                </label>\n              </div>\n            </div>\n          </div>\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-alert-second\" data-bs-dismiss=\"modal\">取消</button>\n            <button type=\"button\" class=\"btn btn-alert-main\" @click=\"runPostMicroCosmeticSurgeryRecords()\">確認</button>\n          </div>\n        </div>\n      </div>\n    </div>\n</template>\n\n<script setup>\n  import { onMounted, ref } from 'vue';\n  import { storeToRefs } from 'pinia';\n  import { Modal } from 'bootstrap';\n  import { useRoute } from 'vue-router';\n\n  import drawingToolStore from '@/store/drawingTool.js';\n  import courseCorrespondenceDesignStore from '@/store/courseCorrespondenceDesign.js';\n  import microCosmeticSurgeryRecordsStore from '@/store/microCosmeticSurgeryRecords.js';\n  import courseConsumableCorrespondenceStore from '@/store/courseConsumableCorrespondence.js';\n  import alertMessageStore from '@/store/alertMessage.js';\n\n  const drawingTool = drawingToolStore();\n  const courseCorrespondenceDesign = courseCorrespondenceDesignStore();\n  const microCosmeticSurgeryRecords = microCosmeticSurgeryRecordsStore();\n  const courseConsumableCorrespondence = courseConsumableCorrespondenceStore();\n  const alertMessage = alertMessageStore();\n\n  // state --------------------------------------\n  const { allCourseCorrespondenceDesignNameData, initCourseCorrespondenceDesignData } = storeToRefs(courseCorrespondenceDesign);\n  const { initMicroCosmeticSurgeryRecordData } = storeToRefs(microCosmeticSurgeryRecords);\n  const { courseConsumableCorrespondenceData } = storeToRefs(courseConsumableCorrespondence);\n  // action -------------------------------------\n  const { remarkDataSorting } = drawingTool;\n  const { postMicroCosmeticSurgeryRecords, getInitMicroCosmeticSurgeryRecordData } = microCosmeticSurgeryRecords;\n  const { updateMessage } = alertMessage;\n  // --------------------------------------------\n\n  const route = useRoute();\n\n  const HATableData = {\n    HeaderTh: [\n      {\n        name: 'MD-Codes',\n        colspan: 2,\n      },\n      {\n        name: '右臉',\n        colspan: 3,\n      },\n      {\n        name: '中線',\n        colspan: null,\n      },\n      {\n        name: '左臉',\n        colspan: 3,\n      },\n    ],\n    body: [\n      {\n        colspan: null,\n        rowspan: 5,\n        rowspanName: '上',\n        thName: 'F',\n        td: [\n          {\n            name: 'F',\n            first: true,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'F2右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'F1右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'F3右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'F3左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'F1左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'F2左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          }\n        ],\n      },\n      {\n        colspan: null,\n        rowspan: null,\n        rowspanName: null,\n        thName: 'G',\n        td: [\n          {\n            name: 'G',\n            first: true,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'G1右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'G2',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'G1左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n        ],\n      },\n      {\n        colspan: null,\n        rowspan: null,\n        rowspanName: null,\n        thName: 'E',\n        td: [\n          {\n            name: 'E',\n            first: true,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'E1右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'E2右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'E3右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'E3左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'E2左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'E1左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          }\n        ],\n      },\n      {\n        colspan: null,\n        rowspan: null,\n        rowspanName: null,\n        thName: 'T',\n        td: [\n          {\n            name: 'T',\n            first: true,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'T2右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'T1右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'T1左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'T2左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          }\n        ],\n      },\n      {\n        colspan: null,\n        rowspan: null,\n        rowspanName: null,\n        thName: 'O',\n        td: [\n          {\n            name: 'O',\n            first: true,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'O3右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'O1右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'O2右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'O3左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'O1左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'O2左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          }\n        ],\n      },\n      // 中\n      {\n        colspan: null,\n        rowspan: 8,\n        rowspanName: '中',\n        thName: 'N',\n        td: [\n          {\n            name: 'N',\n            first: true,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'N3',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'N4',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'N5',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'N1',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'N2',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          }\n        ],\n      },\n      {\n        colspan: null,\n        rowspan: null,\n        rowspanName: null,\n        thName: 'TT',\n        td: [\n          {\n            name: 'TT',\n            first: true,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'TT2右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'TT1右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'TT3右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'TT3左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'TT1左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'TT2左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          }\n        ],\n      },\n      {\n        colspan: null,\n        rowspan: null,\n        rowspanName: null,\n        thName: 'CK',\n        td: [\n          {\n            name: 'CK',\n            first: true,\n            colspan: null,\n            rowspan: 4,\n          },\n          {\n            name: 'CK1右後',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'CK1右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'CK1右前',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'CK1左前',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'CK1左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'CK1左後',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          }\n        ],\n      },\n      {\n        colspan: null,\n        rowspan: null,\n        rowspanName: null,\n        thName: null,\n        td: [\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'CK2右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'CK1*右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'CK1*左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'CK2左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          }\n        ],\n      },\n      {\n        colspan: null,\n        rowspan: null,\n        rowspanName: null,\n        thName: null,\n        td: [\n          {\n            name: 'CK3右外',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'CK3右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'CK3右內',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'CK3左內',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'CK3左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'CK3左外',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          }\n        ],\n      },\n      {\n        colspan: null,\n        rowspan: null,\n        rowspanName: null,\n        thName: null,\n        td: [\n          {\n            name: 'CK4右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'CK5右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'CK5左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'CK4左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          }\n        ],\n      },\n      {\n        colspan: null,\n        rowspan: null,\n        rowspanName: null,\n        thName: 'NL',\n        td: [\n          {\n            name: 'NL',\n            first: true,\n            colspan: null,\n            rowspan: 2,\n          },\n          {\n            name: 'NL3右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'NL2右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'NL1右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'NL1左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'NL2左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'NL3左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          }\n        ],\n      },\n      {\n        colspan: null,\n        rowspan: null,\n        rowspanName: null,\n        thName: null,\n        td: [\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'NL1右深',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'NL1左深',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          }\n        ],\n      },\n      // 下\n      {\n        colspan: null,\n        rowspan: 12,\n        rowspanName: '下',\n        thName: 'LP',\n        td: [\n          {\n            name: 'LP',\n            first: true,\n            colspan: null,\n            rowspan: 4,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'LP7',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          }\n        ],\n      },\n      {\n        colspan: null,\n        rowspan: null,\n        rowspanName: null,\n        thName: null,\n        td: [\n          {\n            name: 'LP6右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'LP2右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'LP2左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'LP6左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n        ],\n      },\n      {\n        colspan: null,\n        rowspan: null,\n        rowspanName: null,\n        thName: null,\n        td: [\n          {\n            name: 'LP3上',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'LP8右上',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'LP1右上',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'LP4',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'LP1左上',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'LP8左上',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n        ],\n      },\n      {\n        colspan: null,\n        rowspan: null,\n        rowspanName: null,\n        thName: null,\n        td: [\n          {\n            name: 'LP3下',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'LP8右下',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'LP1右下',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'LP5右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'LP5左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'LP1左下',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'LP8左下',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n        ],\n      },\n      {\n        colspan: null,\n        rowspan: null,\n        rowspanName: null,\n        thName: 'C',\n        td: [\n          {\n            name: 'C',\n            first: true,\n            colspan: null,\n            rowspan: 3,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'C1右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'C1左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n        ],\n      },\n      {\n        colspan: null,\n        rowspan: null,\n        rowspanName: null,\n        thName: null,\n        td: [\n          {\n            name: 'C6右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'C3右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'C4',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'C3左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'C6左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n        ],\n      },\n      {\n        colspan: null,\n        rowspan: null,\n        rowspanName: null,\n        thName: null,\n        td: [\n          {\n            name: 'C5右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'C2右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'C2',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'C2左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'C5左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n        ],\n      },\n      {\n        colspan: null,\n        rowspan: null,\n        rowspanName: null,\n        thName: 'M',\n        td: [\n          {\n            name: 'M',\n            first: true,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'M3右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'M2右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'M1右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'M1左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'M2左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'M3左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n        ],\n      },\n      {\n        colspan: null,\n        rowspan: null,\n        rowspanName: null,\n        thName: 'JW',\n        td: [\n          {\n            name: 'JW',\n            first: true,\n            colspan: null,\n            rowspan: 3,\n          },\n          {\n            name: 'JW2右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'JW2左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n        ],\n      },\n      {\n        colspan: null,\n        rowspan: null,\n        rowspanName: null,\n        thName: null,\n        td: [\n          {\n            name: 'JW1右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'JW1左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n        ],\n      },\n      {\n        colspan: null,\n        rowspan: null,\n        rowspanName: null,\n        thName: null,\n        td: [\n          {\n            name: 'JW3右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'JW4右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'JW5右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'JW5左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'JW4左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'JW3左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n        ],\n      },\n      {\n        colspan: null,\n        rowspan: null,\n        rowspanName: null,\n        thName: 'NK',\n        td: [\n          {\n            name: 'NK',\n            first: true,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '右手背',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'NK右',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: 'NK左',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n          {\n            name: '左手背',\n            first: false,\n            colspan: null,\n            rowspan: null,\n          },\n        ],\n      },\n    ],\n  };\n\n  const showHATableData = ref({});\n\n  // Modal data\n  const currentModalData = ref({\n    selectedConsumable: null, // 已選擇的療耗\n    remarkData: [],           // 已選擇的備註\n    qunatity: 0,              // 劑量\n    pointName: null,          // 名稱\n    designContentId: null,\n  });\n\n  // 備註\n  const designRemarkRecordDataList = ref([]);     // 顯示用備註選項\n\n  const addShapeDataModalRef = ref(null);\n  let addShapeDataModal;\n\n  let currentMedicalRecordId;\n\n  onMounted(() => {\n    addShapeDataModal = new Modal(addShapeDataModalRef.value);\n  })\n\n  initAndUpdate();\n\n  /** 初始與更新 */\n  async function initAndUpdate() {\n\n    // 取有資料的點位\n    await getInitMicroCosmeticSurgeryRecordData(route.params.customerId, route.params.operator, route.params.arrivedTime);\n\n    const courseId = allCourseCorrespondenceDesignNameData.value.find(item => item.courseName === 'HA').courseId;\n\n    // 取當前病歷 id\n    currentMedicalRecordId = initMicroCosmeticSurgeryRecordData.value.find(item => item.medicalRecordBasicDatas.courseId === courseId).medicalRecordBasicDatas.id;\n\n    const { designRemarkRecordData, designContentData } = initCourseCorrespondenceDesignData.value;\n\n    // 備註選項\n    designRemarkRecordDataList.value = designRemarkRecordData;\n\n    // 複製 HATableData\n    showHATableData.value = JSON.parse(JSON.stringify(HATableData));\n\n    const { body } = showHATableData.value;\n\n    // 給予表格 designContentId (點的 Id)\n    body.forEach(item => {\n      item.td.forEach(t => {\n        const point = designContentData.find(t2 => t2.pointName === t.name);\n\n        if (point) {\n          t.designContentId = point.designContentId;\n          t.medicalRecordId = currentMedicalRecordId;\n          t.qunatity = 0;\n          t.courseConsumableId = null;\n          t.courseConsumableColorName = null;\n          t.designRemark = [];\n          t.codeName = null;\n        }\n      })\n    })\n\n    let allMicroCosmeticSurgeryRecordsDatas = [];\n\n    // 收集有資料的點成為同一個陣列\n    initMicroCosmeticSurgeryRecordData.value.forEach(item => {\n      allMicroCosmeticSurgeryRecordsDatas = [...allMicroCosmeticSurgeryRecordsDatas, ...item.microCosmeticSurgeryRecordsDatas];\n    })\n\n    // 將有資料的點放入表格\n    body.forEach(item => {\n      item.td.forEach(t => {\n        const haveDataPoint = allMicroCosmeticSurgeryRecordsDatas.find(t2 => t2.designContentId === t.designContentId);\n\n        if (haveDataPoint) {\n          const { designRemarkRecordData, courseConsumableId, courseConsumableColorName, qunatity } = haveDataPoint;\n\n          const remarkData = remarkDataSorting(designRemarkRecordData);\n          const { codeName } = remarkData;\n\n          t.medicalRecordId = currentMedicalRecordId;\n          t.qunatity = qunatity;\n          t.courseConsumableId = courseConsumableId;\n          t.courseConsumableColorName = courseConsumableColorName;\n          t.designRemarkRecordData = designRemarkRecordData;\n          t.designRemark = designRemarkRecordData.map(t => t.designRemarkId);\n          t.codeName = codeName;\n        }\n      })\n    })\n  }\n\n  /** 開啟新增劑量和療耗 */\n  function openAddDoseAndConsumable(td) {\n    const tdItem = Object.assign({}, td);\n    if (tdItem.designContentId) {\n      const { designContentId, name, courseConsumableId, designRemark, qunatity } = tdItem;\n      currentModalData.value.designContentId = designContentId;\n      currentModalData.value.pointName = name;\n      currentModalData.value.selectedConsumable = courseConsumableId;\n      currentModalData.value.remarkData = designRemark;\n      currentModalData.value.qunatity = qunatity;\n\n      addShapeDataModal.show();\n    }\n  }\n  \n  /** 確認 */\n  async function runPostMicroCosmeticSurgeryRecords() {\n\n    const { body } = showHATableData.value;\n\n    const { designContentId, qunatity, selectedConsumable, remarkData } = currentModalData.value;\n\n    // 驗證 - 劑量 和 療耗 不可缺\n    if (qunatity <= 0 || !selectedConsumable) {\n      updateMessage('尚有點位無劑量或無療耗');\n      return null;\n    }\n\n    let data = [];\n    \n    // 將新劑量、療耗放入 showHATableData，並將資料收集成一個陣列\n    body.forEach(tr => {\n      tr.td.forEach(item => {\n        if (item.designContentId && item.designContentId === designContentId) {\n          item.courseConsumableId = selectedConsumable;\n          item.designRemark = remarkData;\n          item.qunatity = qunatity;\n        }\n\n        data.push(item);\n      });\n    })\n\n    // 資料整理成 API 需要的格式\n    data = data.filter(item => item.designContentId && item.qunatity && item.courseConsumableId)\n                .map(item => {\n                  return {\n                    medicalRecordId: item.medicalRecordId,\n                    designContentId: item.designContentId,\n                    courseConsumableId: item.courseConsumableId,\n                    qunatity: item.qunatity,\n                    designRemarkId: item.designRemark\n                  }\n                });\n    \n    const response = await postMicroCosmeticSurgeryRecords(data);\n\n    if (response.statusCode === 200) {\n      initAndUpdate();\n      addShapeDataModal.hide();\n    }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  td {\n    height: 80px;\n  }\n\n  .font-30 {\n    font-size: 25px;\n  }\n\n  .font-weight-600 {\n    font-weight: 600;\n  }\n</style>","import script from \"./HATable.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./HATable.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./HATable.vue?vue&type=style&index=0&id=d471a8fa&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\shang\\\\OneDrive\\\\桌面\\\\amis\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-d471a8fa\"]])\n\nexport default __exports__","<template>\n  <div class=\"container-xxl\">\n    <div class=\"bg-white p-4 rounded-15\">\n      <ul class=\"custom-nav mb-4\">\n        <li v-for=\"(item, index) in showAllCourseCorrespondenceDesignNameData\" :key=\"item.courseId\">\n          <a class=\"custom-nav-link\" href=\"#\" @click.prevent=\"clickCourseNav(index)\"\n            :class=\"{ 'active' : courseActiveIndex === index, 'text-gray3' : !nonExtraCourseIds.some(t => t === item.courseId) }\">\n            {{ item.courseName }}\n          </a>\n        </li>\n      </ul>\n      <div>\n\n      </div>\n\n      <button type=\"button\" class=\"btn btn btn-primary position-absolute\" style=\"top: 178px\"\n              v-if=\"showAllCourseCorrespondenceDesignNameData[courseActiveIndex] &&\n                    showAllCourseCorrespondenceDesignNameData[courseActiveIndex].courseName === 'HA' &&\n                    !showHAStatus\"\n              @click=\"switchShowHAStatus\">\n              \n              {{ !showHAStatus ? 'Table' : 'Face' }}\n      </button>\n\n      <button type=\"button\" class=\"btn btn btn-primary position-sticky mb-3\" style=\"top: 16px\"\n              v-if=\"showAllCourseCorrespondenceDesignNameData[courseActiveIndex] &&\n                    showAllCourseCorrespondenceDesignNameData[courseActiveIndex].courseName === 'HA' &&\n                    showHAStatus\"\n              @click=\"switchShowHAStatus\">\n              \n              {{ !showHAStatus ? 'Table' : 'Face' }}\n      </button>\n\n      <!-- Table -->\n      <HATable v-if=\"showAllCourseCorrespondenceDesignNameData[courseActiveIndex] && showAllCourseCorrespondenceDesignNameData[courseActiveIndex].courseName === 'HA' && showHAStatus === true\"></HATable>\n\n      <!-- Face -->\n      <div v-else>\n        <div class=\"text-center mb-2\">\n          <canvas id=\"canvas\" @click=\"clickShape($event)\"></canvas>\n        </div>\n\n        <div class=\"d-flex justify-content-center\">\n          <div class=\"me-2 cursor-pointer bg-info\"\n              v-for=\"(item, index) in faceMapPartsAndImageFileDataList\" :key=\"item.faceMapPartsId\"\n              @click=\"facePageChange(index)\"\n              :class=\"faceMapPartsAndImageFileIndex === index ? 'bg-main-dark1' : facePageJudge.some(t => t === index) ? 'bg-danger' : 'bg-gray3'\"\n              style=\"width: 30px; height: 4px;\">\n          </div>\n        </div>\n\n        <div>\n          <!-- 本次總治療量 -->\n          <div class=\"mb-2\">\n            <div class=\"mb-1 d-flex justify-content-between align-items-center\">\n              <h6 class=\"mb-0\">本次總治療量: {{ totalDose }}</h6>\n\n              <button type=\"button\" class=\"btn btn btn-primary\"\n                      @click=\"runPostMicroCosmeticSurgeryRecords()\">\n                      確定\n              </button>\n            </div>\n          </div>\n\n          <!-- 耗材 -->\n          <div class=\"mb-2\">\n            <h6>耗材</h6>\n            <template v-for=\"item in courseConsumableCorrespondenceData\" :key=\"item.courseConsumableAndUnitData.id\">\n              <div class=\"d-inline-block rounded-10 mb-2 me-2\"\n                  :class=\"{ 'border border-2 border-info p-1' : selectedConsumable && item.courseConsumableAndUnitData.id === selectedConsumable.courseConsumableAndUnitData.id }\">\n                <button type=\"button\" class=\"btn text-white\"\n                      :style=\"`background: ${item.colorStyleName};`\"\n                      @click=\"selectConsumable(item)\">\n                      {{ item.courseConsumableAndUnitData.name }}\n                </button>\n              </div>\n            </template>\n          </div>\n\n          <!-- 劑量 (HA) -->\n          <div class=\"mb-2\" v-if=\"showAllCourseCorrespondenceDesignNameData[courseActiveIndex] && showAllCourseCorrespondenceDesignNameData[courseActiveIndex].courseName === 'HA'\">\n            <h6>劑量</h6>\n            <div>\n              <button type=\"button\" class=\"btn btn btn-primary mb-2 me-2\" @click=\"clickDose(0)\">0</button>\n              <button type=\"button\" class=\"btn btn btn-primary mb-2 me-2\" @click=\"clickDose(0.1)\">0.1</button>\n              <button type=\"button\" class=\"btn btn btn-primary mb-2 me-2\" @click=\"clickDose(0.2)\">0.2</button>\n              <button type=\"button\" class=\"btn btn btn-primary mb-2 me-2\" @click=\"clickDose(0.3)\">0.3</button>\n              <button type=\"button\" class=\"btn btn btn-primary mb-2 me-2\" @click=\"clickDose(0.5)\">0.5</button>\n              <button type=\"button\" class=\"btn btn btn-primary mb-2 me-2\" @click=\"clickDose(1)\">1</button>\n              <button type=\"button\" class=\"btn btn btn-primary mb-2 me-2\" @click=\"clickDose(0.05)\">0.05</button>\n            </div>\n          </div>\n\n          <!-- 劑量 (Botox) -->\n          <div class=\"mb-2\" v-else-if=\"showAllCourseCorrespondenceDesignNameData[courseActiveIndex] && showAllCourseCorrespondenceDesignNameData[courseActiveIndex].courseName === 'Botox'\">\n            <h6>劑量</h6>\n            <div>\n              <button type=\"button\" class=\"btn btn btn-primary mb-2 me-2\" @click=\"clickDose(0)\">0</button>\n              <button type=\"button\" class=\"btn btn btn-primary mb-2 me-2\" @click=\"clickDose(0.5)\">0.5</button>\n              <button type=\"button\" class=\"btn btn btn-primary mb-2 me-2\" @click=\"clickDose(1)\">1</button>\n              <button type=\"button\" class=\"btn btn btn-primary mb-2 me-2\" @click=\"clickDose(2)\">2</button>\n              <button type=\"button\" class=\"btn btn btn-primary mb-2 me-2\" @click=\"clickDose(3)\">3</button>\n              <button type=\"button\" class=\"btn btn btn-primary mb-2 me-2\" @click=\"clickDose(5)\">5</button>\n              <button type=\"button\" class=\"btn btn btn-primary mb-2 me-2\" @click=\"clickDose(10)\">10</button>\n            </div>\n          </div>\n\n          <!-- 劑量 (音波 Ulthera) -->\n          <div class=\"mb-2\" v-else-if=\"showAllCourseCorrespondenceDesignNameData[courseActiveIndex] && showAllCourseCorrespondenceDesignNameData[courseActiveIndex].courseName === 'Ulthera'\">\n            <h6>劑量</h6>\n            <div>\n              <button type=\"button\" class=\"btn btn btn-primary mb-2 me-2\" @click=\"clickDose(0)\">0</button>\n              <button type=\"button\" class=\"btn btn btn-primary mb-2 me-2\" @click=\"clickDose(1)\">1</button>\n              <button type=\"button\" class=\"btn btn btn-primary mb-2 me-2\" @click=\"clickDose(2)\">2</button>\n              <button type=\"button\" class=\"btn btn btn-primary mb-2 me-2\" @click=\"clickDose(5)\">5</button>\n              <button type=\"button\" class=\"btn btn btn-primary mb-2 me-2\" @click=\"clickDose(10)\">10</button>\n              <button type=\"button\" class=\"btn btn btn-primary mb-2 me-2\" @click=\"clickDose(20)\">20</button>\n              <button type=\"button\" class=\"btn btn btn-primary mb-2 me-2\" @click=\"clickDose(50)\">50</button>\n              <button type=\"button\" class=\"btn btn btn-primary mb-2 me-2\" @click=\"clickDose(100)\">100</button>\n            </div>\n          </div>\n\n          <!-- 劑量 -->\n          <div class=\"mb-2\" v-else>\n            <h6>劑量</h6>\n            <div>\n              <button type=\"button\" class=\"btn btn btn-primary mb-2 me-2\"\n                      @click=\"clickDose(0)\">\n                      0\n              </button>\n\n              <button type=\"button\" class=\"btn btn btn-primary mb-2 me-2\"\n                      @click=\"clickDose(0.5)\">\n                      +0.5\n              </button>\n\n              <button v-for=\"num in 5\" :key=\"num\"\n                      type=\"button\" class=\"btn btn btn-primary mb-2 me-2\"\n                      @click=\"clickDose(num)\">\n                      +{{ num }}\n              </button>\n\n            </div>\n          </div>\n\n          <!-- 備註 -->\n          <div class=\"mb-2\">\n            <h6>備註</h6>\n            <div>\n              <div class=\"form-check\"\n                  v-for=\"item in designRemarkRecordDataList\"\n                  :key=\"item.designRemarkId\">\n                <input class=\"form-check-input\" type=\"checkbox\"\n                      @change=\"clickRemarkOption()\"\n                      :value=\"item.designRemarkId\"\n                      :id=\"item.designRemarkId\"\n                      v-model=\"remarkData\">\n                <label class=\"form-check-label\" :for=\"item.designRemarkId\">\n                  {{ item.name }}\n                </label>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 加診  ExtraModal -->\n    <div class=\"modal fade\" ref=\"extraModalRef\">\n      <div class=\"modal-dialog modal-760\">\n        <div class=\"modal-content p-0 bg-transparent\">\n          <h5 class=\"mb-0 py-3 text-center fw-500 bg-main-dark1 text-white rounded-top-20\">加 診</h5>\n\n          <div class=\"bg-white py-7 px-10\">\n            <div class=\"row align-items-center mb-3\">\n              <div class=\"col-5\">\n                <div class=\"d-flex py-2 text-main-dark2\">\n                  \n                  <span class=\"amis-btn-lg amis-btn-lg-name p-0\">\n                    <span class=\"mb-0 fw-500 me-3 align-middle text-main-dark2\">客戶姓名</span>\n                    <div class=\"amis-btn-lg-name-bg bg-main-dark2 me-1\">\n                      <span class=\"amis-btn-lg-name-item text-white\">\n                        {{ extraModalData.beauticianNickname }}\n                      </span>\n                    </div>\n                    <span class=\"align-middle\">\n                      {{ extraModalData.name }} {{ extraModalData.birthday }}\n                    </span>\n                  </span>\n                </div>\n              </div>\n\n                <div class=\"col-7\">\n                  <div class=\"row gx-3 align-items-center\">\n                    <div class=\"col-auto\">\n                      <label class=\"col-form-label text-main-dark2\">療程項目</label>\n                    </div>\n                    <div class=\"col-4\">\n                      <select class=\"rounded-pill me-2 form-select\" disabled\n                            v-model=\"extraModalData.courseType\"\n                            @change=\"changeCourseType(extraModalData.courseType)\">\n                      <option selected v-if=\"extraModalData.courseType === null\" :value=\"null\"></option>\n                      <option v-for=\"item in commonDataList.courseTypes\"\n                              :key=\"item.id\"\n                              :value=\"item.id\">\n                              {{ item.name }}\n                      </option>\n                    </select>\n                    </div>\n\n                    <div class=\"col-4\">\n                      <select class=\"rounded-pill form-select\" v-if=\"extraModalData.courseType !== null\" disabled\n                            v-model=\"extraModalData.courseId\"\n                            @change=\"changeCourseId(extraModalData.courseId)\">\n                      <option selected v-if=\"extraModalData.courseId === null\" :value=\"null\"></option>\n                      <option v-for=\"item in courseOptionsByType\"\n                              :key=\"item.courseId\"\n                              :value=\"item.courseId\">\n                              {{ item.courseName }}\n                      </option>\n                    </select>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"row align-items-center mb-3\">\n                <!-- 指定醫師 -->\n                <div class=\"col-5\">\n                  <div class=\"d-flex\">\n                    <label class=\"input-group-text text-main-dark2 mb-0 me-3 border-0 p-0 bg-transparent\">指定醫師</label>\n                    <select class=\"rounded-pill form-select\" style=\"width: 45%;\" disabled\n                            v-model=\"extraModalData.operatorId\"\n                            @change=\"getAnestheticInfo()\">\n                      <option selected v-if=\"extraModalData.operatorId === null\" :value=\"null\"></option>\n                      <option v-for=\"item in commonDataList.operators\"\n                              :key=\"item.operatorId\"\n                              :value=\"item.operatorId\">\n                              {{ item.operatorName }}\n                      </option>\n                    </select>\n                  </div>\n                </div>\n\n                <!-- 麻醉 -->\n                <div class=\"col-7\" v-if=\"anestheticInfo === null\">\n                  <div class=\"row gx-3 align-items-center\">\n                    <div class=\"col-auto\">\n                      <label class=\"col-form-label text-main-dark2\">\n                        <span class=\"me-8\">麻</span><span>醉</span>\n                      </label>\n                    </div>\n                    <div class=\"col-4\">\n                      <select class=\"rounded-pill form-select\" v-model=\"extraModalData.anesthesiaType\" disabled>\n                        <option selected v-if=\"extraModalData.anesthesiaType === null\" :value=\"null\"></option>\n                        <option v-for=\"item in commonDataList.anesthesiaTypes\"\n                                :key=\"item.id\"\n                                :value=\"item.id\">\n                                {{ item.name }}\n                        </option>\n                    </select>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"input-group mb-3\" v-if=\"extraModalData.courseType !== 'IV'\">\n                <p class=\"input-group-text text-main-dark2 mb-0 me-3 border-0 p-0 bg-transparent\">治療部位</p>\n                <div class=\"p-0 rounded-15 position-relative form-select\"\n                    @click.stop=\"openAppointmentBodyPartsWindow()\">\n                  <button type=\"button\" class=\"d-flex flex-wrap border-0 pt-2 rounded-15 bg-transparent\"\n                          style=\"width: 90%; min-height: 51px;\">\n                    <button type=\"button\" v-for=\"item in bodyParts\" :key=\"item.id\"\n                            class=\"amis-badge amis-badge-second3 me-1 mb-1\"\n                            @click.stop=\"deleteAppointmentBodyPartsItem(item)\">\n                            <span class=\"align-middle me-2\">{{ item.name }}</span>\n                            <img class=\"align-middle\" src=\"@/assets/stylesheets/icon/X-01.png\" alt=\"icon\" width=\"10\" height=\"10\">\n                    </button>\n                  </button>\n                  <!-- 治療部位下拉 -->\n                  <div class=\"position-absolute bg-gray1 rounded-15 w-100 pt-5 pb-3 px-5 border border-1 border-gray3\"\n                        style=\"z-index: 10; top: 110%;;\"\n                        v-show=\"bodyPartsWindow\"\n                        data-to=\"true\"\n                        @click.stop=\"null\">\n                    <div class=\"scroll-content-none\" style=\"max-height: 170px\">\n                      <div class=\"form-check mb-2\" v-for=\"item in bodyPartByCourseData\" :key=\"item.id\"\n                          @change=\"selectedBodyParts(item, $event)\">\n                        <input class=\"form-check-input\" type=\"checkbox\"\n                        :value=\"item\"\n                        :id=\"`bodyPart${item.id}`\"\n                        v-model=\"bodyParts\">\n                        <label class=\"form-check-label text-main-dark2 d-block\" :for=\"`bodyPart${item.id}`\">\n                          {{ item.name }}\n                        </label>\n                      </div>\n\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"col-12\" v-if=\"otherBodyPartJudge\">\n                  <div class=\"input-group mb-3\">\n                    <label class=\"input-group-text align-items-start text-main-dark2 mb-0 border-0 p-0 bg-transparent\" style=\"width: 80px\"></label>\n                    <div class=\"position-relative\" style=\"\n                                flex: 1 1 auto;\n                                width: 1%;\n                                min-width: 0;\">\n                      <a href=\"#\" class=\"position-absolute\" style=\"top: 4px;\"\n                        v-if=\"otherPartHistoryData.length !== 0\"\n                        @click.prevent.stop=\"openHistoryCourseWindow()\">\n                        <img src=\"@/assets/stylesheets/icon/TIME-02.png\" alt=\"\" width=\"20\" height=\"20\">\n                      </a>\n                      <!-- 其他部位 -->\n                      <div class=\"position-absolute\" v-show=\"historyCourseWindow\"\n                            style=\"min-width: 223px; z-index: 10; left: 28px;\">\n                        <div class=\"bg-gray1 border border-gray3 rounded-15\">\n                          <table class=\"otherBodyPartTable text-main-dark1\">\n                            <thead>\n                              <tr>\n                                <th>其他部分</th>\n                                <th>大小</th>\n                                <th>金額</th>\n                              </tr>\n                            </thead>\n                            <tbody>\n                              <tr v-for=\"item in otherPartHistoryData\" :key=\"item\"\n                                  @click=\"selectUpdateBasicDataAndFeeData(item)\">\n                                <td>{{ item.part }}</td>\n                                <td>{{ item.scope }} cm</td>\n                                <td>{{ item.price }}</td>\n                              </tr>\n                            </tbody>\n                          </table>\n                        </div>\n                      </div>\n                      \n                        <div class=\"d-inline-block ms-10\">\n                          <div class=\"row align-items-center mb-3 gx-0\" v-for=\"(item, index) in otherBodyPartLength\" :key=\"`key${item}`\">\n                            <div class=\"col-1\">\n                              <span class=\"input-group-text text-main-dark2 mb-0 border-0 p-0 bg-transparent\">其他</span>\n                            </div>\n\n                            <div class=\"col-11\">\n                              <div class=\"row\">\n                                <div class=\"col-5\">\n                                  <input type=\"text\" class=\"form-control rounded-pill text-main-dark2\"\n                                      placeholder=\"部位\"\n                                      v-model=\"otherBodyParts[index].part\"\n                                      @blur=\"otherBodyPartInputBlur(index)\">\n                                </div>\n                                <div class=\"col-5\">\n                                  <input type=\"text\" class=\"form-control rounded-pill text-main-dark2 me-4\"\n                                      placeholder=\"大小\"\n                                      v-model=\"otherBodyParts[index].scope\"\n                                      @blur=\"otherBodyScopeInputBlur(index)\">\n                                </div>\n                                <div class=\"col-2\">\n                                  <div class=\"d-flex align-items-center h-100\">\n                                    <a href=\"#\" v-if=\"otherBodyPartLength !== 1\" :class=\"{'me-2' : otherBodyPartLength !== 1}\"\n                                        @click.prevent=\"deleteOtherBodyPartLength(index)\">\n                                        <img src=\"@/assets/stylesheets/icon/--05.png\" alt=\"\" width=\"20\" height=\"20\">\n                                      </a>\n                                      <div style=\"width: 28px; height: 20px;\"  v-if=\"otherBodyPartLength === 1\"></div>\n                                      <a href=\"#\" v-if=\"item === otherBodyPartLength\"\n                                        @click.prevent=\"addOtherBodyPartLength()\">\n                                        <img src=\"@/assets/stylesheets/icon/+-04.png\" alt=\"\" width=\"20\" height=\"20\">\n                                      </a>\n                                  </div>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n              <div class=\"input-group\">\n                <label class=\"input-group-text align-items-start text-main-dark2 mb-0 me-3 border-0 p-0 bg-transparent\"\n                        for=\"inputGroupSelect01\"><span class=\"me-8\">備</span><span>註</span></label>\n                <textarea class=\"form-control rounded-15\" rows=\"3\" v-model=\"extraModalData.comment\"></textarea>\n              </div>\n            </div>\n\n            <div style=\"min-height: 458px; max-height: 458px;\"\n                class=\"scroll-content-none bg-white py-5 px-10\"\n                :class=\"{ 'border-top border-2 border-gray2' : allBodyParts.length !== 0 && extraModalData.courseType !== 'MicroPlasticSurgery'}\">\n\n              <div v-if=\"allBodyParts.length !== 0\">\n                <!-- 同療程、同醫師時，美容耗材、麻藥費用不用顯示 -->\n                <div v-if=\"anestheticInfo === null && extraModalData.anesthesiaType !== 'None' && extraModalData.courseType !== 'MicroPlasticSurgery'\">\n\n                  <div class=\"row g-3 align-items-center mb-3\">\n                    <div class=\"col-auto\">\n                      <label for=\"inputPassword6\" class=\"col-form-label\">麻藥費用</label>\n                    </div>\n                    <div class=\"col-3\">\n                      <select class=\"rounded-pill form-select text-main-dark2\"\n                              @change=\"calculateFee(extraModalData.anestheticFee)\"\n                              v-model=\"extraModalData.anestheticFee\">\n                        <option v-if=\"extraModalData.anestheticFee === null\" :value=\"null\"></option>\n                        <option v-for=\"item in commonDataList.anestheticFees\"\n                                :key=\"item.id\"\n                                :value=\"item.id\">\n                                {{ item.name }}\n                        </option>\n                      </select>\n                    </div>\n\n                    <div class=\"col-3\" v-if=\"extraModalData.anestheticFee !== 'Free'\">\n                      <select class=\"rounded-pill form-select text-white\" disabled v-model=\"extraModalData.received\">\n                        <option v-if=\"extraModalData.received === null\" selected disabled :value=\"null\"></option>\n                        <option :value=\"true\">費用已收</option>\n                        <option :value=\"false\">費用未收</option>\n                      </select>\n                    </div>\n                  </div>\n                </div>\n\n                <!-- 同療程、同醫師時顯示 -->\n                <div v-if=\"anestheticInfo !== null\" class=\"d-flex text-main-dark2 mb-3\">\n                  <h6 class=\"fw-500 mb-0 me-3\">是否上麻</h6>\n                  <h6 class=\"mb-0\">{{ anestheticInfo.anesthesiaSituationName }} / {{ anestheticInfo.anestheticFee }} 元 / {{ anestheticInfo.received ? '費用已收' : '費用未收'}}</h6>\n                </div>\n\n                <div v-if=\"extraModalData.courseType !== 'MicroPlasticSurgery'\">\n                  <h6 class=\"text-main-dark2 fw-500 mb-3\">支付方式</h6>\n\n                  <template v-for=\"(item, index) in allBodyParts\" :key=\"item\">\n                    <div class=\"ps-7\">\n                      <p class=\"fw-500 mb-2\" v-if=\"item.id !== 'Other'\">{{ item.name }} :</p>\n                      <p class=\"fw-500 mb-2\" v-else>{{ item.name }} / {{ item.part }} :</p>\n                      <div class=\"p-0 rounded-15 mb-2 form-select\"\n                          @click.stop=\"openPaymentMethodOption(index)\">\n                        <!-- form-control -->\n                        <button type=\"button\" class=\"d-flex flex-wrap border-0 pt-2 pb-0 rounded-15 bg-transparent\"\n                                style=\"width: 90%; min-height: 51px;\">\n                          <button type=\"button\" v-for=\"item in paymentMethodData[index].paymentMethod\" :key=\"`${item.id}${index}`\"\n                                  @click.stop=\"deleteSelectedPaymentMethod(item, index)\"\n                                  class=\"amis-badge amis-badge-second3 me-1 mb-2\">\n                                  <span class=\"align-middle me-2\">{{ item.name }}</span>\n                                  <img class=\"align-middle\" src=\"@/assets/stylesheets/icon/X-01.png\" alt=\"icon\" width=\"10\" height=\"10\">\n                          </button>\n                        </button>\n                      </div>\n\n                      <!-- 支付方式下拉 -->\n                      <template v-if=\"allBodyParts[index].id !== 'Other'\">\n                        <div class=\"bg-gray1 rounded-15 w-100 pt-5 pb-3 px-5 border border-1 border-gray3 mb-2\"\n                          v-show=\"paymentMethodSwitch[index].switch\"\n                          data-to=\"true\"\n                          @click.stop=\"null\">\n                          <div class=\"scroll-content-none\" style=\"max-height: 170px\">\n                            <div class=\"form-check mb-2\" v-for=\"item in paymentMethods\" :key=\"`${item.id}${index}`\">\n                              <input class=\"form-check-input\" type=\"checkbox\"\n                                :value=\"item\"\n                                :id=\"`paymentMethod${item.id}${index}`\"\n                                v-model=\"paymentMethodData[index].paymentMethod\"\n                                @change=\"selectedPaymentMethod(item, index, $event)\">\n                              <label class=\"form-check-label text-main-dark2 d-block\"\n                                    :for=\"`paymentMethod${item.id}${index}`\">\n                                {{ item.name }}\n                              </label>\n                            </div>\n\n                          </div>\n                        </div>\n                      </template>\n                      \n                      <!-- 支付方式下拉 - 其他部位 -->\n                      <template v-if=\"allBodyParts[index].id === 'Other'\">\n                        <div class=\"bg-gray1 rounded-15 w-100 pt-5 pb-3 px-5 border border-1 border-gray3 mb-2\"\n                          v-show=\"paymentMethodSwitch[index].switch\"\n                          data-to=\"true\"\n                          @click.stop=\"null\">\n                          <div class=\"scroll-content-none\" style=\"max-height: 170px\">\n                            <div class=\"form-check mb-2\" v-for=\"item in paymentMethodsForOtherBodyparts\" :key=\"`${item.id}${index}`\">\n                              <input class=\"form-check-input\" type=\"checkbox\"\n                                :value=\"item\"\n                                :id=\"`paymentMethod${item.id}${index}`\"\n                                v-model=\"paymentMethodData[index].paymentMethod\"\n                                @change=\"selectedPaymentMethod(item, index, $event)\">\n                              <label class=\"form-check-label text-main-dark2 d-block\"\n                                    :for=\"`paymentMethod${item.id}${index}`\">\n                                {{ item.name }}\n                              </label>\n                            </div>\n\n                          </div>\n                        </div>\n                      </template>\n                      \n                      <div class=\"ps-2 d-flex w-100\" v-for=\"item in paymentMethodData[index].paymentMethod\" :key=\"`${item.id}${index}`\">\n                        <div class=\"row w-100 gx-0\">\n                          <div class=\"col-2\">\n                            <div style=\"padding-top: 7px;\">\n                              <img src=\"@\\assets\\stylesheets\\icon\\dot-02.png\" class=\"me-2\" width=\"5\" height=\"5\" alt=\"dot-02\">\n                              <p class=\"fw-500 mb-0 d-inline pt-3\" style=\"white-space:nowrap;\">{{ item.name }}</p>\n                            </div>\n                          </div>\n\n                          <div class=\"col-10\">\n                            <!-- 療程專用券 -->\n                            <div v-if=\"item.id === 'Voucher'\">\n                              <div class=\"d-flex flex-wrap\">\n                                <template v-for=\"item in voucherOrderDetailData[index]\" :key=\"item.voucherId\">\n                                  <div class=\"mb-2 me-2\">\n                                    <button type=\"button\" class=\"btn border border-1 border-gray2 text-main-dark2 rounded-pill d-flex align-items-center\"\n                                            @click=\"deleteVoucherData(item, index)\">\n                                      <span class=\"me-7\">{{ item.voucherId }}</span>\n                                      <img src=\"@\\assets\\stylesheets\\icon\\--05.png\" width=\"15\" height=\"15\" alt=\"--05\">\n                                    </button>\n                                  </div>\n                                </template>\n\n                                <input type=\"text\" class=\"form-control rounded-pill d-inline-block align-middle me-2 mb-2 d-none\"\n                                        style=\"width: 30%;\"\n                                        placeholder=\"卷號\"\n                                        v-model=\"voucherInput[index]\"\n                                        @keydown.enter=\"voucherDataEnter(index)\">\n\n                                <div class=\"mb-2\">\n                                  <label class=\"align-middle rounded-end rounded-pill bg-gray1 border-end-0 text-main-dark2\"\n                                        style=\"padding: 6px 8px 6px 11px; border: 1px solid #ced4da;\">欠卷</label>\n                                  <input type=\"number\" class=\"align-middle form-control rounded-start rounded-pill d-inline-block align-middle w-50\"\n                                        placeholder=\"數量\"\n                                        v-model=\"oweVoucherInput[index].oweAmount\"\n                                        :min=\"voucherOrderDetailData[index].length !== 0 ? 0 : 1\">\n                                </div>\n                              </div>\n                            </div>\n\n                            <!-- 活動優惠券 -->\n                            <div v-if=\"item.id === 'Activity'\">\n                              <div class=\"row align-items-center mb-2\" v-for=\"(item, i) in activityData[index]\" :key=\"i\">\n                                <div class=\"col-6\">\n                                  <div class=\"input-group\">\n                                    <select class=\"rounded-pill form-select text-main-dark2\" v-model=\"item.prizeId\">\n                                      <option v-for=\"item in commonDataList.prizeData\"\n                                              :value=\"item.prizeId\"\n                                              :key=\"item.prizeId\">{{ `${item.activityName}_${item.prizeLevel}_${item.prizeName}` }}\n                                      </option>\n                                    </select>\n                                  </div>\n                                </div>\n                                <div class=\"col-4\">\n                                  <div class=\"d-flex align-items-center\">\n                                    <input type=\"text\" class=\"form-control rounded-pill\" placeholder=\"卷號\"\n                                          v-model=\"item.couponNumber\">\n                                  </div>\n                                </div>\n                                <div class=\"col-2\">\n                                  <a href=\"#\" class=\"me-2\"\n                                    @click.prevent=\"deleteActivityItem(index, i)\"\n                                    v-if=\"activityData[index].length !== 1\">\n                                    <img src=\"@/assets/stylesheets/icon/--05.png\" alt=\"\" width=\"20\" height=\"20\">\n                                  </a>\n\n                                  <a href=\"#\" @click.prevent=\"addActivityItem(index)\"\n                                      v-if=\"activityData[index].length === 1 || activityData[index].length === (i + 1)\">\n                                    <img src=\"@/assets/stylesheets/icon/+-04.png\" alt=\"\" width=\"20\" height=\"20\">\n                                  </a>\n                                </div>\n                              </div>\n                            </div>\n\n                            <!-- 現金支付 -->\n                            <template v-if=\"item.id === 'Cash' && allBodyParts[index].id !== 'Other'\">\n                              <template v-for=\"(item, i) in cashData[index]\" :key=\"i\">\n                                <div class=\"row align-items-center mb-2\">\n                                  <div class=\"col-4\">\n                                    <div class=\"input-group\">\n                                      <select class=\"rounded-pill form-select text-main-dark2\"\n                                              v-model=\"item.priceType\"\n                                              @change=\"changePriceType(item, index)\">\n                                        <option v-for=\"item in commonDataList.priceTypes\"\n                                                :value=\"item.id\"\n                                                :key=\"item.id\">{{ item.name }}\n                                        </option>\n                                      </select>\n                                    </div>\n                                  </div>\n                                  <div class=\"col-4\" v-if=\"item.priceType !== 'Deposit'\">\n                                    <div class=\"d-flex align-items-center\">\n                                      <input type=\"number\" class=\"form-control rounded-pill\"\n                                            v-model=\"item.price\" @blur=\"cashInputBlur(item, index)\"\n                                            min=\"0\">\n                                    </div>\n                                  </div>\n                                  <div class=\"col-4\">\n                                    <div class=\"input-group\">\n                                      <select class=\"rounded-pill form-select text-white\" disabled v-model=\"item.received\">\n                                        <option :value=\"false\">費用未收</option>\n                                        <option :value=\"true\">費用已收</option>\n                                      </select>\n                                    </div>\n                                  </div>\n                                </div>\n                                <!-- 押金費用時，開啟 -->\n                                <template v-if=\"item.priceType === 'Deposit'\">\n                                  <div class=\"row align-items-center mb-2\" v-for=\"(depositDataItem, i) in item.depositData\" :key=\"i\">\n                                    <div class=\"col-4\">\n                                      <div class=\"input-group\">\n                                        <select class=\"rounded-pill form-select text-main-dark2\" v-model=\"depositDataItem.voucherType\">\n                                          <template v-for=\"voucherTypeItem in commonDataList.voucherTypes\"\n                                                  :key=\"voucherTypeItem.id\">\n                                            <option :value=\"voucherTypeItem.id\"\n                                                    v-if=\"voucherTypesJudge(item.depositData, voucherTypeItem.id, depositDataItem.voucherType)\">\n                                                    {{ voucherTypeItem.name }}\n                                            </option>\n                                          </template>\n                                        </select>\n                                      </div>\n                                    </div>\n                                    <div class=\"col-4\">\n                                      <div class=\"d-flex align-items-center\">\n                                        <input type=\"number\" class=\"form-control rounded-pill\"\n                                              @blur=\"cashInputBlur(item, index)\"\n                                              v-model=\"depositDataItem.amountOfMoney\"\n                                              min=\"0\">\n                                      </div>\n                                    </div>\n                                    \n                                    <div class=\"col-2\">\n                                      <a href=\"#\" class=\"me-2\"\n                                        @click.prevent=\"deleteDepositInput(index, i)\"\n                                        v-if=\"item.depositData.length !== 1\">\n                                        <img src=\"@/assets/stylesheets/icon/--05.png\" alt=\"\" width=\"20\" height=\"20\">\n                                      </a>\n\n                                      <a href=\"#\" @click.prevent=\"addDepositInput(index, item.depositData)\"\n                                        v-if=\"item.depositData.length === 1 || item.depositData.length === (i + 1) && commonDataList.voucherTypes.length > item.depositData.length\">\n                                        <img src=\"@/assets/stylesheets/icon/+-04.png\" alt=\"\" width=\"20\" height=\"20\">\n                                      </a>\n                                    </div>\n                                  </div>\n                                </template>         \n                              </template>\n                            </template>\n\n                            <!-- 現金支付 - 其他部位 -->\n                            <template v-if=\"item.id === 'Cash' && allBodyParts[index].id === 'Other'\">\n                              <div class=\"row align-items-center mb-2\" v-for=\"(item, i) in cashData[index]\" :key=\"i\">\n                                \n                                <div class=\"col-4\">\n                                  <div class=\"input-group\">\n                                    <select class=\"rounded-pill form-select text-main-dark2\" v-model=\"item.priceType\">\n                                      <option v-for=\"item in commonDataListForOhterBodypart.priceTypes\"\n                                              :value=\"item.id\"\n                                              :key=\"item.id\">{{ item.name }}\n                                      </option>\n                                    </select>\n                                  </div>\n                                </div>\n                                <div class=\"col-4\">\n                                  <div class=\"d-flex align-items-center\">\n                                    <input type=\"number\" class=\"form-control rounded-pill\"\n                                          v-model=\"item.price\" @blur=\"cashInputBlur(item, index)\"\n                                          min=\"0\">\n                                  </div>\n                                </div>\n                                <div class=\"col-4\">\n                                  <div class=\"input-group\">\n                                    <select class=\"rounded-pill form-select text-white\" disabled v-model=\"item.received\">\n                                      <option :value=\"false\">費用未收</option>\n                                      <option :value=\"true\">費用已收</option>\n                                    </select>\n                                  </div>\n                                </div>\n                              </div>\n                            </template>\n\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </template>\n                </div>\n              </div>\n            </div>\n\n          <div class=\"d-flex bg-white border-2 rounded-bottom-20 border-top border-gray2 py-5 px-10\">\n            <div class=\"d-flex me-auto\">\n              <label class=\"input-group-text text-main-dark2 mb-0 me-7 border-0 p-0 bg-transparent\">總金額</label>\n              \n              <input type=\"number\" class=\"form-control rounded-pill\" min=\"0\" v-model=\"total\">\n            </div>\n\n            <div>\n              <button type=\"button\" class=\"btn btn-alert-second rounded-pill\" data-bs-dismiss=\"modal\">關 閉</button>\n              <button type=\"button\" class=\"btn btn-alert-main rounded-pill ms-2\" @click=\"confirmExtra()\">確 定</button>\n            </div>\n          </div>\n\n        </div>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script setup>\n  import { onMounted, ref, nextTick } from 'vue';\n  import { useRoute } from 'vue-router';\n  import { storeToRefs } from 'pinia';\n  import { Modal } from 'bootstrap';\n\n  import drawingToolStore from '@/store/drawingTool.js';\n  import courseCorrespondenceDesignStore from '@/store/courseCorrespondenceDesign.js';\n  import courseConsumableCorrespondenceStore from '@/store/courseConsumableCorrespondence.js';\n  import microCosmeticSurgeryRecordsStore from '@/store/microCosmeticSurgeryRecords.js';\n  import medicalRecordStore from '@/store/medicalRecord.js';\n  import courseStore from '@/store/course.js';\n  import bodyPartStore from '@/store/bodyPart.js';\n  import alertMessageStore from '@/store/alertMessage.js';\n\n  // components\n  import HATable from '@/components/HATable.vue';\n\n  let canvas;\n  const drawingTool = drawingToolStore();\n  const courseCorrespondenceDesign = courseCorrespondenceDesignStore();\n  const courseConsumableCorrespondence = courseConsumableCorrespondenceStore();\n  const microCosmeticSurgeryRecords = microCosmeticSurgeryRecordsStore();\n  const medicalRecord = medicalRecordStore();\n  const course = courseStore();\n  const bodyPart = bodyPartStore();\n  const alertMessage = alertMessageStore();\n\n  // state --------------------------------------\n\n  const { allCourseCorrespondenceDesignNameData, initCourseCorrespondenceDesignData } = storeToRefs(courseCorrespondenceDesign);\n  const { showDefaultDrawingData } = storeToRefs(drawingTool);\n  const { courseConsumableCorrespondenceData } = storeToRefs(courseConsumableCorrespondence);\n  const { microCosmeticSurgeryRecordsData, initMicroCosmeticSurgeryRecordData } = storeToRefs(microCosmeticSurgeryRecords);\n  const { initExtraMedicalRecordData, anestheticInfo } = storeToRefs(medicalRecord);\n  const { bodyPartByCourseData } = storeToRefs(bodyPart);\n  const { courseOptionsByType } = storeToRefs(course);\n\n  // action -------------------------------------\n\n  const { initCanvas, initImage, pointUnfold, pointUnfoldFocus, drawDrawingToolData, shapeListener, pointFocusDraw, pointUnfoldRectWidth, remarkDataSorting } = drawingTool;\n  const { getAllCourseCorrespondenceDesignNameData, getInitCourseCorrespondenceDesignData } = courseCorrespondenceDesign;\n  const { getCourseConsumableCorrespondenceData } = courseConsumableCorrespondence;\n  const { postMicroCosmeticSurgeryRecords, getMicroCosmeticSurgeryRecords, getInitMicroCosmeticSurgeryRecordData } = microCosmeticSurgeryRecords;\n  const { getInitExtraMedicalRecordData, getAnestheticInfo, createExtraMedicalRecord } = medicalRecord;\n  const { getCourseOptionsByType } = course;\n  const { getBodyPartByCourse } = bodyPart;\n  const { updateMessage } = alertMessage;\n  // ---------------------------------------------\n\n  const route = useRoute();\n\n  const courseActiveIndex = ref(0);                 // 療程選單位置的 index\n  const faceMapPartsAndImageFileDataList = ref([]); // 臉圖選單\n  const faceMapPartsAndImageFileIndex = ref(0);     // 臉圖位置的 index\n\n  // 備註\n  const designRemarkRecordDataList = ref([]);       // 顯示用備註選項\n  const remarkData = ref([]);                       // 備註資料 (有劑量和療耗才會進 addShapeData)\n\n  let addShapeData = [];                            // 新增用的形狀資料\n  let focusShape = null;                            // 已選擇的形狀\n  const selectedConsumable = ref(null);             // 已選擇的療耗\n\n  let currentMedicalRecordId = null;                         // 目前病例 id\n  const nonExtraCourseIds = ref([]);                         // 非加診的療程\n  const showAllCourseCorrespondenceDesignNameData = ref([]); // 顯示整理過的療程列表\n\n  let operator = null;\n  let customerId = null;\n  let date = null;\n\n  const showHAStatus = ref(false);  // 顯示 HA 的狀態，face(false) or table(true)\n\n  const facePageJudge = ref([]);    // 顯示哪張臉圖的點沒有劑量、療耗\n\n  let courseTypeData = null;        // 加診用 - 微整 id\n  let departmentIdData = null;      // 加診用 - 部門 id\n\n  /** 初始療程列表、非加診的資訊 */\n  async function init() {\n    operator = route.params.operator;\n    customerId = route.params.customerId;\n    date = route.params.arrivedTime;\n\n    // 非加診的資訊(取療程 id、病例 id、有資料的形狀、臉圖)\n    await getInitMicroCosmeticSurgeryRecordData(customerId, operator, date);\n\n    // 加診用\n    const { courseType, departmentId } = initMicroCosmeticSurgeryRecordData.value[0].medicalRecordBasicDatas;\n    courseTypeData = courseType;\n    departmentIdData = departmentId;\n\n    // 非加診的療程\n    nonExtraCourseIds.value = initMicroCosmeticSurgeryRecordData.value.map(item => item.medicalRecordBasicDatas.courseId);\n\n    // 取療程列表\n    await getAllCourseCorrespondenceDesignNameData();\n\n    // 微整列表依照 \"前面非加診的療程，後面是要進加診流程\" 的順序整理\n    const nonExtra = allCourseCorrespondenceDesignNameData.value.filter(t => nonExtraCourseIds.value.some(item => item === t.courseId));\n    const extra = allCourseCorrespondenceDesignNameData.value.filter(t => !nonExtraCourseIds.value.some(item => item === t.courseId));\n\n    showAllCourseCorrespondenceDesignNameData.value = [...nonExtra, ...extra];\n  }\n\n  /** 渲染頁面資料 */\n  async function renderInitData() {\n\n    const courseId = showAllCourseCorrespondenceDesignNameData.value[courseActiveIndex.value].courseId;\n\n    // 取當前病歷 id\n    currentMedicalRecordId = initMicroCosmeticSurgeryRecordData.value.find(item => item.medicalRecordBasicDatas.courseId === courseId).medicalRecordBasicDatas.id;\n\n    // 取臉圖、備註選項\n    await getInitCourseCorrespondenceDesignData(courseId);\n\n    const { faceMapPartsAndImageFileData, designRemarkRecordData } = initCourseCorrespondenceDesignData.value;\n\n    // 療耗選項\n    await getCourseConsumableCorrespondenceData(courseId);\n\n    // 臉圖選項\n    faceMapPartsAndImageFileDataList.value = faceMapPartsAndImageFileData;\n\n    // 備註選項\n    designRemarkRecordDataList.value = designRemarkRecordData;\n  }\n\n  /** 初始 - 資料整理 */\n  function dataSorting() {\n    // 療程的資料欄位，用於放臉圖陣列欄位\n    addShapeData = showAllCourseCorrespondenceDesignNameData.value.map(item => {\n      const initMicroCosmeticSurgeryRecordDataItem = initMicroCosmeticSurgeryRecordData.value.find(t => t.medicalRecordBasicDatas.courseId === item.courseId);\n\n      if (!initMicroCosmeticSurgeryRecordDataItem) return [];\n\n      const medicalRecordId = initMicroCosmeticSurgeryRecordDataItem.medicalRecordBasicDatas.id;\n\n      const { faceMapPartsAndImageFilesDatas, microCosmeticSurgeryRecordsDatas, initDesignContentDetailsDatas } = initMicroCosmeticSurgeryRecordDataItem;\n\n      // 臉圖陣列欄位之一\n      const faceImgArray = faceMapPartsAndImageFilesDatas.map(t2 => {\n        const faceMapPartsId = t2.id;\n        const shapeData = microCosmeticSurgeryRecordsDatas.filter(t3 => t3.faceMapPartsId === faceMapPartsId)\n                          .map(t4 => {\n                            const initDesignContentDetailsDatasItem = initDesignContentDetailsDatas.find(t5 => t5.designContentId === t4.designContentId);\n\n                            const { originCoordinateRecord_X, originCoordinateRecord_Y, colorName } = initDesignContentDetailsDatasItem;\n                            const { qunatity, designContentId, designRemarkRecordData, courseConsumableId, courseConsumableColorName } = t4;\n\n                            const designRemarkId = designRemarkRecordData.map(t => t.designRemarkId);\n\n                            const remarkData = remarkDataSorting(designRemarkRecordData);\n                            const { codeName } = remarkData;\n\n                            const text = `${qunatity}${codeName ? ` ${codeName}` : ''}`;\n\n                            const rectWidth = pointUnfoldRectWidth(text);\n\n                            return {\n                              medicalRecordId,\n                              designContentId,\n                              courseConsumableId,\n                              qunatity,\n                              designRemarkId,\n                              x: originCoordinateRecord_X,\n                              y: originCoordinateRecord_Y,\n                              color: colorName,\n                              rectWidth,\n                              rectHeight: 24,\n                              // centerX、centerY 是形狀的最左上角的 x、y\n                              centerX: originCoordinateRecord_X - (rectWidth / 2),\n                              centerY: originCoordinateRecord_Y - (24 / 2),\n                              consumableColor: courseConsumableColorName,\n                              showRemarkData: designRemarkRecordData\n                            }\n                          });\n\n        return shapeData;\n      })\n      \n      return [...faceImgArray];\n    });\n\n    totalDoseAddUp();\n  }\n\n  /** 引入圖片和初始形狀 */\n  function importImageAndDefaulShape() {\n    const url = faceMapPartsAndImageFileDataList.value[faceMapPartsAndImageFileIndex.value].faceMapPartsImageFilesPath;\n\n    // const url = `https://t4.ftcdn.net/jpg/02/18/93/97/360_F_218939757_YqHgeD3BAANU87y2Kc10Y40HNVgDv5rK.jpg`;\n    // image 初始\n    initImage(url)\n    .then(() => {\n      shapeDataSorting();\n      renderCanvas();\n    })\n    .catch(res => {\n      console.log(res);\n    });\n  }\n\n  // 初始畫面\n  onMounted(async() => {\n    await init();\n    await renderInitData();\n\n    // canvas 初始\n    canvas = document.getElementById('canvas');\n    if (!initCanvas(canvas)) return null;\n\n    dataSorting();\n    importImageAndDefaulShape();\n  })\n\n  /** 臉圖頁面切換 */\n  function facePageChange(index) {\n    focusShape = null;\n    selectedConsumable.value = null;\n\n    faceMapPartsAndImageFileIndex.value = index;\n    importImageAndDefaulShape();\n    totalDoseAddUp()\n  }\n\n  /** 加診 model ref */\n  const extraModalRef = ref(null);\n  let extraModal;\n\n  // 加診資料\n  const extraModalData = ref({});\n  const commonDataList = ref({});         // 共用資料\n\n  const activityData = ref([]);\n  const cashData = ref([]); \n  const voucherInput = ref([]);\n  const oweVoucherInput = ref([]);\n  const voucherOrderDetailData = ref([]);\n  const bodyParts = ref([]);\n  const allBodyParts = ref([]);\n\n  const total = ref(0);\n\n  /** 其他部位 與 其他部位的數量 */\n  const otherBodyPartLength = ref(1);\n  const otherBodyParts = ref([]);\n  const otherBodyPartJudge = ref(false);\n\n  let noDataForOtherParts = [];\n\n  /** 支付方式資料 */\n  const paymentMethodData = ref([]);\n\n  /** 支付方式下拉開關 */\n  const paymentMethodSwitch = ref([]);\n\n  /** 支付方式選項 */\n  const paymentMethods = ref([]);\n\n  /** 病歷用的共用資料 (其他部位) */\n  const commonDataListForOhterBodypart = ref({});\n\n  /** 支付方式選項 - 其他部位 */\n  const paymentMethodsForOtherBodyparts = ref([]);\n\n  /** 治療部位下拉選單開關 */\n  const bodyPartsWindow = ref(false);\n\n  onMounted(() => {\n    extraModal = new Modal(extraModalRef.value);\n  })\n\n  const courseData = ref({});\n\n  /** 開啟加診 Modal */\n  async function openExtraModal() {\n    noDataForOtherParts = [];\n    bodyParts.value = [];\n    await getInitExtraMedicalRecordData(departmentIdData, customerId);\n    await getCourseOptionsByType(courseTypeData);\n    await getBodyPartByCourse(courseData.value.courseId);\n\n    // 上麻 Api 參數\n    const AnestheticInfoApiParameters = {\n      customerId,\n      courseId: courseData.value.courseId,\n      doctor: operator,\n      date\n    }\n\n    await getAnestheticInfo(AnestheticInfoApiParameters);\n\n    const { commonData, customer } = initExtraMedicalRecordData.value;\n\n    commonDataList.value = commonData;\n\n    console.log(commonDataList.value)\n\n    // 初始資料\n    extraModalData.value = {\n      name: customer.name,\n      birthday: customer.birthday,\n      beauticianNickname: customer.beauticianNickname,\n      customerId: customer.id,\n      courseType: courseTypeData,\n      courseId: courseData.value.courseId,\n      operatorId: operator,\n      anesthesiaType: 'None',\n      comment: null,\n      anestheticFee: null,\n      received: false,\n    }\n\n\n    console.log(initExtraMedicalRecordData.value);\n    extraModal.show();\n  }\n\n  /** 開啟治療部位下拉選單 */\n  const openAppointmentBodyPartsWindow = () => {\n    if (bodyPartsWindow.value) return null;\n    bodyPartsWindow.value = true;\n\n    function close() {\n      bodyPartsWindow.value = false;\n      document.removeEventListener('click', close);\n    }\n\n    document.addEventListener('click', close);\n  }\n\n  /** 選擇部位 */\n  function selectedBodyParts(item, event) {\n\n    const checked = event.target.checked;\n    const newNoDataForOtherParts = bodyParts.value.filter(itemA => itemA.id !== 'Other');\n    const newNoDataForOtherPartsLen = newNoDataForOtherParts.length - 1;\n\n    if (checked && item.id !== 'Other') {\n\n      const addItem = newNoDataForOtherParts[newNoDataForOtherPartsLen];\n\n      allBodyParts.value.splice(newNoDataForOtherPartsLen, 0, addItem);\n\n      paymentMethodData.value.splice(newNoDataForOtherPartsLen, 0, {\n        bodyPartId: addItem.id,\n        paymentMethod: [{id: 'Voucher', name: '療程專用券', sequence: 1, active: true}],\n      });\n      paymentMethodSwitch.value.splice(newNoDataForOtherPartsLen, 0, []);\n\n      activityData.value.splice(newNoDataForOtherPartsLen, 0, []);\n      cashData.value.splice(newNoDataForOtherPartsLen, 0, []);\n\n      voucherInput.value.splice(newNoDataForOtherPartsLen, 0, '');\n      oweVoucherInput.value.splice(newNoDataForOtherPartsLen, 0, {\n        bodyPartId: addItem.id,\n        oweAmount: 0\n      });\n\n      voucherOrderDetailData.value.splice(newNoDataForOtherPartsLen, 0, []);\n    }\n\n    if (!checked && item.id !== 'Other') {\n      // 治療部位刪除時\n      \n      const deleteItem = allBodyParts.value.find(item => {\n        return !newNoDataForOtherParts.includes(item);\n      });\n\n      const i = allBodyParts.value.indexOf(deleteItem);\n\n      allBodyParts.value.splice(i, 1);\n      noDataForOtherParts.splice(i, 1);\n\n      paymentMethodData.value.splice(i, 1);\n      paymentMethodSwitch.value.splice(i, 1);\n\n      activityData.value.splice(i, 1);\n\n      let deleteAmount = 0;\n\n      if (cashData.value[i].length !== 0) {\n        if (cashData.value[i][0].priceType === 'Deposit') {\n        cashData.value[i][0].depositData.forEach(item => {\n          deleteAmount += item.amountOfMoney;\n        });\n\n          total.value -= deleteAmount;\n        } else {\n          total.value -= cashData.value[i][0].price;\n        }\n      }\n\n      cashData.value.splice(i, 1);\n\n      voucherInput.value.splice(i, 1);\n      oweVoucherInput.value.splice(i, 1);\n      voucherOrderDetailData.value.splice(i, 1);\n    }\n\n    if (checked && item.id === 'Other') {\n      otherBodyPartLength.value = 1;\n      otherBodyParts.value.push({\n        part: \"\",\n        scope: \"\",\n        price: \"\"\n      })\n\n    otherBodyPartJudge.value = true;\n\n      allBodyParts.value.push({\n        id: \"Other\",\n        name: \"其他\",\n        part: \"\",\n        price: '',\n        scope: \"\"\n      });\n\n      paymentMethodData.value.push({\n        bodyPartId: \"Other\",\n        paymentMethod: [{id: 'Cash', name: '現金支付', sequence: 3, active: true}],\n      })\n\n      paymentMethodSwitch.value.push({\n        bodyPartId: \"Other\",\n        switch: false,\n      })\n\n      // activityData.value.push([]);\n      cashData.value.push([]);\n\n      // voucherInput.value.push('');\n      // voucherOrderDetailData.value.push([]);\n\n      // oweVoucherInput.value.push({\n      //   bodyPartId: item.id,\n      //   oweAmount: 0\n      // });\n\n      cashData.value[cashData.value.length - 1].push(\n        {\n          bodyPartId: \"Other\",\n          paymentMethodId: \"Cash\",\n          priceType: \"Once\",\n          price: null,\n          received: false,\n          otherPartName: '',\n          otherPartScope: '',\n          depositData: [],\n        }\n      );\n    }\n\n    if (!checked && item.id === 'Other') {\n      otherBodyPartJudge.value = false;\n      otherBodyPartLength.value = 0;\n      otherBodyParts.value = [];\n      for(let i = 0; i < allBodyParts.value.length; i++) {\n        if (allBodyParts.value[i].id === \"Other\") {\n          allBodyParts.value.splice(i, 1);\n\n          paymentMethodData.value.splice(i, 1);\n          paymentMethodSwitch.value.splice(i, 1);\n\n          // activityData.value.splice(i, 1);\n\n          total.value -= cashData.value[i][0].price;\n          cashData.value.splice(i, 1);\n\n          // voucherInput.value.splice(i, 1);\n          // voucherOrderDetailData.value.splice(i, 1);\n\n          i--;\n        }\n      }\n    }\n  }\n\n  /** 刪除治療部位選項 */\n  const deleteAppointmentBodyPartsItem = (item) => {\n    let index = bodyParts.value.indexOf(item);\n    // const newNoDataForOtherParts = bodyParts.value.filter(itemA => itemA.id !== 'Other');\n\n    bodyParts.value.splice(index, 1);\n\n    if (item.id !== 'Other') {\n      // const deleteItem = allBodyParts.value.find(item => {\n      //   return !newNoDataForOtherParts.includes(item);\n      // });\n\n      const i = allBodyParts.value.indexOf(item);\n\n      allBodyParts.value.splice(i, 1);\n      noDataForOtherParts.splice(i, 1);\n\n      paymentMethodData.value.splice(i, 1);\n      paymentMethodSwitch.value.splice(i, 1);\n\n      activityData.value.splice(i, 1);\n\n      let deleteAmount = 0;\n\n      if (cashData.value[i].length !== 0) {\n        if (cashData.value[i][0].priceType === 'Deposit') {\n        cashData.value[i][0].depositData.forEach(item => {\n          deleteAmount += item.amountOfMoney;\n        });\n\n          total.value -= deleteAmount;\n        } else {\n          total.value -= cashData.value[i][0].price;\n        }\n      }\n\n      cashData.value.splice(i, 1);\n\n      voucherInput.value.splice(i, 1);\n      oweVoucherInput.value.splice(i, 1);\n      voucherOrderDetailData.value.splice(i, 1);\n    } else {\n      otherBodyPartJudge.value = false;\n      otherBodyPartLength.value = 0;\n      otherBodyParts.value = [];\n      for(let i = 0; i < allBodyParts.value.length; i++) {\n        if (allBodyParts.value[i].id === \"Other\") {\n          allBodyParts.value.splice(i, 1);\n\n          paymentMethodData.value.splice(i, 1);\n          paymentMethodSwitch.value.splice(i, 1);\n\n          // activityData.value.splice(i, 1);\n\n          total.value -= cashData.value[i][0].price;\n          cashData.value.splice(i, 1);\n\n          // voucherInput.value.splice(i, 1);\n          // voucherOrderDetailData.value.splice(i, 1);\n\n          i--;\n        }\n      }\n    }\n  }\n\n  /** 點擊療程選單切換 */\n  async function clickCourseNav(index) {\n    // 查看點擊的療程是否為非加診的療程\n    console.log(showAllCourseCorrespondenceDesignNameData.value[index]);\n    const judge = nonExtraCourseIds.value.some(t => t === showAllCourseCorrespondenceDesignNameData.value[index].courseId);\n\n    // 不是時，是加診\n    if (!judge) {\n      courseData.value = showAllCourseCorrespondenceDesignNameData.value[index];\n      openExtraModal();\n      return null;\n    }\n\n    if (showHAStatus.value) {\n      switchShowHAStatus();\n    }\n\n    focusShape = null;\n    selectedConsumable.value = null;\n\n    courseActiveIndex.value = index;\n    faceMapPartsAndImageFileIndex.value = 0;\n\n    const courseId = showAllCourseCorrespondenceDesignNameData.value[courseActiveIndex.value].courseId;\n\n    await getInitMicroCosmeticSurgeryRecordData(customerId, operator, date);\n\n    // 用療程去取當前病歷 id\n    currentMedicalRecordId = initMicroCosmeticSurgeryRecordData.value.find(item => item.medicalRecordBasicDatas.courseId === courseId).medicalRecordBasicDatas.id;\n\n    await getInitCourseCorrespondenceDesignData(courseId);\n\n    const { faceMapPartsAndImageFileData, designRemarkRecordData } = initCourseCorrespondenceDesignData.value;\n\n    // 療耗選項\n    await getCourseConsumableCorrespondenceData(courseId);\n\n    // 臉圖選項\n    faceMapPartsAndImageFileDataList.value = faceMapPartsAndImageFileData;\n\n    // 備註選項\n    designRemarkRecordDataList.value = designRemarkRecordData;\n\n    importImageAndDefaulShape();\n    totalDoseAddUp();\n  }\n\n  /** 形狀資料整理、取用原先資料 */\n  function shapeDataSorting() {\n    const { faceMapPartsAndImageFileData, designContentData } = initCourseCorrespondenceDesignData.value;\n\n    const faceMapPartsId = faceMapPartsAndImageFileData[faceMapPartsAndImageFileIndex.value].faceMapPartsId;\n\n    showDefaultDrawingData.value = designContentData.filter(item => item.faceMapPartsId === faceMapPartsId)\n                                  .map(item => {\n                                    return {\n                                      x: item.originCoordinateRecord_X,\n                                      y: item.originCoordinateRecord_Y,\n                                      designContentId: item.designContentId,\n                                      designFaceMapPartsId: item.designFaceMapPartsId,\n                                      color: item.colorName,\n                                      width: item.designToolName === '區域' ? item.referenceCoordinateRecord_X - item.originCoordinateRecord_X : null,\n                                      height: item.designToolName === '區域' ? item.referenceCoordinateRecord_Y - item.originCoordinateRecord_Y : null,\n                                      endX: item.referenceCoordinateRecord_X,\n                                      endY: item.referenceCoordinateRecord_Y,\n                                      designToolName: item.designToolName,\n                                      radius: item.sizeParameters / 2,\n                                      borderColorName: null,\n                                      bruiseColor: null,\n                                    }\n                                  })\n                                  .filter(itemA => !addShapeData[courseActiveIndex.value][faceMapPartsAndImageFileIndex.value].some(itemB => itemB.designContentId === itemA.designContentId));\n  }\n\n  /** 加診確認 */\n  async function confirmExtra() {\n\n    // 其他部位\n    const otherParts = otherBodyParts.value.map(item => {\n      return {\n        part: item.part,\n        scope: item.scope,\n        price: item.price,\n      }\n    })\n\n    // 是否上麻\n    const anesthetic = commonDataList.value.anestheticFees.find(item => item.id === extraModalData.value.anestheticFee);\n\n    // 現金支付\n    const coursePartOrderDetailData = [];\n\n    cashData.value.forEach(item => {\n      if (item[0]) {\n        coursePartOrderDetailData.push(item[0]);\n      }\n    })\n\n    // 現金支付 - 驗證\n\n    let coursePartOrderDetailJudge = [];\n\n    cashData.value.forEach((item, index) => {\n      if (item.length !== 0 && item[0].priceType !== 'Deposit') {\n        if (\n          item[0].price === null ||\n          item[0].price === '' ||\n          item[0].price === 0\n        ) {\n          coursePartOrderDetailJudge.push(index);\n        }\n      }\n      // 押金驗證\n      if (item.length !== 0 && item[0].priceType === 'Deposit') {\n        item[0].depositData.forEach(item => {\n          if (\n            item.amountOfMoney === null ||\n            item.amountOfMoney === '' ||\n            item.amountOfMoney === 0\n          ) {\n            coursePartOrderDetailJudge.push(index);\n          }\n        })\n      }\n    })\n\n    if (coursePartOrderDetailJudge.length !== 0) {\n      updateMessage('現金金額需填寫');\n      return null;\n    }\n\n    // 支付方式 - 驗證\n    if (paymentMethodData.value.length === 0 &&\n        extraModalData.value.courseType !== 'OPD' &&\n        extraModalData.value.courseType !== 'IV') {\n      updateMessage('未選擇部位');\n      return null;\n    }\n\n    let paymentMethodJudge = [];\n\n    paymentMethodData.value.forEach((item, index) => {\n      if (item.paymentMethod.length === 0) {\n        paymentMethodJudge.push(index);\n      }\n    })\n\n    if (paymentMethodJudge.length !== 0) {\n      updateMessage('尚有部位未填寫收費方式');\n      return null;\n    }\n\n    // 欠卷，驗證\n    let judge = [];\n\n    paymentMethodData.value.forEach((itemA, index) => {\n      itemA.paymentMethod.forEach(itemB => {\n        if (itemB.id === 'Voucher') {\n          if (oweVoucherInput.value[index].oweAmount === null || oweVoucherInput.value[index].oweAmount === '') {\n            judge.push(index);\n          }\n\n          if (oweVoucherInput.value[index].oweAmount === 0) {\n            if (voucherOrderDetailData.value[index].length === 0) {\n              judge.push(index);\n            }\n          }\n        }\n      });\n    })\n\n    if (judge.length !== 0 && extraModalData.value.courseType !== 'MicroPlasticSurgery') {\n      updateMessage('療程專用券需填入卷號或欠卷數');\n      return null;\n    }\n\n    // 療程專用券\n    const voucherOrderDetail = [];\n\n    voucherOrderDetailData.value.forEach(itemA => {\n      if (itemA.length === 0) return null;\n      itemA.forEach(itemB => {\n        voucherOrderDetail.push(itemB);\n      });\n    })\n\n    // 療程專用券 - 欠卷\n    const oweVoucherSituationData = oweVoucherInput.value.filter(item => item.oweAmount !== 0 && item.oweAmount !== null);\n\n    // 活動優惠券 - 資料整理與驗證\n    const couponOrderDetailData = [];\n    const couponOrderDetailDataJudge = [];\n\n    activityData.value.forEach((itemA, index) => {\n      itemA.forEach(itemB => {\n        if (!itemB.couponNumber) {\n          couponOrderDetailDataJudge.push(index);\n          return null;\n        }\n        couponOrderDetailData.push(itemB);\n      })\n    })\n\n    if (couponOrderDetailDataJudge.length !== 0) {\n      updateMessage('需填入活動優惠券');\n      return null;\n    }\n\n    let anesthesiaType;\n    let anesthesiaSituation;\n\n    if (anestheticInfo.value) {\n      anesthesiaType = anestheticInfo.value.anesthesiaType;\n      anesthesiaSituation = anestheticInfo.value.anesthesiaSituation;\n    } else {\n      anesthesiaType = extraModalData.value.anesthesiaType;\n      anesthesiaSituation = extraModalData.value.anesthesiaType === 'None' ? 'NoAnesthesia' : 'Anesthesia';\n    }\n\n    const postData = {\n      departmentId: departmentIdData,\n      customerId: extraModalData.value.customerId,\n      date,\n      courseType: extraModalData.value.courseType,\n      courseId: extraModalData.value.courseId,\n      operator: extraModalData.value.operatorId,\n      anesthesiaType,\n      anesthesiaSituation,\n      comment: extraModalData.value.comment,\n      bodyParts: bodyParts.value.map(item => item.id),\n      otherParts,\n      anestheticOrderDetailData: extraModalData.value.anesthesiaType !== 'None' && anestheticInfo.value === null ? {\n        anesthesiaType: extraModalData.value.anesthesiaType,\n        anestheticFeeId: anesthetic.id,\n        price: anesthetic.fee,\n        received: anesthetic.id !== 'Free' ? extraModalData.value.received : true,\n      } : null,\n      coursePartOrderDetailData,\n      voucherOrderDetailData: voucherOrderDetail,\n      oweVoucherSituationData,\n      couponOrderDetailData\n    }\n\n    const response = await createExtraMedicalRecord(postData);\n\n    if (response.statusCode >= 400) return null;\n\n    // 更新畫面\n    await init();\n\n    // 切換到該療程\n    courseActiveIndex.value = showAllCourseCorrespondenceDesignNameData.value.findIndex(item => item.courseId === extraModalData.value.courseId);\n    faceMapPartsAndImageFileIndex.value = 0;\n\n    await renderInitData();\n\n    // canvas 初始\n    canvas = document.getElementById('canvas');\n    if (!initCanvas(canvas)) return null;\n\n    dataSorting();\n    importImageAndDefaulShape();\n\n    extraModal.hide();\n  }\n\n  /** 渲染畫布 */\n  function renderCanvas() {\n    drawDrawingToolData();\n    addShapeData[courseActiveIndex.value][faceMapPartsAndImageFileIndex.value].forEach(t => {\n      pointUnfold(t);\n    })\n  }\n\n  /** 點擊形狀 */\n  function clickShape(e) {\n    let item = null;\n    remarkData.value = [];\n    shapeDataSorting();\n    renderCanvas();\n\n    // 是否點擊展開的點\n    if (addShapeData[courseActiveIndex.value][faceMapPartsAndImageFileIndex.value].length !== 0) {\n      item = pointUnfoldListener(e);\n      if (item) {\n        pointUnfoldFocus(item);\n        if (item.courseConsumableId) {\n          const id = courseConsumableCorrespondenceData.value.find(t => t.courseConsumableAndUnitData.id === item.courseConsumableId);\n          selectedConsumable.value = Object.assign({}, id);\n        }\n        remarkData.value = item.designRemarkId;\n      }\n    }\n\n    // 是否點擊一般的點\n    if (!item) {\n      item = shapeListener(e);\n      if (item) pointFocusDraw(item);\n    }\n\n    // 都沒有的情況\n    if (!item) {\n      focusShape = null;\n      selectedConsumable.value = null;\n      shapeDataSorting();\n      renderCanvas();\n      return null;\n    }\n    \n    focusShape = Object.assign({}, item);\n\n    if (selectedConsumable.value) {\n      clickShapeAndAssignValue(selectedConsumable.value);\n    }\n  }\n\n  /** 點擊劑量 */\n  function clickDose(num) {\n    if (!focusShape) return null;\n\n    checkDataAndAddData();\n\n    // 點選 0，歸零或清空\n    if (num === 0) {\n\n      const item = addShapeData[courseActiveIndex.value][faceMapPartsAndImageFileIndex.value].find(item => item.designContentId === focusShape.designContentId);\n      item.qunatity = num;\n\n      const judge = checkDataHaveDoseAndConsumable(item);\n\n      shapeDataSorting();\n      renderCanvas();\n\n      // 同時存在\n      if (judge) {\n        pointUnfoldFocus(item);\n        focusShape = Object.assign({}, item);\n      }\n\n      // 同時不存在\n      if (!judge) {\n        const itemB = showDefaultDrawingData.value.find(item => item.designContentId === focusShape.designContentId);\n        \n        remarkData.value = focusShape.designRemarkId;\n        \n        const showRemarkData = designRemarkRecordDataList.value.filter(item => remarkData.value.some(t => t === item.designRemarkId));\n\n        const { codeName, colorName, borderColorName } = remarkDataSorting(showRemarkData);\n\n        itemB.bruiseColor = colorName;           // 使用鈍針 - 文字 C\n        itemB.borderColorName = borderColorName; // 瘀青 - 背景色\n        itemB.bluntNeedle = codeName;            // 稀釋 - 外框色\n\n        focusShape = Object.assign({}, itemB);\n\n        renderCanvas();\n        pointFocusDraw(itemB);\n      }\n\n      totalDoseAddUp();\n      return null;\n    }\n    \n    // 給劑量\n    const item = addShapeData[courseActiveIndex.value][faceMapPartsAndImageFileIndex.value].find(item => item.designContentId === focusShape.designContentId);\n\n    item.qunatity = (parseFloat(item.qunatity) + num).toFixed(2);\n    item.rectWidth = pointUnfoldRectWidth(item.qunatity);\n    // centerX、centerY 是形狀的最左上角的 x、y\n    item.centerX = item.x - (item.rectWidth / 2);\n    item.centerY = item.y - (item.rectHeight / 2);\n\n    focusShape = Object.assign({}, item);\n\n    shapeDataSorting();\n    renderCanvas();\n    pointUnfoldFocus(item);\n    totalDoseAddUp();\n  }\n\n  /** 選擇療耗 */\n  function selectConsumable(dataItem) {\n    if (!focusShape) return null;\n\n    checkDataAndAddData();\n\n    // 展開的點\n    const item = addShapeData[courseActiveIndex.value][faceMapPartsAndImageFileIndex.value].find(t => t.designContentId === focusShape.designContentId);\n\n    // 如果點擊時，選擇的療耗與資料相同，則取消療耗\n    if (selectedConsumable.value &&\n        selectedConsumable.value.courseConsumableAndUnitData.id === dataItem.courseConsumableAndUnitData.id &&\n        item.courseConsumableId === dataItem.courseConsumableAndUnitData.id) {\n      \n      item.consumableColor = null;\n      item.courseConsumableId = null;\n      selectedConsumable.value = null;\n\n      const judge = checkDataHaveDoseAndConsumable(item);\n\n      shapeDataSorting();\n      renderCanvas();\n\n      // 同時存在\n      if (judge) {\n        pointUnfoldFocus(item);\n        focusShape = Object.assign({}, item);\n      }\n\n      // 同時不存在\n      if (!judge) {\n        const itemB = showDefaultDrawingData.value.find(t => t.designContentId === focusShape.designContentId);\n\n        remarkData.value = focusShape.designRemarkId;\n\n        const showRemarkData = designRemarkRecordDataList.value.filter(item => remarkData.value.some(t => t === item.designRemarkId));\n\n        const { codeName, colorName, borderColorName } = remarkDataSorting(showRemarkData);\n\n        itemB.bruiseColor = colorName;           // 使用鈍針 - 文字 C\n        itemB.borderColorName = borderColorName; // 瘀青 - 背景色\n        itemB.bluntNeedle = codeName;            // 稀釋 - 外框色\n\n        focusShape = Object.assign({}, itemB);\n\n        renderCanvas();\n        pointFocusDraw(itemB);\n      }\n\n      return null;\n    }\n    \n\n    selectedConsumable.value = dataItem;\n\n    item.consumableColor = selectedConsumable.value.colorStyleName;\n    item.courseConsumableId = selectedConsumable.value.courseConsumableAndUnitData.id;\n\n    item.rectWidth = pointUnfoldRectWidth(item.qunatity);\n    // centerX、centerY 是形狀的最左上角的 x、y\n    item.centerX = item.x - (item.rectWidth / 2);\n    item.centerY = item.y - (item.rectHeight / 2);\n\n    focusShape = Object.assign({}, item);\n    \n    shapeDataSorting();\n    renderCanvas();\n    pointUnfoldFocus(item);\n  }\n\n  /** 點擊初始形狀，賦予療耗 */\n  function clickShapeAndAssignValue(dataItem) {\n    if (!focusShape) return null;\n\n    checkDataAndAddData();\n\n    // 展開的點\n    const item = addShapeData[courseActiveIndex.value][faceMapPartsAndImageFileIndex.value].find(t => t.designContentId === focusShape.designContentId);\n\n    selectedConsumable.value = dataItem;\n\n    item.consumableColor = selectedConsumable.value.colorStyleName;\n    item.courseConsumableId = selectedConsumable.value.courseConsumableAndUnitData.id;\n    // item.color = selectedConsumable.value.colorStyleName;\n\n    item.rectWidth = pointUnfoldRectWidth(item.qunatity);\n    // centerX、centerY 是形狀的最左上角的 x、y\n    item.centerX = item.x - (item.rectWidth / 2);\n    item.centerY = item.y - (item.rectHeight / 2);\n    \n    shapeDataSorting();\n    renderCanvas();\n    pointUnfoldFocus(item);\n  }\n\n  /** 點擊備註 */\n  function clickRemarkOption() {\n    if (!focusShape) {\n      remarkData.value = [];\n      return null;\n    }\n\n    // 展開的點\n    if (Object.keys(focusShape).some(t => t === 'qunatity')) {\n\n      const item = addShapeData[courseActiveIndex.value][faceMapPartsAndImageFileIndex.value].find(t => t.designContentId === focusShape.designContentId);\n\n      item.designRemarkId = remarkData.value;\n      item.showRemarkData = designRemarkRecordDataList.value.filter(item => remarkData.value.some(t => t === item.designRemarkId));\n\n      renderCanvas();\n      pointUnfoldFocus(item);\n      return null;\n    }\n\n    // 未展開的點\n    const item = showDefaultDrawingData.value.find(t => t.designContentId === focusShape.designContentId);\n\n    const showRemarkData = designRemarkRecordDataList.value.filter(item => remarkData.value.some(t => t === item.designRemarkId));\n\n    let codeName = null;        // 使用鈍針 - 文字 C\n    let colorName = null;       // 瘀青 - 背景色\n    let borderColorName = null; // 稀釋 - 外框色\n    showRemarkData.forEach(t => {\n      switch (t.name) {\n        case \"使用鈍針\":\n          codeName = t.codeName;\n          break;\n        case \"瘀青\":\n          colorName = t.colorName;\n          break;\n        case \"稀釋\":\n          borderColorName = t.colorName;\n          break;\n      }\n    });\n\n    item.bruiseColor = colorName;\n    item.borderColorName = borderColorName;\n    item.bluntNeedle = codeName;\n\n    renderCanvas();\n    pointFocusDraw(item);\n  }\n\n  /** 當點擊劑量與療耗時去檢查是否有新增資料  */\n  function checkDataAndAddData() {\n    // 找出是否有一樣的的資料，沒有就新增一筆\n    const judge = addShapeData[courseActiveIndex.value][faceMapPartsAndImageFileIndex.value].some(item => item.designContentId === focusShape.designContentId);\n    const showRemarkData = designRemarkRecordDataList.value.filter(item => remarkData.value.some(t => t === item.designRemarkId));\n\n    if (!judge) {\n\n      const data = {\n        medicalRecordId: currentMedicalRecordId,\n        designContentId: focusShape.designContentId,\n        courseConsumableId: selectedConsumable.value ? selectedConsumable.value.courseConsumableAndUnitData.id : null,\n        qunatity: 0,\n        designRemarkId: remarkData.value.length !== 0 ? remarkData.value : [],\n        x: focusShape.x,\n        y: focusShape.y,\n        color: focusShape.color,\n        rectWidth: 0,\n        rectHeight: 24,\n        centerX: null,\n        centerY: null,\n        consumableColor: selectedConsumable.value ? selectedConsumable.value.colorStyleName : null,\n        showRemarkData: remarkData.value.length !== 0 ? showRemarkData : []\n      }\n      addShapeData[courseActiveIndex.value][faceMapPartsAndImageFileIndex.value].push(data);\n    }\n  }\n\n  /** 檢查劑量和療耗是否同時存在，沒有就刪除 */\n  function checkDataHaveDoseAndConsumable(item) {\n    let i = null;\n    let judge = true;\n\n    addShapeData[courseActiveIndex.value][faceMapPartsAndImageFileIndex.value].forEach((t, index) => {\n      if (t.designContentId === item.designContentId) {\n        i = index;\n      }\n    });\n\n    if (item.qunatity === 0 && !item.courseConsumableId) {\n      addShapeData[courseActiveIndex.value][faceMapPartsAndImageFileIndex.value].splice(i, 1);\n      judge = false;\n    }\n\n    return judge;\n  }\n\n  /** 偵測是否為展開的點 */\n  function pointUnfoldListener(e) {\n    if (addShapeData[courseActiveIndex.value][faceMapPartsAndImageFileIndex.value].length === 0) return null;\n\n    const canvasX = e.clientX - canvas.getBoundingClientRect().left;\n    const canvasY = e.clientY - canvas.getBoundingClientRect().top;\n    \n    for (let i = 0; i < addShapeData[courseActiveIndex.value][faceMapPartsAndImageFileIndex.value].length; i++) {\n      const shape = addShapeData[courseActiveIndex.value][faceMapPartsAndImageFileIndex.value][i];\n      // centerX、centerY 是形狀的最左上角的 x、y\n      if (canvasX >= shape.centerX &&\n        canvasX <= shape.centerX + shape.rectWidth &&\n        canvasY >= shape.centerY &&\n        canvasY <= shape.centerY + shape.rectHeight) {\n        return shape;\n      }\n    }\n\n    return null;\n  }\n\n  /** 執行確認送出 */\n  async function runPostMicroCosmeticSurgeryRecords() {\n\n    const allData = [];\n\n    addShapeData[courseActiveIndex.value].forEach(item => {\n      item.forEach(t => {\n        allData.push(t);\n      })\n    })\n\n    const data = allData.map(item => {\n      return {\n        medicalRecordId: item.medicalRecordId,\n        designContentId: item.designContentId,\n        courseConsumableId: item.courseConsumableId,\n        qunatity: item.qunatity,\n        designRemarkId: item.designRemarkId\n      }\n    });\n    \n    // 驗證\n    facePageJudge.value = [];\n    const judge = data.some(t => t.qunatity === 0 || !t.courseConsumableId);\n\n    if (judge) {\n      addShapeData[courseActiveIndex.value].forEach((item, index) => {\n        const judge = item.some(t => t.qunatity === 0 || !t.courseConsumableId);\n        if (judge) {\n          facePageJudge.value.push(index);\n        }\n      })\n\n      const unqualifiedData = addShapeData[courseActiveIndex.value][faceMapPartsAndImageFileIndex.value].filter(t => t.qunatity === 0 || !t.courseConsumableId);\n\n      unqualifiedData.forEach(item => {\n        pointUnfoldFocus(item, '#F02936');\n      });\n\n      updateMessage('尚有點位無劑量或無療耗');\n\n      return null;\n    }\n\n    await postMicroCosmeticSurgeryRecords(data);\n\n    await getMicroCosmeticSurgeryRecords(currentMedicalRecordId);\n\n    const faceMapPartsId = faceMapPartsAndImageFileDataList.value[faceMapPartsAndImageFileIndex.value].faceMapPartsId;\n\n    const filterData = microCosmeticSurgeryRecordsData.value.microCosmeticSurgeryRecordsDatas.filter(t => t.faceMapPartsId === faceMapPartsId)\n                        .map(item => {\n                          const { designContentId, courseConsumableId, qunatity, designRemarkRecordData, courseConsumableColorName } = item;\n\n                          const designRemarkId = designRemarkRecordData.map(t => t.designRemarkId);\n\n                          const { designContentData } = initCourseCorrespondenceDesignData.value;\n\n                          const designContentDataItem = designContentData.find(item => item.designContentId === designContentId);\n\n                          const { originCoordinateRecord_X, originCoordinateRecord_Y, colorName } = designContentDataItem;\n\n                          const rectWidth = pointUnfoldRectWidth(qunatity);\n\n                          return {\n                            medicalRecordId: currentMedicalRecordId,\n                            designContentId,\n                            courseConsumableId,\n                            qunatity,\n                            designRemarkId,\n                            x: originCoordinateRecord_X,\n                            y: originCoordinateRecord_Y,\n                            color: colorName,\n                            rectWidth,\n                            rectHeight: 24,\n                            centerX: originCoordinateRecord_X - (rectWidth / 2),\n                            centerY: originCoordinateRecord_Y - (24 / 2),\n                            consumableColor: courseConsumableColorName,\n                            showRemarkData: designRemarkRecordData\n                          }\n                        })\n\n    addShapeData[courseActiveIndex.value][faceMapPartsAndImageFileIndex.value] = filterData;\n  }\n\n  const totalDose = ref(0);\n\n  /** 總治療量計算 */\n  function totalDoseAddUp() {\n    totalDose.value = 0;\n    addShapeData[courseActiveIndex.value][faceMapPartsAndImageFileIndex.value].forEach(t => (totalDose.value += parseFloat(t.qunatity)).toFixed(2));\n  }\n\n  /** 切換 showHAStatus */\n  function switchShowHAStatus() {\n    showHAStatus.value = !showHAStatus.value\n\n    if (!showHAStatus.value) {\n      nextTick(async() => {\n        await init();\n        await renderInitData();\n\n        canvas = document.getElementById('canvas');\n        if (!initCanvas(canvas)) return null;\n        dataSorting();\n        importImageAndDefaulShape();\n      })\n    }\n  }\n</script>","import script from \"./courseOfTreatment.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./courseOfTreatment.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["defineStore","state","messages","actions","updateMessage","message","ststus","timestamp","Math","floor","Date","this","push","removeMessageWithTiming","setTimeout","forEach","item","i","splice","removeMessage","index","alertMessage","alertMessageStore","BASE_URL","async","url","defaultOptions","headersJudge","headers","methodJudge","method","dataJudge","data","options","getTokenFromCookie","body","JSON","stringify","response","fetch","then","res","json","isGetJudge","statusCode","error","cookies","document","cookie","split","length","trim","startsWith","token","substring","createFocusShape","image","ctx","canvas","focusEditShape","unfoldData","showDefaultDrawingData","startX","startY","endX","endY","differenceX","differenceY","shapeListener","e","x","clientX","getBoundingClientRect","left","y","clientY","top","shape","width","height","designToolName","distance","sqrt","radius","drawDrawingToolData","clearRect","drawImage","bluntNeedle","beginPath","arc","PI","fillStyle","color","fill","bruiseColor","pointBruisesRendering","borderColorName","strokeStyle","lineWidth","stroke","font","fillText","closePath","strokeRect","initCanvas","getContext","alert","initImage","vm","Promise","resolve","reject","Image","src","onload","onerror","pointUnfold","remarkData","remarkDataSorting","showRemarkData","codeName","colorName","text","qunatity","pillRadius","paddingX","paddingY","rectHeight","fontSize","textWidth","measureText","rectWidth","lineTo","consumableColor","pointUnfoldBruisesRendering","pointUnfoldFocus","strokeColor","borderPadding","borderX","borderY","borderWidth","borderHeight","borderPillRadius","pointFocusDraw","pointBorder","pointUnfoldRectWidth","t","name","save","clip","shapeX","shapeY","moveTo","restore","fetchApifunction","fetchApiStore","fetchApi","allCourseCorrespondenceDesignNameData","initCourseCorrespondenceDesignData","courseId","courseConsumableCorrespondenceData","microCosmeticSurgeryRecordsData","initMicroCosmeticSurgeryRecordData","medicalRecordId","customerId","employeeId","date","initExtraMedicalRecordData","anestheticInfo","departmentId","console","log","doctor","courseOptionsByType","courseType","bodyPartByCourseData","drawingTool","drawingToolStore","courseCorrespondenceDesign","courseCorrespondenceDesignStore","microCosmeticSurgeryRecords","microCosmeticSurgeryRecordsStore","courseConsumableCorrespondence","courseConsumableCorrespondenceStore","storeToRefs","postMicroCosmeticSurgeryRecords","getInitMicroCosmeticSurgeryRecordData","route","useRoute","HATableData","HeaderTh","colspan","rowspan","rowspanName","thName","td","first","showHATableData","ref","currentModalData","selectedConsumable","pointName","designContentId","designRemarkRecordDataList","addShapeDataModalRef","addShapeDataModal","currentMedicalRecordId","initAndUpdate","params","operator","arrivedTime","value","find","courseName","medicalRecordBasicDatas","id","designRemarkRecordData","designContentData","parse","point","t2","courseConsumableId","courseConsumableColorName","designRemark","allMicroCosmeticSurgeryRecordsDatas","microCosmeticSurgeryRecordsDatas","haveDataPoint","map","designRemarkId","openAddDoseAndConsumable","tdItem","Object","assign","show","runPostMicroCosmeticSurgeryRecords","tr","filter","hide","onMounted","Modal","__exports__","medicalRecord","medicalRecordStore","course","courseStore","bodyPart","bodyPartStore","getAllCourseCorrespondenceDesignNameData","getInitCourseCorrespondenceDesignData","getCourseConsumableCorrespondenceData","getMicroCosmeticSurgeryRecords","getInitExtraMedicalRecordData","getAnestheticInfo","createExtraMedicalRecord","getCourseOptionsByType","getBodyPartByCourse","courseActiveIndex","faceMapPartsAndImageFileDataList","faceMapPartsAndImageFileIndex","addShapeData","focusShape","nonExtraCourseIds","showAllCourseCorrespondenceDesignNameData","showHAStatus","facePageJudge","courseTypeData","departmentIdData","init","nonExtra","some","extra","renderInitData","faceMapPartsAndImageFileData","dataSorting","initMicroCosmeticSurgeryRecordDataItem","faceMapPartsAndImageFilesDatas","initDesignContentDetailsDatas","faceImgArray","faceMapPartsId","shapeData","t3","t4","initDesignContentDetailsDatasItem","t5","originCoordinateRecord_X","originCoordinateRecord_Y","centerX","centerY","totalDoseAddUp","importImageAndDefaulShape","faceMapPartsImageFilesPath","shapeDataSorting","renderCanvas","catch","facePageChange","getElementById","extraModalRef","extraModal","extraModalData","commonDataList","activityData","cashData","voucherInput","oweVoucherInput","voucherOrderDetailData","bodyParts","allBodyParts","total","otherBodyPartLength","otherBodyParts","otherBodyPartJudge","noDataForOtherParts","paymentMethodData","paymentMethodSwitch","paymentMethods","commonDataListForOhterBodypart","paymentMethodsForOtherBodyparts","bodyPartsWindow","courseData","openExtraModal","AnestheticInfoApiParameters","commonData","customer","birthday","beauticianNickname","operatorId","anesthesiaType","comment","anestheticFee","received","openAppointmentBodyPartsWindow","close","removeEventListener","addEventListener","selectedBodyParts","event","checked","target","newNoDataForOtherParts","itemA","newNoDataForOtherPartsLen","addItem","bodyPartId","paymentMethod","sequence","active","oweAmount","deleteItem","includes","indexOf","deleteAmount","priceType","depositData","amountOfMoney","price","part","scope","switch","paymentMethodId","otherPartName","otherPartScope","deleteAppointmentBodyPartsItem","clickCourseNav","judge","switchShowHAStatus","designFaceMapPartsId","referenceCoordinateRecord_X","referenceCoordinateRecord_Y","sizeParameters","itemB","confirmExtra","otherParts","anesthetic","anestheticFees","coursePartOrderDetailData","coursePartOrderDetailJudge","paymentMethodJudge","voucherOrderDetail","oweVoucherSituationData","couponOrderDetailData","couponOrderDetailDataJudge","couponNumber","anesthesiaSituation","postData","anestheticOrderDetailData","anestheticFeeId","fee","findIndex","clickShape","pointUnfoldListener","courseConsumableAndUnitData","clickShapeAndAssignValue","clickDose","num","checkDataAndAddData","checkDataHaveDoseAndConsumable","parseFloat","toFixed","selectConsumable","dataItem","colorStyleName","clickRemarkOption","keys","canvasX","canvasY","allData","unqualifiedData","filterData","designContentDataItem","totalDose","nextTick"],"sourceRoot":""}