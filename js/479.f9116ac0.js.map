{"version":3,"file":"js/479.f9116ac0.js","mappings":"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","sources":["webpack://amis/./src/views/courseSetting.vue","webpack://amis/./src/views/courseSetting.vue?c48b"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <h3 class=\"mb-5\">療程管理</h3>\n\n    <h4 class=\"mb-2\">維護主療程</h4>\n    <div class=\"d-flex justify-content-between mb-2\">\n      <div class=\"row g-3\">\n        <div class=\"col-auto\">\n          <label for=\"courseTypeNameSearch\" class=\"col-form-label\">療程名稱</label>\n        </div>\n        <div class=\"col-auto\">\n          <input type=\"text\" id=\"courseTypeNameSearch\" class=\"form-control\" v-model=\"courseTypeNameSearchInput\">\n        </div>\n        <div class=\"col-auto\">\n          <button type=\"button\" class=\"btn btn-primary\" @click=\"courseTypeNameSearch()\">搜尋</button>\n          <button type=\"button\" class=\"btn btn-primary ms-2\" @click=\"getSettingData(); courseTypeNameSearchInput = null;\">重置</button>\n        </div>\n      </div>\n      <button type=\"button\" class=\"btn btn-primary\" @click=\"openModal(true)\">新增療程</button>\n    </div>\n    <table class=\"table\">\n      <thead>\n        <tr>\n          <th scope=\"col\">療程名稱</th>\n          <th scope=\"col\">療程類別</th>\n          <th scope=\"col\">療程點數</th>\n          <th scope=\"col\">子療程</th>\n          <th class=\"text-center\" scope=\"col\">編輯</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"settingDataItem in settingData\" :key=\"settingDataItem.id\">\n          <td class=\"align-middle\">{{ settingDataItem.name }}</td>\n          <td class=\"align-middle\">{{ settingDataItem.courseTypeName }}</td>\n          <td class=\"align-middle\">{{ settingDataItem.achievementWeights }}</td>\n          <td class=\"align-middle\">\n            <p class=\"mb-0\" v-for=\"item in settingDataItem.subcourseNamePointDtos\" :key=\"item\">\n              {{ item.subcourseName }} ----點數: {{ item.point }}\n            </p>\n          </td>\n          <td class=\"text-center\">\n            <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\n              <!-- <button type=\"button\" class=\"btn btn-danger\" @click=\"openDeleteModal(settingDataItem)\">刪除</button> -->\n              <button type=\"button\" class=\"btn btn-primary\" @click=\"openModal(false, settingDataItem)\">編輯</button>\n            </div>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n\n  <!-- 新增 / 修改療程 modal -->\n  <div class=\"modal fade\" ref=\"modalRef\">\n    <div class=\"modal-dialog\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">{{ data.isAddEmployee ? '新增':'編輯' }}療程</h5>\n          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n        </div>\n        <div class=\"modal-body px-1\">\n          <form>\n            <div class=\"row mb-3\">\n              <label for=\"name\" class=\"col-sm-3 col-form-label\">療程名稱 :</label>\n              <div class=\"col-sm-9\">\n                <input type=\"text\" class=\"form-control\" id=\"name\"\n                      v-model=\"modalData.name\">\n              </div>\n            </div>\n            <div class=\"row mb-3\">\n              <label for=\"courseTypeName\" class=\"col-sm-3 col-form-label\">療程類別 :</label>\n              <div class=\"col-sm-9\">\n                <select class=\"form-select\" v-model=\"modalData.type\">\n                  <option selected hidden :value=\"null\"></option>\n                  <option v-for=\"item in courseTypeData\"\n                          :key=\"item.id\"\n                          :value=\"item.id\">\n                          {{ item.name }}\n                  </option>\n                </select>\n\n                <!-- <input type=\"text\" class=\"form-control\" id=\"courseTypeName\"\n                      v-model=\"modalData.type\"> -->\n              </div>\n            </div>\n            <div class=\"row mb-3\">\n              <label for=\"subcourse\" class=\"col-sm-3 col-form-label\">子療程 :</label>\n              <div class=\"col-sm-9\" style=\"margin-top: 7px;\">\n                <div class=\"row gx-3 gy-2 align-items-center mb-2\"\n                    v-for=\"subcourseItem in subcourseForm\" :key=\"subcourseItem.id\">\n                  <div class=\"col-6\">\n                    <div class=\"form-check\">\n                      <input class=\"form-check-input\"\n                            type=\"checkbox\"\n                            :id=\"subcourseItem.id\"\n                            :value=\"subcourseItem.id\"\n                            v-model=\"modalData.subcoursePointData\">\n                      <label class=\"form-check-label\"\n                            :for=\"subcourseItem.id\">\n                        {{ subcourseItem.name }} ----點數:\n                      </label>\n                    </div>\n                  </div>\n\n                  <div class=\"col-4\">\n                    <input type=\"number\" min=\"0\" class=\"form-control\" v-model=\"subcourseItem.point\">\n                  </div>\n                </div>\n\n              </div>\n            </div>\n\n            <!-- 療程點數 -->\n            <div class=\"row mb-3\">\n              <label for=\"achievementWeights\"\n                    class=\"col-sm-3 col-form-label\">療程點數 :</label>\n              <div class=\"col-sm-9\">\n                <input type=\"number\" min=\"0\" class=\"form-control\" id=\"achievementWeights\"\n                      v-model=\"modalData.achievementWeights\">\n              </div>\n            </div>\n\n            <!-- 拍照頻率 -->\n            <div class=\"row mb-3\">\n              <label for=\"photoShootFrequency\"\n                    class=\"col-sm-3 col-form-label\">拍照頻率 :</label>\n              <div class=\"col-sm-9\">\n                <select class=\"form-select\" v-model=\"modalData.photoShootFrequency\">\n                  <option selected hidden :value=\"null\"></option>\n                  <option v-for=\"item in coursePhotoShootFrequencyData\"\n                          :key=\"item.id\"\n                          :value=\"item.id\">\n                          {{ item.name }}\n                  </option>\n                </select>\n              </div>\n            </div>\n\n            <!-- 療程頻率 -->\n            <div class=\"row mb-3\">\n              <label for=\"trackFrequency\"\n                    class=\"col-sm-3 col-form-label\">療程頻率 :</label>\n              <div class=\"col-sm-9\">\n                <select class=\"form-select\" v-model=\"modalData.trackFrequency\">\n                  <option selected hidden :value=\"null\"></option>\n                  <option v-for=\"item in courseTrackFrequencyData\"\n                          :key=\"item.id\"\n                          :value=\"item.id\">\n                          {{ item.name }}\n                  </option>\n                </select>\n              </div>\n            </div>\n          </form>\n        </div>\n        <div class=\"modal-footer px-1\">\n          <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">取消</button>\n          <button type=\"button\" class=\"btn btn-primary\" @click=\"sendOut()\">確定</button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- 刪除 modal -->\n  <!-- <div class=\"modal fade\" ref=\"deleteModalRef\">\n    <div class=\"modal-dialog\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">刪除員工資料</h5>\n          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n        </div>\n        <div class=\"modal-body\">\n          確認要刪除員工 <span class=\"text-danger\">{{ data.deleteitem.name }}</span>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">取消</button>\n          <button type=\"button\" class=\"btn btn-danger\" @click=\"deleteEmployee(data.deleteitem.id)\">確定</button>\n        </div>\n      </div>\n    </div>\n  </div> -->\n</template>\n\n<script setup>\nimport { ref, onMounted, inject, toRefs } from 'vue';\nimport { Modal } from 'bootstrap';\n\nconst alertMessage = inject('alertMessage');\n    const { updateMessage } = alertMessage;\n\n    const fetchFunction = inject('fetchFunction');\n\n    const {\n      fetchApi,\n      getTokenFromCookie\n    } = fetchFunction;\n\n    const courseType = inject('courseType');\n\n    const {\n      courseTypeState,\n      getCourseTypeData,\n    } = courseType;\n\n    const {\n      courseTypeData\n    } = toRefs(courseTypeState);\n\n    const modalRef = ref(null);\n    // const deleteModalRef = ref(null);\n    // let deleteModa;\n\n    let modal;\n\n    const data = ref({\n      employeeData: [],\n      deleteitem: '',\n      modalData: {\n        name: null,\n        nickname: null,\n        role: null,\n        hireDate: null,\n        phoneNumber: null,\n        nurseLicense: true,\n        color: null,\n        doctorSequence: 0,\n        active: true,\n        userId: null,\n        password: null\n      },\n      departmentId: '',\n      roleData: [],\n      isAddEmployee: true,\n    })\n\n    // const openDeleteModal = (item) => {\n    //   data.value.deleteitem = Object.assign({}, item);\n    //   deleteModa.show();\n    // }\n\n\n    /** 確認 */\n    const sendOut = async() => {\n\n      let judge;\n\n      if (data.value.isAddEmployee) {\n        judge = await addCourse();\n      } else {\n        judge = await editCourse();\n      }\n\n      if (judge.statusCode >= 400) {\n        updateMessage(judge.message);\n        return null;\n      }\n\n      updateMessage(judge.message);\n      getSettingData();\n      modal.hide();\n    }\n\n    const modalData = ref({});\n    const subcourseForm = ref([]);\n\n    /** 開啟 Modal */\n    const openModal = async (status, item) => {\n      data.value.isAddEmployee = status;\n\n      const subcoursePointsArr = [];\n\n      subcourse.value.forEach(item => {\n        subcoursePointsArr.push({\n          id: item.id,\n          point: null,\n          name: item.name\n        });\n      });\n\n      subcourseForm.value = subcoursePointsArr;\n      \n      if (data.value.isAddEmployee) {\n        resetModalData();\n      } else {\n        // 編輯，帶原先值\n        const getData = await getInitUpdateCourseData(item.id);\n\n        const {\n          id,\n          type,\n          name,\n          trackFrequency,\n          photoShootFrequency,\n          achievementWeights,\n          active,\n          subcourseData,\n        } = getData;\n\n        modalData.value = {\n          id,\n          type,\n          name,\n          trackFrequency,\n          photoShootFrequency,\n          achievementWeights,\n          active,\n          subcoursePointData: subcourseData.map(item => item.subcourseId)\n        };\n\n        subcourseForm.value.forEach(itemA => {\n          subcourseData.forEach(itemB => {\n            if (itemA.id === itemB.subcourseId) {\n              itemA.point = itemB.point;\n            }\n          })\n        });\n      }\n\n      modal.show();\n    }\n\n    /** 編輯療程 */\n    const editCourse = async() => {\n      \n      const subcoursePointData = [];\n      subcourseForm.value.forEach(itme => {\n        if (modalData.value.subcoursePointData.some(t => t === itme.id)) {\n          subcoursePointData.push({\n            subcourseId: itme.id,\n            point: itme.point\n          });\n        }\n      })\n\n      const PATCHData = {\n        ...modalData.value,\n        subcoursePointData,\n      }\n\n      const url = `/api/Course`;\n\n      const token = getTokenFromCookie();\n\n      const options = {\n        headers: {\n          'Content-Type': 'application/json',\n          \"Authorization\" : `Bearer ${token}`\n        },\n        method: 'PATCH',\n        body: JSON.stringify(PATCHData),\n      };\n\n      return await fetchApi(url, options);\n    }\n\n    /** 新增療程 */\n    const addCourse = async() => {\n\n      const subcoursePointData = [];\n      subcourseForm.value.forEach(itme => {\n        if (modalData.value.subcoursePointData.some(t => t === itme.id)) {\n          subcoursePointData.push({\n            subcourseId: itme.id,\n            point: itme.point\n          });\n        }\n      })\n\n      const postData = {\n        ...modalData.value,\n        subcoursePointData,\n      }\n\n      const url = `/api/Course`;\n\n      const token = getTokenFromCookie();\n\n      const options = {\n        headers: {\n          'Content-Type': 'application/json',\n          \"Authorization\" : `Bearer ${token}`\n        },\n        method: 'POST',\n        body: JSON.stringify(postData),\n      };\n\n      return await fetchApi(url, options);\n    }\n\n    /** 刪除員工 */\n    // const deleteEmployee = async(id) => {\n    //   const url = `/api/Employee?id=${id}`;\n\n    //   const token = getTokenFromCookie();\n\n    //   const options = {\n    //     headers: {\n    //       'Content-Type': 'application/json',\n    //       \"Authorization\" : `Bearer ${token}`\n    //     },\n    //     method: 'DELETE',\n    //   };\n\n    //   const response = await fetchApi(url, options);\n\n    //   updateMessage(response.message);\n\n    //   if (response.statusCode >= 400) return null;\n\n    //   getCourseTypeData();\n    //   deleteModa.hide();\n    // }\n\n    /** 清空 Modal 資料 */\n    function resetModalData() {\n      modalData.value = {\n        type: null,\n        name: null,\n        trackFrequency: null,\n        photoShootFrequency: null,\n        achievementWeights: null,\n        active: true,\n        subcoursePointData: []\n      }\n    }\n\n    // API\n\n    /** 取得初始化更新療程的資料 */\n    async function getInitUpdateCourseData(id) {\n      const url = `/api/Course/GetInitUpdateCourseData?id=${id}`;\n\n      const token = getTokenFromCookie();\n\n      const options = {\n        headers: {\n          'Content-Type': 'application/json',\n          \"Authorization\" : `Bearer ${token}`\n        },\n        method: 'GET'\n      }\n\n      const response = await fetchApi(url, options);\n\n      return response.data;\n    }\n\n    const courseTrackFrequencyData = ref([]);\n\n    /** 取得所有療程追蹤頻率 */\n    async function getCourseTrackFrequencyAll() {\n      const url = `/api/CourseTrackFrequency/GetAll`;\n\n      const token = getTokenFromCookie();\n\n      const options = {\n        headers: {\n          'Content-Type': 'application/json',\n          \"Authorization\" : `Bearer ${token}`\n        },\n        method: 'GET'\n      }\n\n      const response = await fetchApi(url, options);\n\n      courseTrackFrequencyData.value = response.data;\n    }\n\n    const coursePhotoShootFrequencyData = ref([]);\n\n    /** 取得所有療程拍照頻率 */\n    async function getCoursePhotoShootFrequencyAll() {\n      const url = `/api/CoursePhotoShootFrequency/GetAll`;\n\n      const token = getTokenFromCookie();\n\n      const options = {\n        headers: {\n          'Content-Type': 'application/json',\n          \"Authorization\" : `Bearer ${token}`\n        },\n        method: 'GET'\n      }\n\n      const response = await fetchApi(url, options);\n\n      coursePhotoShootFrequencyData.value = response.data;\n    }\n\n    const subcourse = ref([]);\n\n    /** 取得所有子療程 */\n    async function getSubcourseAll() {\n\n      const url = `/api/Subcourse/GetAll`;\n\n      const token = getTokenFromCookie();\n\n      const options = {\n        headers: {\n          'Content-Type': 'application/json',\n          \"Authorization\" : `Bearer ${token}`\n        },\n        method: 'GET'\n      }\n\n      const response = await fetchApi(url, options);\n\n      subcourse.value = response.data;\n    }\n\n    const settingData = ref([]);\n\n    /** 取得療程資料(系統設定)*/\n    async function getSettingData() {\n      const url = `/api/Course/GetSettingData`;\n\n      const token = getTokenFromCookie();\n\n      const options = {\n        headers: {\n          'Content-Type': 'application/json',\n          \"Authorization\" : `Bearer ${token}`\n        },\n        method: 'GET'\n      }\n\n      const response = await fetchApi(url, options);\n\n\n      settingData.value = response.data;\n    }\n\n    const courseTypeNameSearchInput = ref(null);\n    \n    /** 搜尋 - 根據名稱模糊搜尋取得療程資料(系統設定) */\n    async function courseTypeNameSearch() {\n      const url = `/api/Course/GetSettingDataByName?name=${courseTypeNameSearchInput.value}`;\n\n      const token = getTokenFromCookie();\n\n      const options = {\n        headers: {\n          'Content-Type': 'application/json',\n          \"Authorization\" : `Bearer ${token}`\n        },\n        method: 'GET'\n      }\n\n      const response = await fetchApi(url, options);\n\n      settingData.value = response.data;\n    }\n\n    /** 初始 */\n    async function init() {\n      await getSettingData();\n      await getCourseTypeData();\n      await getSubcourseAll();\n      await getCoursePhotoShootFrequencyAll();\n      await getCourseTrackFrequencyAll();\n    }\n\n    init();\n\n    onMounted(() => {\n      modal = new Modal(modalRef.value);\n      // deleteModa = new Modal(deleteModalRef.value);\n    });\n\n</script>","import script from \"./courseSetting.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./courseSetting.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["alertMessage","inject","updateMessage","fetchFunction","fetchApi","getTokenFromCookie","courseType","courseTypeState","getCourseTypeData","courseTypeData","toRefs","modalRef","ref","modal","data","employeeData","deleteitem","modalData","name","nickname","role","hireDate","phoneNumber","nurseLicense","color","doctorSequence","active","userId","password","departmentId","roleData","isAddEmployee","sendOut","async","judge","value","addCourse","editCourse","statusCode","message","getSettingData","hide","subcourseForm","openModal","status","item","subcoursePointsArr","subcourse","forEach","push","id","point","resetModalData","getData","getInitUpdateCourseData","type","trackFrequency","photoShootFrequency","achievementWeights","subcourseData","subcoursePointData","map","subcourseId","itemA","itemB","show","itme","some","t","PATCHData","url","token","options","headers","method","body","JSON","stringify","postData","response","courseTrackFrequencyData","getCourseTrackFrequencyAll","coursePhotoShootFrequencyData","getCoursePhotoShootFrequencyAll","getSubcourseAll","settingData","courseTypeNameSearchInput","courseTypeNameSearch","init","onMounted","Modal","__exports__"],"sourceRoot":""}