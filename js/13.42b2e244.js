"use strict";(self["webpackChunkamis"]=self["webpackChunkamis"]||[]).push([[13],{4013:function(t,e,a){a.r(e),a.d(e,{default:function(){return b}});var i=a(6252),n=a(3577),o=a(9963),l=a(2262);const c=t=>((0,i.dD)("data-v-ca7e3d54"),t=t(),(0,i.Cn)(),t),s={class:"container"},u=c((()=>(0,i._)("h3",{class:"mb-5"},"設定門診時間",-1))),d=c((()=>(0,i._)("div",{class:"d-flex mb-2"},null,-1))),p={class:"table"},m=c((()=>(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",{scope:"col"},"部門名稱"),(0,i._)("th",{scope:"col"},"時段"),(0,i._)("th",{scope:"col"},"開始時間"),(0,i._)("th",{scope:"col"},"結束時間"),(0,i._)("th",{scope:"col"},"間距(分鐘)")])],-1))),r=["onClick"],h=c((()=>(0,i._)("h3",{class:"mb-5"},"門診時間詳細",-1))),_={class:"table"},g=c((()=>(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",{scope:"col"},"時間"),(0,i._)("th",{scope:"col"},"狀態")])],-1))),w={class:"form-check form-switch"},T=["onUpdate:modelValue","onChange"];var y={__name:"setOutpatientTime",setup(t){const e=(0,i.f3)("alertMessage"),{updateMessage:a}=e,c=(0,i.f3)("fetchFunction"),{fetchApi:y,getTokenFromCookie:D}=c,f=(0,l.qj)({modalData:{},selectItem:"",OutpatientTimeData:[],outpatientTimeDetailData:[],isAddOutpatientTime:!0}),b=async t=>{f.selectItem=t;const e=`/api/OutpatientTimePointSetting/GetByOutpatientSettingId?outpatientSettingId=${t.id}`,a=D(),i={headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},method:"GET"},n=await y(e,i);f.outpatientTimeDetailData=n.data};async function k(){const t="/api/OutpatientSetting/GetInitOutpatientSettingData",e=D(),a={headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},method:"GET"},i=await y(t,a);f.OutpatientTimeData=i.data}async function v(){await k()}v();const C=async t=>{const{id:e,outpatientSettingId:i,timePoint:n,active:o}=t,l={id:e,outpatientSettingId:i,timePoint:n,active:o},c="/api/OutpatientTimePointSetting",s=D(),u={headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},method:"PATCH",body:JSON.stringify(l)},d=await y(c,u);a(d.message)};return(t,e)=>((0,i.wg)(),(0,i.iD)("div",s,[u,d,(0,i._)("table",p,[m,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(f.OutpatientTimeData,(t=>((0,i.wg)(),(0,i.iD)("tr",{key:t.id,onClick:e=>b(t),class:(0,n.C_)({selectItemStyle:f.selectItem.id===t.id})},[(0,i._)("th",null,(0,n.zw)(t.departmentName),1),(0,i._)("td",null,(0,n.zw)(t.clinicPeriodName),1),(0,i._)("td",null,(0,n.zw)(t.startTime),1),(0,i._)("td",null,(0,n.zw)(t.endTime),1),(0,i._)("td",null,(0,n.zw)(t.timeInterval),1)],10,r)))),128))])]),h,(0,i._)("table",_,[g,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(f.outpatientTimeDetailData,(t=>((0,i.wg)(),(0,i.iD)("tr",{key:t.id},[(0,i._)("td",null,(0,n.zw)(t.timePoint),1),(0,i._)("td",null,[(0,i._)("div",w,[(0,i.wy)((0,i._)("input",{class:"form-check-input",type:"checkbox",role:"switch","onUpdate:modelValue":e=>t.active=e,onChange:e=>C(t)},null,40,T),[[o.e8,t.active]])])])])))),128))])])]))}},D=a(3744);const f=(0,D.Z)(y,[["__scopeId","data-v-ca7e3d54"]]);var b=f}}]);
//# sourceMappingURL=13.42b2e244.js.map