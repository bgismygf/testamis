{"version":3,"file":"js/app.d3f81171.js","mappings":"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","sources":["webpack://amis/./src/App.vue","webpack://amis/./src/router/index.js","webpack://amis/./src/composition/fetchFunction.js","webpack://amis/./src/composition/store.js","webpack://amis/./src/composition/checkIn.js","webpack://amis/./src/composition/track.js","webpack://amis/./src/composition/alertMessage.js","webpack://amis/./src/composition/textConversionTool.js","webpack://amis/./src/composition/accordion.js","webpack://amis/./src/composition/Employee.js","webpack://amis/./src/composition/LeaveRecord.js","webpack://amis/./src/composition/MedicalRecord.js","webpack://amis/./src/composition/Course.js","webpack://amis/./src/composition/courseType.js","webpack://amis/./src/composition/prescribeMedicineRecord.js","webpack://amis/./src/App.vue?7ccd","webpack://amis/./src/main.js","webpack://amis/webpack/bootstrap","webpack://amis/webpack/runtime/chunk loaded","webpack://amis/webpack/runtime/compat get default export","webpack://amis/webpack/runtime/define property getters","webpack://amis/webpack/runtime/ensure chunk","webpack://amis/webpack/runtime/get javascript chunk filename","webpack://amis/webpack/runtime/get mini-css chunk filename","webpack://amis/webpack/runtime/global","webpack://amis/webpack/runtime/hasOwnProperty shorthand","webpack://amis/webpack/runtime/load script","webpack://amis/webpack/runtime/make namespace object","webpack://amis/webpack/runtime/publicPath","webpack://amis/webpack/runtime/css loading","webpack://amis/webpack/runtime/jsonp chunk loading","webpack://amis/webpack/startup"],"sourcesContent":["<template>\n  <router-view/>\n</template>\n\n<script>\nimport { provide } from 'vue';\nimport store from '@/composition/store.js';\nimport checkIn from '@/composition/checkIn.js';\nimport track from '@/composition/track.js';\n\nimport fetchFunction from '@/composition/fetchFunction.js';\nimport alertMessage from '@/composition/alertMessage.js';\nimport textConversionTool from '@/composition/textConversionTool.js';\n\nimport accordion from '@/composition/accordion.js';\n\nimport Employee from '@/composition/Employee.js';\nimport LeaveRecord from '@/composition/LeaveRecord.js';\nimport MedicalRecord from '@/composition/MedicalRecord.js';\nimport Course from '@/composition/Course.js';\nimport courseType from '@/composition/courseType.js';\nimport prescribeMedicineRecord from '@/composition/prescribeMedicineRecord.js';\n\nexport default {\n  setup() {\n    provide('store', store);\n    provide('checkIn', checkIn);\n    provide('alertMessage', alertMessage);\n    provide('track', track);\n\n    provide('fetchFunction', fetchFunction);\n    provide('textConversionTool', textConversionTool);\n\n    provide('accordion', accordion);\n\n    provide('Employee', Employee);\n    provide('LeaveRecord', LeaveRecord);\n    provide('MedicalRecord', MedicalRecord);\n    provide('Course', Course);\n    provide('courseType', courseType);\n    provide('prescribeMedicineRecord', prescribeMedicineRecord);\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import \"./assets/stylesheets/all.scss\";\n</style>\n","import { createRouter, createWebHashHistory } from 'vue-router'\n// import HomeView from '../views/HomeView.vue'\n\nconst routes = [\n  {\n    path: \"/:pathMatch(.*)*\",\n    redirect: '/loginIndex',\n  },\n  {\n    path: '/',\n    name: 'LayOut',\n    redirect: 'medicalRecord', // appointment\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/LayOut.vue'),\n    children: [\n      { // 約診\n        name: 'appointmentIndex',\n        path: '/appointment',\n        component: () => import('../views/appointment/appointmentIndex.vue'),\n      },\n      { // 到診\n        name: 'checkInIndex',\n        path: '/checkIn',\n        component: () => import('../views/checkIn/checkInIndex.vue'),\n      },\n      { // 跟診\n        name: 'trackIndex',\n        path: '/track',\n        component: () => import('../views/track/trackIndex.vue'),\n      },\n      { // 關心紀錄\n        name: 'careRecordIndex',\n        path: '/careRecord',\n        component: () => import('../views/careRecord/careRecordIndex.vue'),\n      },\n      { // 設定門診時間\n        name: 'setOutpatientTime',\n        path: '/setOutpatientTime',\n        component: () => import('../views/setOutpatientTime.vue'),\n      },\n      { // 門診醫師時間\n        name: 'outpatientDoctorTime',\n        path: '/outpatientDoctorTime',\n        component: () => import('../views/outpatientDoctorTime.vue'),\n      },\n      { // 員工管理\n        name: 'employeeManagement',\n        path: '/employeeManagement',\n        component: () => import('../views/employeeManagement.vue'),\n      },\n      { // 療程管理\n        name: 'courseSetting',\n        path: '/courseSetting',\n        component: () => import('../views/courseSetting.vue'),\n      },\n      { // 子療程管理\n        name: 'subCourseManagement',\n        path: '/subCourseManagement',\n        component: () => import('../views/subCourseManagement.vue'),\n      },\n      { // 療程部位管理\n        name: 'bodyPartSetting',\n        path: '/bodyPartSetting',\n        component: () => import('../views/bodyPartSetting.vue'),\n      },\n      { // 設定美容師助理\n        name: 'beauticianRelation',\n        path: '/beauticianRelation',\n        component: () => import('../views/beauticianRelation.vue'),\n      },\n      { // 設定美容師助理\n        name: 'beauticianRelation',\n        path: '/beauticianRelation',\n        component: () => import('../views/beauticianRelation.vue'),\n      },\n      { // 微整治療臉圖\n        name: 'courseOfTreatment',\n        path: '/courseOfTreatment/:operator/:customerId/:arrivedTime',\n        component: () => import('../views/courseOfTreatment.vue'),\n      },\n      // 進銷存\n      { // 物料建檔\n        name: 'materialArchiving',\n        path: '/materialArchiving',\n        component: () => import('../views/stock/materialArchiving.vue'),\n      },\n      { // 物料進貨管理\n        name: 'materialPurchaseManagement',\n        path: '/materialPurchaseManagement',\n        component: () => import('../views/stock/materialPurchaseManagement.vue'),\n      },\n      { // 銷售產品類別管理\n        name: 'salesProductCategoryManagement',\n        path: '/salesProductCategoryManagement',\n        component: () => import('../views/stock/salesProductCategoryManagement.vue'),\n      },\n      { // 銷售產品管理\n        name: 'salesProductManagement',\n        path: '/salesProductManagement',\n        component: () => import('../views/stock/salesProductManagement.vue'),\n      },\n      { // 設定組合產品\n        name: 'setProductBundles',\n        path: '/setProductBundles',\n        component: () => import('../views/stock/setProductBundles.vue'),\n      },\n      { // 活動管理\n        name: 'eventManagement',\n        path: '/eventManagement',\n        component: () => import('../views/stock/eventManagement.vue'),\n      },\n      { // 倉位管理\n        name: 'setUpWarehouse',\n        path: '/setUpWarehouse',\n        component: () => import('../views/stock/setUpWarehouse.vue'),\n      },\n      { // 盤點系統\n        name: 'inventorySystem',\n        path: '/inventorySystem',\n        component: () => import('../views/stock/inventorySystem.vue'),\n      },\n      { // 一般耗材\n        name: 'generalConsumables',\n        path: '/generalConsumables',\n        component: () => import('../views/stock/generalConsumables.vue'),\n      },\n      { // 退貨\n        name: 'refundView',\n        path: '/refundView',\n        component: () => import('../views/stock/refundView.vue'),\n      },\n    ],\n  },\n  { // 登入頁\n    name: 'loginIndex',\n    path: '/loginIndex',\n    component: () => import('../views/loginIndex.vue'),\n  },\n  { // 病歷\n    name: 'medicalRecordIndex',\n    path: '/medicalRecord/:date/:customerId',\n    component: () => import('../views/medicalRecord/medicalRecordIndex.vue'),\n  },\n]\n\nconst router = createRouter({\n  history: createWebHashHistory(),\n  routes\n})\n\nexport default router\n","import router from \"@/router\";\n\nconst BASE_URL = `${process.env.VUE_APP_API_URL}`;\n\nasync function fetchApi(url, options = {}) {\n  const fetchOptines = {\n    ...options,\n  };\n\n  try {\n    const response = await fetch(BASE_URL + url, fetchOptines)\n    .then(res => res.json())\n    .then(res => res);\n\n    if (response.statusCode === 401) {\n      router.push('/loginIndex');\n    }\n\n    return response;\n  }\n  catch (error) {\n    router.push('/loginIndex');\n  }\n}\n\nfunction getTokenFromCookie() {\n  const cookies = document.cookie.split(';');\n  for (let i = 0; i < cookies.length; i++) {\n    const cookie = cookies[i].trim();\n\n    if (cookie.startsWith('token=')) {\n      const token = cookie.substring('token='.length);\n\n      return token;\n    }\n  }\n\n  return null;\n}\n\nexport default {\n  fetchApi,\n  getTokenFromCookie,\n};","import { reactive } from 'vue';\nimport fetchFunction from './fetchFunction';\n\nconst appointmentState = reactive({\n  year: null,\n  month: null,\n  date: null,\n  today: {\n    year: null,\n    month: null,\n    date: null,\n  },\n  updateAppointmentData: [],\n  selectedCustomer: {},\n  clinicPeriodLastTime: {},\n  calendarContent: 'continuousOutpatientAmount',\n  department: 'AestheticMedicine',\n  appointmentContent: 'monthOfAppointment',\n  couseReason: '',\n  timeRange: [],\n  filterQueryStatus: {\n    continuousOutpatientNum: 1,\n    isAppointment: true,\n    morning: true,\n    afternoon: true,\n    evening: true,\n  },\n  customerStoredValueData: {},\n  voucherDepositData: {},\n  offWorkTime: '',\n  // data\n  calendarData: [],\n  doctorData: [],\n  alternateCustomerData: [],\n  daysOutpatientData: [],\n\n  selectedDoctor: [],\n  showCalendarData: [],\n  calendar: [],\n\n  scrollToTimePeriodString: '',\n});\n\n/** 取得醫師資料 */\nconst getDoctors = async () => {\n  const token = fetchFunction.getTokenFromCookie();\n\n  const url = `/api/Employee/GetDoctorByActiveStatus?active=true`;\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  const response = await fetchFunction.fetchApi(url, options);\n\n  if (response.statusCode >= 400) return null;\n\n  let doctorData = response.data;\n\n  const doctorDataLength = doctorData.length <= 4 ? doctorData.length : 4;\n\n  for(let i = 0; i < doctorDataLength; i++) {\n    doctorData[i].select = true;\n  }\n\n  appointmentState.doctorData = doctorData;\n}\n\n/** 取約診、候補的最新資料 */\nconst getUpdateAppointmentData = async(id) => {\n  \n  const url = `/api/Appointment/GetInitUpdateAppointmentData?id=${id}`;\n\n  const token = fetchFunction.getTokenFromCookie();\n  \n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  const response = await fetchFunction.fetchApi(url, options);\n\n  appointmentState.updateAppointmentData = response.data;\n}\n\n/** 確認取消候補/約診 */\nconst courseEnter = async (id) => {\n\n  const putData = {\n    cancelReason: appointmentState.couseReason,\n    appointmentId: id,\n  };\n\n  const token = fetchFunction.getTokenFromCookie();\n\n  const url = `/api/Appointment/Cancel`;\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'PATCH',\n    body: JSON.stringify(putData),\n  }\n\n  const response = await fetchFunction.fetchApi(url, options);\n\n  return response;\n}\n\n/** 取得/重製已選擇醫師 */\nconst resetSelectedDoctor = () => {\n  appointmentState.selectedDoctor = [];\n\n  appointmentState.doctorData.forEach(item => {\n    if (item.select) {\n      appointmentState.selectedDoctor.push(item);\n    }\n  });\n}\n\n/** 取日班表，醫美部與美容部 */\nconst getDaysOutpatientData = async() => {\n\n  const token = fetchFunction.getTokenFromCookie();\n\n  const date = `${appointmentState.year}-${appointmentState.month + 1 <= 9 ?'0':''}${appointmentState.month + 1}-${appointmentState.date <= 9 ?'0':''}${appointmentState.date}`;\n\n  let url = `/api/Outpatient/GetDaysOutpatientData?departmentId=${appointmentState.department}&date=${date}${appointmentState.filterQueryStatus.morning ? `&clinicPeriods=Morning`: ''}${appointmentState.filterQueryStatus.afternoon ? `&clinicPeriods=Afternoon`: ''}${appointmentState.filterQueryStatus.evening ? `&clinicPeriods=Evening`: ''}`;\n\n  appointmentState.selectedDoctor.forEach(item => {\n    url = `${url}&doctors=${item.id}`;\n  });\n  \n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET',\n  }\n\n  const response = await fetchFunction.fetchApi(url, options);\n\n  appointmentState.daysOutpatientData = response.data;\n\n  const { daysOutpatients, customerStoredValueData, voucherDepositData } = appointmentState.daysOutpatientData;\n\n  appointmentState.customerStoredValueData = customerStoredValueData;\n  appointmentState.voucherDepositData = voucherDepositData;\n  \n  // 取出顯示資料最後的時間\n\n  const timeArr = Object.keys(daysOutpatients);\n\n  if (timeArr.length === 0) return null; \n\n  // 時間間格\n  const hourIntervals = timeArr[1].split(':')[0] - timeArr[0].split(':')[0];\n  const minuteIntervals = timeArr[1].split(':')[1] - timeArr[0].split(':')[1];\n\n  const lastData = timeArr[timeArr.length - 1].split(':');\n\n  let time = new Date(0, 0, 0, lastData[0], lastData[1]);\n\n  time.setHours(time.getHours() + hourIntervals);\n  time.setMinutes(time.getMinutes() + minuteIntervals);\n\n  appointmentState.offWorkTime = `${time.getHours()}:${time.getMinutes() <= 9 ? 0 : ''}${time.getMinutes()}`;\n\n  // 取跨時段\n\n  appointmentState.timeRange = [];\n\n  if (appointmentState.department === 'AestheticMedicine') {\n    for(let i = 0; i < timeArr.length; i++) {\n      for(let j = 0; j < appointmentState.selectedDoctor.length; j++) {\n        if(daysOutpatients[timeArr[i]][appointmentState.selectedDoctor[j].id].normalAppointment) {\n          if(daysOutpatients[timeArr[i]][appointmentState.selectedDoctor[j].id].normalAppointment.timeRange > 1) {\n  \n            let itemRange = daysOutpatients[timeArr[i]][appointmentState.selectedDoctor[j].id].normalAppointment.timeRange;\n\n            for(let k = i; k < (i + itemRange); k++) {\n                appointmentState.timeRange.push({\n                operatorId: daysOutpatients[timeArr[i]][appointmentState.selectedDoctor[j].id].normalAppointment.operatorId,\n                time: timeArr[k],\n                left: daysOutpatients[timeArr[i]][appointmentState.selectedDoctor[j].id].normalAppointment.left,\n                lastTimeSlot: (k + 1) === (i + itemRange) ? true : false,\n              })\n            }\n          }\n        }\n      }\n    }\n  }\n\n  if (appointmentState.department === 'Beauty') {\n    for(let i = 0; i < timeArr.length; i++) {\n      if (daysOutpatients[timeArr[i]].normalAppointment) {\n        if(daysOutpatients[timeArr[i]].normalAppointment.timeRange > 1) {\n  \n          let itemRange = daysOutpatients[timeArr[i]].normalAppointment.timeRange;\n\n          for(let k = i; k < (i + itemRange); k++) {\n\n            appointmentState.timeRange.push({\n              operatorId: daysOutpatients[timeArr[i]].normalAppointment.operatorId,\n              time: timeArr[k],\n              left: daysOutpatients[timeArr[i]].normalAppointment.left,\n              lastTimeSlot: (k + 1) === (i + itemRange) ? true : false,\n            })\n          }\n        }\n      }\n    }\n  }\n}\n\n/** 取今日日期 */\nconst getCurrentMonth = () => {\n  const data = new Date();\n\n  appointmentState.today = {\n    month: data.getMonth() + 1,\n    year: data.getFullYear(),\n    date: data.getDate(),\n  };\n  appointmentState.month = data.getMonth(); // 0 - 11\n  appointmentState.year = data.getFullYear();\n  appointmentState.date = data.getDate();\n}\n\n/** 取得早、午診最後時間 */\nconst getClinicPeriodLastTime = async() => {\n  const url = `/api/Outpatient/GetClinicPeriodLastTime?departmentId=${appointmentState.department}&date=${appointmentState.year}-${appointmentState.month + 1}-${appointmentState.date}`;\n\n  const token = fetchFunction.getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET',\n  }\n\n  const response = await fetchFunction.fetchApi(url, options);\n\n  appointmentState.clinicPeriodLastTime = response.data;\n}\n\n/** 取得醫師連續空診 */\nconst getDoctorContinuousOutpatientData = async (judge) => {\n\n  // 初始連續空診 (只抓空診數量)\n  let url = `/api/Outpatient/GetInitDoctorContinuousOutpatientData?departmentId=${appointmentState.department}&year=${appointmentState.year}&month=${appointmentState.month + 1}`;\n\n  if (!judge) {\n    // 更新連續空診 (抓連續空診 數量)\n    url = `/api/Outpatient/GetDoctorContinuousOutpatientData?departmentId=${appointmentState.department}&year=${appointmentState.year}&month=${appointmentState.month + 1}`;\n  }\n\n  if (appointmentState.selectedDoctor.length === 0) {\n    resetSelectedDoctor();\n    appointmentState.calendarData = [];\n  }\n\n  appointmentState.selectedDoctor.forEach(item => {\n    url = `${url}&doctors=${item.id}`;\n  });\n\n  const token = fetchFunction.getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET',\n  }\n\n  const response = await fetchFunction.fetchApi(url, options);\n\n  if (response.statusCode >= 400) return null;\n\n  appointmentState.showCalendarData = response.data;\n\n  showCalendar(appointmentState.year, appointmentState.month);\n}\n\n/** 顯示當月的總日，並把上、下個月的零碎日子加入 */\nconst showCalendar = (year, month) => {\n\n  let currentMonth = getCalendar(year, month, true);\n\n  const firstWeekLen = currentMonth[0].length;\n  const lastWeekLen = currentMonth[currentMonth.length - 1].length;\n\n  if (firstWeekLen < 7 && firstWeekLen !== 0) {\n    let lastMonth = getCalendar(year, month - 1, false);\n    \n    currentMonth[0] = lastMonth[lastMonth.length - 1].concat(currentMonth[0]);\n  }\n  \n  if (lastWeekLen < 7 && lastWeekLen !== 0) {\n    let nextMonth = getCalendar(year, month + 1, false);\n    currentMonth[currentMonth.length - 1] = currentMonth[currentMonth.length - 1].concat(nextMonth[0]);\n  }\n\n  for(let i = 0; i < currentMonth.length; i++) {\n    if (currentMonth[i].length === 0) {\n      currentMonth.splice(i, 1);\n    }\n  }\n\n  // 不是內地，就刪除星期天\n  // if (!this.china) {\n  //   this.dayLength = 6;\n  //   for(let i = 0; i < currentMonth.length; i++) {\n  //     currentMonth[i].splice(0, 1);\n  //   }\n  // }\n\n  appointmentState.calendar = currentMonth;\n  appointmentState.calendarData = currentMonth;\n}\n\n/** 取得當月的總日和資料 */\nconst getCalendar = (year, month, j) => {\n  \n  let calendar = [];\n  let week = [];\n  let data = new Date(year, month + 1, 1);\n \n  data.setHours(data.getHours() - 1);                // 下個月 - 1 小時，目的是轉換成當月的最後一天 \n\n  const allDate = data.getDate();                    // 取得當月總日，例: 1 月，共 31 日\n\n  for (let i = 1; i <= allDate; i++) {\n\n    let morning = [];\n    let afternoon = [];\n    let evening = [];\n\n    if (j) {\n      for (let g = 0; g < appointmentState.showCalendarData.length; g++) {\n        if (i === appointmentState.showCalendarData[g].day) {\n          if (appointmentState.showCalendarData[g].clinicPeriod === 'Morning') {\n            morning.push(appointmentState.showCalendarData[g]);\n          }\n\n          if (appointmentState.showCalendarData[g].clinicPeriod === 'Afternoon') {\n            afternoon.push(appointmentState.showCalendarData[g]);\n          }\n\n          if (appointmentState.showCalendarData[g].clinicPeriod === 'Evening') {\n            evening.push(appointmentState.showCalendarData[g]);\n          }\n        }\n      }\n    }\n\n    let morningSortBySelectedDoctor = [];\n    let afternoonSortBySelectedDoctor = [];\n    let eveningSortBySelectedDoctor = [];\n\n    if (appointmentState.department === 'AestheticMedicine') {\n      appointmentState.selectedDoctor.forEach(itemA => {\n\n        morning.forEach(itemB => {\n          if (itemA.id === itemB.doctor) {\n            morningSortBySelectedDoctor.push(itemB);\n          }\n        })\n  \n        afternoon.forEach(itemB => {\n          if (itemA.id === itemB.doctor) {\n            afternoonSortBySelectedDoctor.push(itemB);\n          }\n        })\n  \n  \n        evening.forEach(itemB => {\n          if (itemA.id === itemB.doctor) {\n            eveningSortBySelectedDoctor.push(itemB);\n          }\n        })\n      })\n    }\n\n    let day = new Date(year, month, i).getDay(); // 星期 : 0 - 6\n      if (month === 12) {\n        month = 0;\n        year += 1;\n      }\n\n      if (month === -1) {\n        month = 11;\n        year -= 1;\n      }\n\n      week.push({\n        year: year,\n        month: month + 1,\n        date: i,\n        day: day,\n        isCurrentMonth: j,\n        morning: appointmentState.department === 'AestheticMedicine' ? morningSortBySelectedDoctor : morning,\n        afternoon: appointmentState.department === 'AestheticMedicine' ? afternoonSortBySelectedDoctor : afternoon,\n        evening: appointmentState.department === 'AestheticMedicine' ? eveningSortBySelectedDoctor : evening,\n      });\n\n      if (day === 6 || i === allDate) {\n        calendar.push(week);\n        week = [];\n      }\n  }\n  return calendar;\n}\n\n/** 年和月的數字切換 */\nconst timeSwitch = (year, month, judge) => {\n  if (judge) {\n    month -= 1;\n  } else {\n    month += 1;\n  }\n\n  if (month === 12) {\n    month = 0;\n    year+= 1;\n  }\n\n  if (month === -1) {\n    month = 11;\n    year -= 1;\n  }\n\n  return { year, month };\n}\n\n/** 搜尋部門門診產生方式 */\nasync function findGenerateOutpatientWay() {\n  const url = `/api/Department/GetGenerateOutpatientWay?id=${appointmentState.department}`;\n\n  const token = fetchFunction.getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  const response = await fetchFunction.fetchApi(url, options);\n\n  return response.data;\n}\n\n/** 切換醫美部或美容部 - 約診與已約診 */\nconst continuousOrReservedToggle = async (status, judge) => {\n\n  appointmentState.calendarContent = status;\n\n  // 產生資料方式\n  const dataGenerationMethod = await findGenerateOutpatientWay();\n\n  if (dataGenerationMethod === 'Doctor') {\n    resetSelectedDoctor();\n    if (appointmentState.appointmentContent === 'monthOfAppointment') {\n      if (appointmentState.calendarContent === 'continuousOutpatientAmount') getDoctorContinuousOutpatientData(judge);\n    \n      if (appointmentState.calendarContent === 'reservedAmount') getDoctorReservedDaysAndAmount();\n    }\n\n    if (appointmentState.appointmentContent === 'dateOfAppointment') getDaysOutpatientData();\n  }\n\n  if (dataGenerationMethod === 'Department') {\n    if (appointmentState.appointmentContent === 'monthOfAppointment') {\n      if (appointmentState.calendarContent === 'continuousOutpatientAmount') getBeauticianContinuousOutpatientData();\n    \n      if (appointmentState.calendarContent === 'reservedAmount') getDepartmentReservedDaysAndAmount();\n    }\n\n    if (appointmentState.appointmentContent === 'dateOfAppointment') getDaysOutpatientData();\n  }\n\n  getClinicPeriodLastTime();\n  findAlternateByDate();\n}\n\n/** 取得醫師已約診資料 */\nconst getDoctorReservedDaysAndAmount = async() => {\n\n  let url = `/api/Outpatient/GetDoctorReservedDaysAndAmount?departmentId=${appointmentState.department}&year=${appointmentState.year}&month=${appointmentState.month + 1}`;\n\n  if (appointmentState.selectedDoctor.length === 0) {\n    resetSelectedDoctor();\n  }\n\n  appointmentState.selectedDoctor.forEach(item => {\n    url = `${url}&doctors=${item.id}`;\n  });\n\n  const token = fetchFunction.getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  const response = await fetchFunction.fetchApi(url, options);\n\n  if (response.statusCode >= 400) return null;\n\n  appointmentState.showCalendarData = response.data;\n  appointmentState.filterQueryStatus.continuousOutpatientNum = 1;\n  showCalendar(appointmentState.year, appointmentState.month);\n}\n\n/** 取得美容部已約診資料  */\nconst getDepartmentReservedDaysAndAmount = async() => {\n  let url = `/api/Outpatient/GetDepartmentReservedDaysAndAmount?departmentId=${appointmentState.department}&year=${appointmentState.year}&month=${appointmentState.month + 1}`;\n\n  const token = fetchFunction.getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  const response = await fetchFunction.fetchApi(url, options);\n\n  if (response.statusCode >= 400) return null;\n\n  appointmentState.showCalendarData = response.data;\n  appointmentState.filterQueryStatus.continuousOutpatientNum = 1;\n  appointmentState.selectedDoctor = [];\n  showCalendar(appointmentState.year, appointmentState.month);\n}\n\n/** 美容部連續空診 */\nconst getBeauticianContinuousOutpatientData = async() => {\n  let url = `/api/Outpatient/GetInitDepartmentContinuousOutpatientData?departmentId=${appointmentState.department}&year=${appointmentState.year}&month=${appointmentState.month + 1}`;\n\n  const token = fetchFunction.getTokenFromCookie();\n  \n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  const response = await fetchFunction.fetchApi(url, options);\n\n  if (response.statusCode >= 400) return null;\n\n  appointmentState.showCalendarData = response.data;\n  appointmentState.filterQueryStatus.continuousOutpatientNum = 1;\n  appointmentState.selectedDoctor = [];\n  showCalendar(appointmentState.year, appointmentState.month);\n}\n\n/** 取得候補名單(月) */\nconst findAlternateByYearMonth = async() => {\n\n  let url = `/api/Appointment/GetAlternateByYearMonth?departmentId=${appointmentState.department}&year=${appointmentState.year}&month=${appointmentState.month + 1}`;\n\n  const token = fetchFunction.getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  appointmentState.selectedDoctor.forEach(item => {\n    url = `${url}&doctors=${item.id}`;\n  });\n\n  const response = await fetchFunction.fetchApi(url, options);\n\n  if (response.statusCode >= 400) return null;\n\n  appointmentState.alternateCustomerData = response.data;\n}\n\n/** 取得候補名單(日) */\nconst findAlternateByDate = async() => {\n  let url = `/api/Appointment/GetAlternateByDate?departmentId=${appointmentState.department}&date=${appointmentState.year}-${appointmentState.month + 1 <= 9 ? 0 : '' }${appointmentState.month + 1}-${appointmentState.date <= 9 ? 0 : '' }${appointmentState.date}`;\n\n  appointmentState.selectedDoctor.forEach(item => {\n    url = `${url}&doctors=${item.id}`;\n  });\n\n  const token = fetchFunction.getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  const response = await fetchFunction.fetchApi(url, options);\n\n  if (response.statusCode >= 400) return null;\n\n  appointmentState.alternateCustomerData = response.data;\n}\n\n/** 候補時間轉換中文 */\nconst clinicPeriodToCh = (name) => {\n  switch (name) {\n    case 'Morning':\n      return '早診';\n    case 'Afternoon':\n      return '午診';\n    case 'Evening':\n      return '晚診';\n    case 'AllDay':\n      return '全天';\n  }\n}\n\n/** 轉換時間(分針)刪除秒的格式 */\nconst convertTimeFormatDeleteSecond = (time) => {\n  return time.substr(0, 5);\n}\n\n/** 轉換時間(年月日)斜線格式 */\nconst convertTimeFormatSlash = (time) => {\n  const str = time || '';\n  return str.replace(/-/g, '/ ');\n}\n\n/** 部門切換 */\nconst departmentToggle = (status) => {\n  appointmentState.department = status;\n  continuousOrReservedToggle(appointmentState.calendarContent);\n}\n\nexport default {\n  appointmentState,\n  getDoctors,\n  getCurrentMonth,\n  resetSelectedDoctor,\n  getDoctorContinuousOutpatientData,\n  showCalendar,\n  getCalendar,\n  timeSwitch,\n  continuousOrReservedToggle,\n  findAlternateByDate,\n  findAlternateByYearMonth,\n  clinicPeriodToCh,\n  convertTimeFormatDeleteSecond,\n  convertTimeFormatSlash,\n  departmentToggle,\n  getDoctorReservedDaysAndAmount,\n  getDaysOutpatientData,\n  courseEnter,\n  getClinicPeriodLastTime,\n  getUpdateAppointmentData,\n};","import { reactive, ref } from 'vue';\nimport fetchFunction from './fetchFunction';\n\nconst state = reactive({\n  year: null,\n  month: null,\n  date: null,\n  today: {\n    year: null,\n    month: null,\n    date: null,\n  },\n  checkInContent: 'dateOfAppointment',\n  updateAppointmentData: [],\n  clinicPeriodLastTime: {},\n  calendarContent: 'continuousOutpatientAmount',\n  department: 'AestheticMedicine',\n  // appointmentContent: 'dateOfAppointment',\n  couseReason: '',\n  timeRange: [],\n  filterQueryStatus: {\n    continuousOutpatientNum: 1,\n    isAppointment: true,\n    morning: true,\n    afternoon: true,\n    evening: true,\n  },\n  customerStoredValueData: {},\n  voucherDepositData: {},\n  offWorkTime: '',\n  // data\n  calendarData: [],\n  doctorData: [],\n  alternateCustomerData: [],\n  daysOutpatientData: [],\n\n  selectedDoctor: [],\n  showCalendarData: [],\n  calendar: [],\n});\n\n/** 客戶查詢 */\nasync function searchDetailedInformation(customer) {\n\n  const {name, birthday, cellPhone } = customer;\n  \n  const date = `${state.year}-${state.month + 1 <= 9 ?'0':''}${state.month + 1}-${state.date <= 9 ?'0':''}${state.date}`;\n\n  let url = `/api/MedicalRecord/GetDoctorAttendanceDataBySearchCondition?departmentId=${state.department}&customerName=${name}&customerBirthday=${birthday}&customerCellPhone=${cellPhone}&date=${date}&clinicPeriods=Morning&clinicPeriods=Afternoon&clinicPeriods=Evening`;\n\n  if (state.department === 'Beauty') {\n    url = `/api/MedicalRecord/GetDepartmentAttendanceDataBySearchCondition?departmentId=${state.department}&customerName=${name}&customerBirthday=${birthday}&customerCellPhone=${cellPhone}&date=${date}&clinicPeriods=Morning&clinicPeriods=Afternoon&clinicPeriods=Evening`;\n  }\n\n  state.selectedDoctor.forEach(item => {\n    url = `${url}&doctors=${item.id}`;\n  });\n\n  const token = fetchFunction.getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  const response = await fetchFunction.fetchApi(url, options);\n\n  detailedInformationInit(response.data);\n}\n\n/** 詳細到診資料 */\nconst detailedinformationData = ref([]);\n    \n/** 醫美部 - 取得詳細到診 */\nasync function getDoctorAttendanceData() {\n  const date = `${state.year}-${state.month + 1 <= 9 ?'0':''}${state.month + 1}-${state.date <= 9 ?'0':''}${state.date}`;\n  \n  let url = `/api/MedicalRecord/GetDoctorAttendanceData?departmentId=${state.department}&date=${date}`;\n\n  state.selectedDoctor.forEach(item => {\n    url = `${url}&doctors=${item.id}`;\n  });\n\n  const token = fetchFunction.getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  const response = await fetchFunction.fetchApi(url, options);\n\n  detailedInformationInit(response.data);\n}\n\n/** 美容部 - 取得詳細到診 */\nasync function getDepartmentAttendanceData() {\n  const date = `${state.year}-${state.month + 1 <= 9 ?'0':''}${state.month + 1}-${state.date <= 9 ?'0':''}${state.date}`;\n  \n  let url = `/api/MedicalRecord/GetDepartmentAttendanceData?departmentId=${state.department}&date=${date}`;\n\n  const token = fetchFunction.getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  const response = await fetchFunction.fetchApi(url, options);\n\n  detailedInformationInit(response.data);\n}\n\n/** 詳細到診 - 初始 */\nfunction detailedInformationInit(response) {\n\n  let doctorAttendanceData = response;\n  const customerIdArr = [];\n  const data = [];\n  \n  if (!doctorAttendanceData) return null;\n\n  let morning = state.filterQueryStatus.morning ? '早診' : null;\n  let afternoon = state.filterQueryStatus.afternoon ? '午診' : null;\n  let evening = state.filterQueryStatus.evening ? '晚診' : null;\n\n  doctorAttendanceData = doctorAttendanceData.filter(item => {\n    const clinicPeriodName = item.attendanceMedicalRecord.clinicPeriodName;\n    return clinicPeriodName === morning || clinicPeriodName === afternoon || clinicPeriodName === evening;\n  });\n\n  doctorAttendanceData.forEach(item => {\n\n    if (!customerIdArr.includes(item.attendanceMedicalRecord.customerId)) {\n      customerIdArr.push(item.attendanceMedicalRecord.customerId);\n      data.push({\n          customer: {\n            customerId: item.attendanceMedicalRecord.customerId,\n            beauticianNickname: item.attendanceMedicalRecord.beauticianNickname,\n            customerName: item.attendanceMedicalRecord.customerName,\n            customerBirthday: item.attendanceMedicalRecord.customerBirthday,\n          },\n          attendanceMedicalRecord: [],\n        });\n    }\n  })\n\n  doctorAttendanceData.forEach(itemA => {\n\n    const detailItem = {\n      cureContent: {\n        ...itemA.attendanceMedicalRecord,\n      },\n      voucherOrderDetails: [],\n      bodyPart: [],\n      beautyConsumableName: itemA.attendanceMedicalRecord.beautyConsumableName,\n      orderDetails: [],\n      totalExpense: 0,\n    }\n\n    // 麻藥費用整理\n    // 不上麻不用顯示\n    // 改不上麻\n    if (itemA.attendanceMedicalRecord.anesthesiaSituation === \"CancelAnesthesia\") {\n      detailItem.orderDetails.push({\n        chargeType: 'anesthesia',\n        chargeName: '麻藥費用 (改不上麻)',\n        anesthesiaSituation: \"CancelAnesthesia\",\n        price: 0,\n        received: true,\n      })\n    }\n\n    // 上麻\n    if (itemA.attendanceMedicalRecord.anesthesiaSituation === \"Anesthesia\") {\n      detailItem.orderDetails.push({\n        chargeType: 'anesthesia',\n        chargeName: '麻藥費用',\n        anesthesiaSituation: \"Anesthesia\",\n        price: itemA.anestheticOrderDetail.price === 0 ? '免費' : itemA.anestheticOrderDetail.price,\n        received: itemA.anestheticOrderDetail.received,\n      })\n    }\n\n    const experienceData = {\n      chargeType: 'cash',\n      chargeName: '體驗費用',\n      bodyParts: [],\n      price: [],\n      received: [],\n    }\n\n    const depositData = {\n      chargeType: 'cash',\n      chargeName: '押金費用',\n      bodyParts: [],\n      price: [],\n      received: [],\n    }\n\n    const onceData = {\n      chargeType: 'cash',\n      chargeName: '單次費用',\n      bodyParts: [],\n      price: [],\n      received: [],\n    }\n\n    // 現金支付\n    itemA.coursePartOrderDetails.forEach(itemB => {\n\n      detailItem.totalExpense += parseInt(itemB.price);\n\n      // 體驗費用 - 初始\n      if (itemB.priceType === 'Experience') {\n        let bodyPart = itemA.bodyPartOptions.find(itemC => itemC.id === itemB.bodyPartId);\n        if (itemA.attendanceMedicalRecord.courseTypeId === 'IV') {\n          bodyPart = {\n            name: 'IV',\n          }\n        }\n        experienceData.bodyParts.push(bodyPart);\n        experienceData.price.push(itemB.price);\n        experienceData.received.push(itemB.received);\n        return null;\n      }\n\n      // 押金費用 - 初始\n      if (itemB.priceType === 'Deposit') {\n        let bodyPart = itemA.bodyPartOptions.find(itemC => itemC.id === itemB.bodyPartId);\n        if (itemA.attendanceMedicalRecord.courseTypeId === 'IV') {\n          bodyPart = {\n            name: 'IV',\n          }\n        }\n        depositData.bodyParts.push(bodyPart);\n        depositData.price.push(itemB.price);\n        depositData.received.push(itemB.received);\n        return null;\n      }\n\n      // 單次費用 - 初始\n      if (itemB.priceType === 'Once') {\n        if (itemB.bodyPartId === 'Other') {\n          onceData.bodyParts.push({\n            id: itemB.bodyPartId,\n            name: itemB.otherPartName,\n          });\n          onceData.price.push(itemB.price);\n          onceData.received.push(itemB.received);\n          return null;\n        }\n\n        let bodyPart = itemA.bodyPartOptions.find(itemC => itemC.id === itemB.bodyPartId);\n        if (itemA.attendanceMedicalRecord.courseTypeId === 'IV') {\n          bodyPart = {\n            name: 'IV',\n          }\n        }\n        onceData.bodyParts.push(bodyPart);\n        onceData.price.push(itemB.price);\n        onceData.received.push(itemB.received);\n        return null;\n      }\n    })\n\n    if (experienceData.bodyParts.length !== 0) {\n      detailItem.orderDetails.push(experienceData);\n    }\n\n    if (depositData.bodyParts.length !== 0) {\n      detailItem.orderDetails.push(depositData);\n    }\n\n    if (onceData.bodyParts.length !== 0) {\n      detailItem.orderDetails.push(onceData);\n    }\n\n    detailItem.bodyPart = itemA.bodyPartOptions.map(item => {\n      const bodyPartItem = itemA.bodyParts.find(t => item.id === t.bodyPartId);\n\n      if (bodyPartItem) {\n        return {\n          name: item.name,\n          ...bodyPartItem\n          // itemA\n        }\n      }\n    })\n\n    // detailItem.bodyPart 資料整理\n    // detailItem.bodyPart = itemA.bodyParts.map(item1 => {\n    //   const bodyPartItem = itemA.bodyPartOptions.find(item2 => item2.id === item1.bodyPartId);\n\n    //   return {\n    //     name: bodyPartItem.name,\n    //     ...item1\n    //     // itemA\n    //   }\n    // });\n\n    const allCoupons = [\n      ...itemA.voucherOrderDetails,\n      ...itemA.couponOrderDetails,\n      ...itemA.oweVoucherSituationData\n    ];\n\n    // 療程卷號資料帶入預設位置 - 重複 id 中取唯一出來\n    const uniqueId = allCoupons.filter((item, index, self) => {\n      return index === self.findIndex((t) => t.bodyPartId === item.bodyPartId)\n    })\n\n    detailItem.voucherOrderDetails = uniqueId.map(item => {\n      if (itemA.attendanceMedicalRecord.courseTypeName === '點滴') {\n        return {\n          bodyPartName: 'IV',\n          bodyPartId: item.bodyPartId,\n          voucherId: [],\n        }\n      }\n\n      let bodyPartName = itemA.bodyPartOptions.find(itemB => itemB.id === item.bodyPartId);\n      return {\n        bodyPartName: bodyPartName ? bodyPartName.name : null,\n        bodyPartId: item.bodyPartId,\n        voucherId: [],\n      }\n    })\n    \n    // 以 bodyPartId，整理欠卷\n    itemA.oweVoucherSituationData.forEach(item1 => {\n\n      detailItem.voucherOrderDetails.forEach(item2 => {\n\n        if (item2.bodyPartId === item1.bodyPartId) {\n          item2.voucherId.push('oweVoucher');\n\n          return null;\n        }\n      })\n    })\n\n    // 以 bodyPartId，整理療程卷號\n    itemA.voucherOrderDetails.forEach(item1 => {\n\n      detailItem.voucherOrderDetails.forEach(item2 => {\n\n        if (item2.bodyPartId === item1.bodyPartId) {\n          item2.voucherId.push(item1.voucherId);\n\n          return null;\n        }\n      })\n    })\n\n    // 以 bodyPartId，整理活動卷號\n    itemA.couponOrderDetails.forEach(item1 => {\n\n      let couponNumber = item1.couponNumber.toString().padStart(3, 0);\n\n      let volumeNumber = `${item1.activityVoucherId}${couponNumber}`;\n\n      detailItem.voucherOrderDetails.forEach(item2 => {\n\n        if (item2.bodyPartId === item1.bodyPartId) {\n          item2.voucherId.push(volumeNumber);\n        }\n      })\n    })\n\n    // 預設醫師資料位置，並帶入 detailItem\n    data.forEach(itemB => {\n      if (itemB.customer.customerId === itemA.attendanceMedicalRecord.customerId) {\n\n        if (itemB.attendanceMedicalRecord.length === 0) {\n          itemB.attendanceMedicalRecord.push({\n            operatorName: itemA.attendanceMedicalRecord.operatorName,\n            operatorId: itemA.attendanceMedicalRecord.operatorId,\n            detail: [detailItem],\n          })\n\n          return null;\n        }\n\n        const judge = itemB.attendanceMedicalRecord.some(itemC => itemC.operatorId === itemA.attendanceMedicalRecord.operatorId);\n\n        if (!judge) {\n          itemB.attendanceMedicalRecord.push({\n              operatorName: itemA.attendanceMedicalRecord.operatorName,\n              operatorId: itemA.attendanceMedicalRecord.operatorId,\n              detail: [detailItem],\n          })\n        } else {\n          itemB.attendanceMedicalRecord.forEach(itemD => {\n            if (itemD.operatorId === itemA.attendanceMedicalRecord.operatorId) {\n              itemD.detail.push(detailItem);\n            }\n          })\n        }\n      }\n    })\n  })\n\n  // 資料排序\n  \n  // 資料層排序\n  data.forEach(itemA => {\n    // 客戶層\n    itemA.attendanceMedicalRecord.forEach(itemB => {\n      // 醫生層\n      let arrive = [];\n      let hasLeft = [];\n      itemB.detail.forEach(itemC => {\n        // 資料層\n        if (itemC.cureContent.arrivedTime && !itemC.cureContent.leftTime) {\n          arrive.push(itemC);\n        }\n\n        if (itemC.cureContent.arrivedTime && itemC.cureContent.leftTime) {\n          hasLeft.push(itemC);\n        }\n      })\n\n      arrive.sort((a, b) => {\n        const splitA = a.cureContent.arrivedTime.split('T');\n        const splitB = b.cureContent.arrivedTime.split('T');\n        let timeA = new Date(`${splitA[0]} ${splitA[1]}`).getTime();\n        let timeB = new Date(`${splitB[0]} ${splitB[1]}`).getTime();\n\n        if (timeA > timeB) {\n          return -1;\n        }\n\n        if (timeA < timeB) {\n          return 1;\n        }\n\n        if (timeA === timeB) {\n          return 0;\n        }\n      });\n\n      hasLeft.sort((a, b) => {\n        const splitA = a.cureContent.arrivedTime.split('T');\n        const splitB = b.cureContent.arrivedTime.split('T');\n        let timeA = new Date(`${splitA[0]} ${splitA[1]}`).getTime();\n        let timeB = new Date(`${splitB[0]} ${splitB[1]}`).getTime();\n\n        if (timeA > timeB) {\n          return 1;\n        }\n\n        if (timeA < timeB) {\n          return -1;\n        }\n\n        if (timeA === timeB) {\n          return 0;\n        }\n      });\n\n      itemB.detail = arrive.concat(hasLeft);\n    })\n  })\n\n  // 醫生層排序\n  data.forEach(itemA => {\n    // 客戶層\n    let arrive = [];\n    let hasLeft = [];\n    itemA.attendanceMedicalRecord.forEach(itemB => {\n      // 醫生層\n\n      if (itemB.detail[0].cureContent.arrivedTime && !itemB.detail[0].cureContent.leftTime) {\n        arrive.push(itemB);\n      }\n\n      if (itemB.detail[0].cureContent.arrivedTime && itemB.detail[0].cureContent.leftTime) {\n        hasLeft.push(itemB);\n      }\n    })\n\n    arrive.sort((a, b) => {\n      const splitA = a.detail[0].cureContent.arrivedTime.split('T');\n      const splitB = b.detail[0].cureContent.arrivedTime.split('T');\n      let timeA = new Date(`${splitA[0]} ${splitA[1]}`).getTime();\n      let timeB = new Date(`${splitB[0]} ${splitB[1]}`).getTime();\n\n      if (timeA > timeB) {\n        return -1;\n      }\n\n      if (timeA < timeB) {\n        return 1;\n      }\n\n      if (timeA === timeB) {\n        return 0;\n      }\n    });\n\n    hasLeft.sort((a, b) => {\n      const splitA = a.detail[0].cureContent.arrivedTime.split('T');\n      const splitB = b.detail[0].cureContent.arrivedTime.split('T');\n      let timeA = new Date(`${splitA[0]} ${splitA[1]}`).getTime();\n      let timeB = new Date(`${splitB[0]} ${splitB[1]}`).getTime();\n\n      if (timeA > timeB) {\n        return 1;\n      }\n\n      if (timeA < timeB) {\n        return -1;\n      }\n\n      if (timeA === timeB) {\n        return 0;\n      }\n    });\n  \n    itemA.attendanceMedicalRecord = arrive.concat(hasLeft);\n  })\n\n  // 客戶層排序\n  let arrive = [];\n  let hasLeft = [];\n\n  data.forEach(itemA => {\n    // 客戶層\n    if (itemA.attendanceMedicalRecord[0].detail[0].cureContent.arrivedTime && !itemA.attendanceMedicalRecord[0].detail[0].cureContent.leftTime) {\n      arrive.push(itemA);\n    }\n\n    if (itemA.attendanceMedicalRecord[0].detail[0].cureContent.arrivedTime && itemA.attendanceMedicalRecord[0].detail[0].cureContent.leftTime) {\n      hasLeft.push(itemA);\n    }\n  })\n\n  arrive.sort((a, b) => {\n    const splitA = a.attendanceMedicalRecord[0].detail[0].cureContent.arrivedTime.split('T');\n    const splitB = b.attendanceMedicalRecord[0].detail[0].cureContent.arrivedTime.split('T');\n    let timeA = new Date(`${splitA[0]} ${splitA[1]}`).getTime();\n    let timeB = new Date(`${splitB[0]} ${splitB[1]}`).getTime();\n\n    if (timeA > timeB) {\n      return -1;\n    }\n\n    if (timeA < timeB) {\n      return 1;\n    }\n\n    if (timeA === timeB) {\n      return 0;\n    }\n  });\n\n  hasLeft.sort((a, b) => {\n    const splitA = a.attendanceMedicalRecord[0].detail[0].cureContent.arrivedTime.split('T');\n    const splitB = b.attendanceMedicalRecord[0].detail[0].cureContent.arrivedTime.split('T');\n    let timeA = new Date(`${splitA[0]} ${splitA[1]}`).getTime();\n    let timeB = new Date(`${splitB[0]} ${splitB[1]}`).getTime();\n\n    if (timeA > timeB) {\n      return 1;\n    }\n\n    if (timeA < timeB) {\n      return -1;\n    }\n\n    if (timeA === timeB) {\n      return 0;\n    }\n  });\n\n  detailedinformationData.value = arrive.concat(hasLeft);\n}\n\n/** 取得醫師資料 */\nconst getDoctors = async () => {\n  let url = `/api/Employee/GetDoctorByActiveStatus?active=true`;\n\n  const token = fetchFunction.getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  const response = await fetchFunction.fetchApi(url, options);\n\n  if (response.statusCode >= 400) return null;\n\n  let doctorData = response.data;\n\n  const doctorDataLength = doctorData.length <= 4 ? doctorData.length : 4;\n\n  for(let i = 0; i < doctorDataLength; i++) {\n    doctorData[i].select = true;\n  }\n  state.doctorData = doctorData;\n}\n\n/** 取約診、候補的最新資料 */\nconst getUpdateAppointmentData = async(id) => {\n  const url = `/api/Appointment/GetInitUpdateAppointmentData?id=${id}`;\n\n  const token = fetchFunction.getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  const response = await fetchFunction.fetchApi(url, options);\n\n  state.updateAppointmentData = response.data;\n}\n\n/** 取得/重製已選擇醫師 */\nconst resetSelectedDoctor = () => {\n  state.selectedDoctor = [];\n\n  state.doctorData.forEach(item => {\n    if (item.select) {\n      state.selectedDoctor.push(item);\n    }\n  });\n}\n\n/** 取日班表，醫美部與美容部 */\nconst getDaysOutpatientData = async() => {\n\n  const date = `${state.year}-${state.month + 1 <= 9 ?'0':''}${state.month + 1}-${state.date <= 9 ?'0':''}${state.date}`;\n\n  let url = `/api/Outpatient/GetDaysOutpatientData?departmentId=${state.department}&date=${date}${state.filterQueryStatus.morning ? `&clinicPeriods=Morning`: ''}${state.filterQueryStatus.afternoon ? `&clinicPeriods=Afternoon`: ''}${state.filterQueryStatus.evening ? `&clinicPeriods=Evening`: ''}`;\n\n  state.selectedDoctor.forEach(item => {\n    url = `${url}&doctors=${item.id}`;\n  });\n\n  const token = fetchFunction.getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  const response = await fetchFunction.fetchApi(url, options);\n\n  state.daysOutpatientData = response.data;\n\n  const { daysOutpatients, customerStoredValueData, voucherDepositData } = state.daysOutpatientData;\n\n  state.customerStoredValueData = customerStoredValueData;\n  state.voucherDepositData = voucherDepositData;\n  \n  // 取出顯示資料最後的時間\n\n  const timeArr = Object.keys(daysOutpatients);\n\n  if (timeArr.length === 0) return null; \n\n  // 時間間格\n  const hourIntervals = timeArr[1].split(':')[0] - timeArr[0].split(':')[0];\n  const minuteIntervals = timeArr[1].split(':')[1] - timeArr[0].split(':')[1];\n\n  const lastData = timeArr[timeArr.length - 1].split(':');\n\n  let time = new Date(0, 0, 0, lastData[0], lastData[1]);\n\n  time.setHours(time.getHours() + hourIntervals);\n  time.setMinutes(time.getMinutes() + minuteIntervals);\n\n  state.offWorkTime = `${time.getHours()}:${time.getMinutes() <= 9 ? 0 : ''}${time.getMinutes()}`;\n\n  // 取跨時段\n\n  state.timeRange = [];\n\n  if (state.department === 'AestheticMedicine') {\n    for(let i = 0; i < timeArr.length; i++) {\n      for(let j = 0; j < state.selectedDoctor.length; j++) {\n        if(daysOutpatients[timeArr[i]][state.selectedDoctor[j].id].normalAppointment) {\n          if(daysOutpatients[timeArr[i]][state.selectedDoctor[j].id].normalAppointment.timeRange > 1) {\n  \n            let itemRange = daysOutpatients[timeArr[i]][state.selectedDoctor[j].id].normalAppointment.timeRange;\n\n            for(let k = i; k < (i + itemRange); k++) {\n                state.timeRange.push({\n                operatorId: daysOutpatients[timeArr[i]][state.selectedDoctor[j].id].normalAppointment.operatorId,\n                time: timeArr[k],\n                left: daysOutpatients[timeArr[i]][state.selectedDoctor[j].id].normalAppointment.left,\n                lastTimeSlot: (k + 1) === (i + itemRange) ? true : false,\n              })\n            }\n          }\n        }\n      }\n    }\n  }\n\n  console.log(state.timeRange);\n\n  if (state.department === 'Beauty') {\n    for(let i = 0; i < timeArr.length; i++) {\n      if (daysOutpatients[timeArr[i]].normalAppointment) {\n        if(daysOutpatients[timeArr[i]].normalAppointment.timeRange > 1) {\n  \n          let itemRange = daysOutpatients[timeArr[i]].normalAppointment.timeRange;\n\n          for(let k = i; k < (i + itemRange); k++) {\n\n            state.timeRange.push({\n              operatorId: daysOutpatients[timeArr[i]].normalAppointment.operatorId,\n              time: timeArr[k],\n              left: daysOutpatients[timeArr[i]].normalAppointment.left,\n              lastTimeSlot: (k + 1) === (i + itemRange) ? true : false,\n            })\n          }\n        }\n      }\n    }\n  }\n}\n\n/** 取今日日期 */\nconst getCurrentMonth = () => {\n  const data = new Date();\n\n  state.today = {\n    month: data.getMonth() + 1,\n    year: data.getFullYear(),\n    date: data.getDate(),\n  };\n  state.month = data.getMonth(); // 0 - 11\n  state.year = data.getFullYear();\n  state.date = data.getDate();\n}\n\n/** 取得早、午診最後時間 */\nconst getClinicPeriodLastTime = async() => {\n  const url = `/api/Outpatient/GetClinicPeriodLastTime?departmentId=${state.department}&date=${state.year}-${state.month + 1}-${state.date}`;\n\n  const token = fetchFunction.getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  const response = await fetchFunction.fetchApi(url, options);\n\n  state.clinicPeriodLastTime = response.data;\n}\n\n/** 顯示當月的總日，並把上、下個月的零碎日子加入 */\nconst showCalendar = (year, month) => {\n  let currentMonth = getCalendar(year, month, true);\n\n  const firstWeekLen = currentMonth[0].length;\n  const lastWeekLen = currentMonth[currentMonth.length - 1].length;\n\n  if (firstWeekLen < 7 && firstWeekLen !== 0) {\n    let lastMonth = getCalendar(year, month - 1, false);\n    \n    currentMonth[0] = lastMonth[lastMonth.length - 1].concat(currentMonth[0]);\n  }\n  \n  if (lastWeekLen < 7 && lastWeekLen !== 0) {\n    let nextMonth = getCalendar(year, month + 1, false);\n    currentMonth[currentMonth.length - 1] = currentMonth[currentMonth.length - 1].concat(nextMonth[0]);\n  }\n\n  for(let i = 0; i < currentMonth.length; i++) {\n    if (currentMonth[i].length === 0) {\n      currentMonth.splice(i, 1);\n    }\n  }\n\n  // 不是內地，就刪除星期天\n  // if (!this.china) {\n  //   this.dayLength = 6;\n  //   for(let i = 0; i < currentMonth.length; i++) {\n  //     currentMonth[i].splice(0, 1);\n  //   }\n  // }\n\n  state.calendar = currentMonth;\n  state.calendarData = currentMonth;\n}\n\n/** 取得當月的總日和資料 */\nconst getCalendar = (year, month, j) => {\n  let calendar = [];\n  let week = [];\n  let data = new Date(year, month + 1, 1);\n \n  data.setHours(data.getHours() - 1);                // 下個月 - 1 小時，目的是轉換成當月的最後一天 \n\n  const allDate = data.getDate();                    // 取得當月總日，例: 1 月，共 31 日\n\n  for (let i = 1; i <= allDate; i++) {\n\n    let morning = [];\n    let afternoon = [];\n    let evening = [];\n\n    if (j) {\n      for (let g = 0; g < state.showCalendarData.length; g++) {\n        if (i === state.showCalendarData[g].day) {\n          if (state.showCalendarData[g].clinicPeriod === 'Morning') {\n            morning.push(state.showCalendarData[g]);\n          }\n\n          if (state.showCalendarData[g].clinicPeriod === 'Afternoon') {\n            afternoon.push(state.showCalendarData[g]);\n          }\n\n          if (state.showCalendarData[g].clinicPeriod === 'Evening') {\n            evening.push(state.showCalendarData[g]);\n          }\n        }\n      }\n    }\n\n    let day = new Date(year, month, i).getDay(); // 星期 : 0 - 6\n      if (month === 12) {\n        month = 0;\n        year += 1;\n      }\n\n      if (month === -1) {\n        month = 11;\n        year -= 1;\n      }\n\n      week.push({\n        year: year,\n        month: month + 1,\n        date: i,\n        day: day,\n        isCurrentMonth: j,\n        morning,\n        afternoon,\n        evening,\n      });\n\n      if (day === 6 || i === allDate) {\n        calendar.push(week);\n        week = [];\n      }\n  }\n  return calendar;\n}\n\n/** 年和月的數字切換 */\nconst timeSwitch = (year, month, judge) => {\n  if (judge) {\n    month -= 1;\n  } else {\n    month += 1;\n  }\n\n  if (month === 12) {\n    month = 0;\n    year+= 1;\n  }\n\n  if (month === -1) {\n    month = 11;\n    year -= 1;\n  }\n\n  return { year, month };\n}\n\n/** 切換醫美部或美容部 - 約診與已約診 */\nconst continuousOrReservedToggle = () => {\n\n  if (state.department === 'AestheticMedicine') {\n    resetSelectedDoctor();\n\n    if (state.checkInContent === 'dateOfAppointment') getDaysOutpatientData();\n\n    if (state.checkInContent === 'detailedInformation') getDoctorAttendanceData();\n  }\n\n  if (state.department === 'Beauty') {\n  \n    if (state.checkInContent === 'dateOfAppointment') getDaysOutpatientData();\n\n    if (state.checkInContent === 'detailedInformation') getDepartmentAttendanceData();\n  }\n\n  getClinicPeriodLastTime();\n}\n\n\n/** 候補時間轉換中文 */\nconst clinicPeriodToCh = (name) => {\n  switch (name) {\n    case 'Morning':\n      return '早診';\n    case 'Afternoon':\n      return '午診';\n    case 'Evening':\n      return '晚診';\n    case 'AllDay':\n      return '全天';\n  }\n}\n\n/** 轉換時間(分針)刪除秒的格式 */\nconst convertTimeFormatDeleteSecond = (time) => {\n  return time.substr(0, 5);\n}\n\n/** 轉換時間(年月日)斜線格式 */\nconst convertTimeFormatSlash = (time) => {\n  const str = time || '';\n  return str.replace(/-/g, '/ ');\n}\n\n/** 部門切換 */\nconst departmentToggle = (status) => {\n  state.department = status;\n  continuousOrReservedToggle();\n}\n\nexport default {\n  state,\n  detailedinformationData,\n  getDoctors,\n  getCurrentMonth,\n  resetSelectedDoctor,\n  showCalendar,\n  getCalendar,\n  timeSwitch,\n  continuousOrReservedToggle,\n  clinicPeriodToCh,\n  convertTimeFormatDeleteSecond,\n  convertTimeFormatSlash,\n  departmentToggle,\n  getDaysOutpatientData,\n  getClinicPeriodLastTime,\n  getUpdateAppointmentData,\n  searchDetailedInformation,\n  getDoctorAttendanceData,\n};","import { reactive, ref } from 'vue';\nimport fetchFunction from './fetchFunction';\n\nconst trackState = reactive({\n  year: null,\n  month: null,\n  date: null,\n  today: {\n    year: null,\n    month: null,\n    date: null,\n  },\n  trackContent: 'dateOfAppointment',\n  updateAppointmentData: [],\n  clinicPeriodLastTime: {},\n  department: 'AestheticMedicine',\n  couseReason: '',\n  timeRange: [],\n  filterQueryStatus: {\n    continuousOutpatientNum: 1,\n    isAppointment: true,\n    morning: true,\n    afternoon: true,\n    evening: true,\n    courseTypeId: null,\n  },\n  customerStoredValueData: {},\n  voucherDepositData: {},\n  offWorkTime: '',\n  // data\n  calendarData: [],\n  doctorData: [],\n  daysOutpatientData: [],\n\n  selectedDoctor: [],\n  showCalendarData: [],\n  calendar: [],\n});\n\n/** 客戶查詢 */\nasync function searchDetailedInformation(customer) {\n\n  // const {name, birthday, cellPhone } = customer;\n\n  getDepartmentFollowUpDataBySearchCondition(customer);\n  \n  // const date = `${trackState.year}-${trackState.month + 1 <= 9 ?'0':''}${trackState.month + 1}-${trackState.date <= 9 ?'0':''}${trackState.date}`;\n\n  // let url = `${process.env.VUE_APP_API_URL}/api/MedicalRecord/GetDoctorAttendanceDataBySearchCondition?departmentId=${trackState.department}&customerName=${name}&customerBirthday=${birthday}&customerCellPhone=${cellPhone}&date=${date}&clinicPeriods=Morning&clinicPeriods=Afternoon&clinicPeriods=Evening`;\n\n  // if (trackState.department === 'Beauty') {\n  //   url = `${process.env.VUE_APP_API_URL}/api/MedicalRecord/GetDepartmentAttendanceDataBySearchCondition?departmentId=${trackState.department}&customerName=${name}&customerBirthday=${birthday}&customerCellPhone=${cellPhone}&date=${date}&clinicPeriods=Morning&clinicPeriods=Afternoon&clinicPeriods=Evening`;\n  // }\n\n  // trackState.selectedDoctor.forEach(item => {\n  //   url = `${url}&doctors=${item.id}`;\n  // });\n\n  // let response = await fetch(url).then(res => res.json()).then(res => res.data);\n\n  // detailedInformationInit(response);\n}\n\n/** 詳細到診資料 */\nconst detailedinformationData = ref([]);\n    \n/** 醫美部 - 取得詳細到診 */\nasync function getDoctorAttendanceData() {\n\n  const date = `${trackState.year}-${trackState.month + 1 <= 9 ?'0':''}${trackState.month + 1}-${trackState.date <= 9 ?'0':''}${trackState.date}`;\n  \n  let url = `/api/MedicalRecord/GetDoctorAttendanceData?departmentId=${trackState.department}&date=${date}`;\n\n  trackState.selectedDoctor.forEach(item => {\n    url = `${url}&doctors=${item.id}`;\n  });\n\n  const token = fetchFunction.getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  const response = await fetchFunction.fetchApi(url, options);\n\n  detailedInformationInit(response.data);\n}\n\n/** 取得醫師資料 */\nconst getDoctors = async () => {\n  const url = `/api/Employee/GetDoctorByActiveStatus?active=true`;\n\n  const token = fetchFunction.getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  const response = await fetchFunction.fetchApi(url, options);\n\n  if (response.statusCode >= 400) return null;\n\n  let doctorData = response.data;\n\n  const doctorDataLength = doctorData.length <= 4 ? doctorData.length : 4;\n\n  for(let i = 0; i < doctorDataLength; i++) {\n    doctorData[i].select = true;\n  }\n  trackState.doctorData = doctorData;\n}\n\n/** 取約診、候補的最新資料 */\nconst getUpdateAppointmentData = async(id) => {\n\n  const token = fetchFunction.getTokenFromCookie();\n\n  const url = `/api/Appointment/GetInitUpdateAppointmentData?id=${id}`;\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  const response = await fetchFunction.fetchApi(url, options);\n\n  trackState.updateAppointmentData = response.data;\n}\n\n/** 取得/重製已選擇醫師 */\nconst resetSelectedDoctor = () => {\n  trackState.selectedDoctor = [];\n\n  trackState.doctorData.forEach(item => {\n    if (item.select) {\n      trackState.selectedDoctor.push(item);\n    }\n  });\n}\n\n/** 取日班表，醫美部與美容部 */\nconst getDaysOutpatientData = async() => {\n\n  const date = `${trackState.year}-${trackState.month + 1 <= 9 ?'0':''}${trackState.month + 1}-${trackState.date <= 9 ?'0':''}${trackState.date}`;\n\n  let url = `/api/Outpatient/GetDaysOutpatientData?departmentId=${trackState.department}&date=${date}${trackState.filterQueryStatus.morning ? `&clinicPeriods=Morning`: ''}${trackState.filterQueryStatus.afternoon ? `&clinicPeriods=Afternoon`: ''}${trackState.filterQueryStatus.evening ? `&clinicPeriods=Evening`: ''}`;\n\n  trackState.selectedDoctor.forEach(item => {\n    url = `${url}&doctors=${item.id}`;\n  });\n\n  const token = fetchFunction.getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  const response = await fetchFunction.fetchApi(url, options);\n\n  trackState.daysOutpatientData = response.data;\n\n  const { daysOutpatients, customerStoredValueData, voucherDepositData } = trackState.daysOutpatientData;\n\n  trackState.customerStoredValueData = customerStoredValueData;\n  trackState.voucherDepositData = voucherDepositData;\n  \n  // 取出顯示資料最後的時間\n\n  const timeArr = Object.keys(daysOutpatients);\n\n  if (timeArr.length === 0) return null;\n\n  // 時間間格\n  const hourIntervals = timeArr[1].split(':')[0] - timeArr[0].split(':')[0];\n  const minuteIntervals = timeArr[1].split(':')[1] - timeArr[0].split(':')[1];\n\n  const lastData = timeArr[timeArr.length - 1].split(':');\n\n  let time = new Date(0, 0, 0, lastData[0], lastData[1]);\n\n  time.setHours(time.getHours() + hourIntervals);\n  time.setMinutes(time.getMinutes() + minuteIntervals);\n\n  trackState.offWorkTime = `${time.getHours()}:${time.getMinutes() <= 9 ? 0 : ''}${time.getMinutes()}`;\n\n  // 取跨時段\n\n  trackState.timeRange = [];\n\n  if (trackState.department === 'AestheticMedicine') {\n    for(let i = 0; i < timeArr.length; i++) {\n      for(let j = 0; j < trackState.selectedDoctor.length; j++) {\n        if(daysOutpatients[timeArr[i]][trackState.selectedDoctor[j].id].normalAppointment) {\n          if(daysOutpatients[timeArr[i]][trackState.selectedDoctor[j].id].normalAppointment.timeRange > 1) {\n  \n            let itemRange = daysOutpatients[timeArr[i]][trackState.selectedDoctor[j].id].normalAppointment.timeRange;\n\n            for(let k = i; k < (i + itemRange); k++) {\n                trackState.timeRange.push({\n                operatorId: daysOutpatients[timeArr[i]][trackState.selectedDoctor[j].id].normalAppointment.operatorId,\n                time: timeArr[k],\n                left: daysOutpatients[timeArr[i]][trackState.selectedDoctor[j].id].normalAppointment.left,\n                lastTimeSlot: (k + 1) === (i + itemRange) ? true : false,\n              })\n            }\n          }\n        }\n      }\n    }\n  }\n\n  if (trackState.department === 'Beauty') {\n    for(let i = 0; i < timeArr.length; i++) {\n      if (daysOutpatients[timeArr[i]].normalAppointment) {\n        if(daysOutpatients[timeArr[i]].normalAppointment.timeRange > 1) {\n  \n          let itemRange = daysOutpatients[timeArr[i]].normalAppointment.timeRange;\n\n          for(let k = i; k < (i + itemRange); k++) {\n\n            trackState.timeRange.push({\n              operatorId: daysOutpatients[timeArr[i]].normalAppointment.operatorId,\n              time: timeArr[k],\n              left: daysOutpatients[timeArr[i]].normalAppointment.left,\n              lastTimeSlot: (k + 1) === (i + itemRange) ? true : false,\n            })\n          }\n        }\n      }\n    }\n  }\n}\n\n/** 取今日日期 */\nconst getCurrentMonth = () => {\n  const data = new Date();\n\n  trackState.today = {\n    month: data.getMonth() + 1,\n    year: data.getFullYear(),\n    date: data.getDate(),\n  };\n  trackState.month = data.getMonth(); // 0 - 11\n  trackState.year = data.getFullYear();\n  trackState.date = data.getDate();\n}\n\n/** 取得早、午診最後時間 */\nconst getClinicPeriodLastTime = async() => {\n  const url = `/api/Outpatient/GetClinicPeriodLastTime?departmentId=${trackState.department}&date=${trackState.year}-${trackState.month + 1}-${trackState.date}`;\n\n  const token = fetchFunction.getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  const response = await fetchFunction.fetchApi(url, options);\n\n  trackState.clinicPeriodLastTime = response.data;\n}\n\n/** 顯示當月的總日，並把上、下個月的零碎日子加入 */\nconst showCalendar = (year, month) => {\n  let currentMonth = getCalendar(year, month, true);\n\n  const firstWeekLen = currentMonth[0].length;\n  const lastWeekLen = currentMonth[currentMonth.length - 1].length;\n\n  if (firstWeekLen < 7 && firstWeekLen !== 0) {\n    let lastMonth = getCalendar(year, month - 1, false);\n    \n    currentMonth[0] = lastMonth[lastMonth.length - 1].concat(currentMonth[0]);\n  }\n  \n  if (lastWeekLen < 7 && lastWeekLen !== 0) {\n    let nextMonth = getCalendar(year, month + 1, false);\n    currentMonth[currentMonth.length - 1] = currentMonth[currentMonth.length - 1].concat(nextMonth[0]);\n  }\n\n  for(let i = 0; i < currentMonth.length; i++) {\n    if (currentMonth[i].length === 0) {\n      currentMonth.splice(i, 1);\n    }\n  }\n\n  // 不是內地，就刪除星期天\n  // if (!this.china) {\n  //   this.dayLength = 6;\n  //   for(let i = 0; i < currentMonth.length; i++) {\n  //     currentMonth[i].splice(0, 1);\n  //   }\n  // }\n\n  trackState.calendar = currentMonth;\n  trackState.calendarData = currentMonth;\n}\n\n/** 取得當月的總日和資料 */\nconst getCalendar = (year, month, j) => {\n  let calendar = [];\n  let week = [];\n  let data = new Date(year, month + 1, 1);\n \n  data.setHours(data.getHours() - 1);                // 下個月 - 1 小時，目的是轉換成當月的最後一天 \n\n  const allDate = data.getDate();                    // 取得當月總日，例: 1 月，共 31 日\n\n  for (let i = 1; i <= allDate; i++) {\n\n    let morning = [];\n    let afternoon = [];\n    let evening = [];\n\n    if (j) {\n      for (let g = 0; g < trackState.showCalendarData.length; g++) {\n        if (i === trackState.showCalendarData[g].day) {\n          if (trackState.showCalendarData[g].clinicPeriod === 'Morning') {\n            morning.push(trackState.showCalendarData[g]);\n          }\n\n          if (trackState.showCalendarData[g].clinicPeriod === 'Afternoon') {\n            afternoon.push(trackState.showCalendarData[g]);\n          }\n\n          if (trackState.showCalendarData[g].clinicPeriod === 'Evening') {\n            evening.push(trackState.showCalendarData[g]);\n          }\n        }\n      }\n    }\n\n    let day = new Date(year, month, i).getDay(); // 星期 : 0 - 6\n      if (month === 12) {\n        month = 0;\n        year += 1;\n      }\n\n      if (month === -1) {\n        month = 11;\n        year -= 1;\n      }\n\n      week.push({\n        year: year,\n        month: month + 1,\n        date: i,\n        day: day,\n        isCurrentMonth: j,\n        morning,\n        afternoon,\n        evening,\n      });\n\n      if (day === 6 || i === allDate) {\n        calendar.push(week);\n        week = [];\n      }\n  }\n  return calendar;\n}\n\n/** 年和月的數字切換 */\nconst timeSwitch = (year, month, judge) => {\n  if (judge) {\n    month -= 1;\n  } else {\n    month += 1;\n  }\n\n  if (month === 12) {\n    month = 0;\n    year+= 1;\n  }\n\n  if (month === -1) {\n    month = 11;\n    year -= 1;\n  }\n\n  return { year, month };\n}\n\n/** 候補時間轉換中文 */\nconst clinicPeriodToCh = (name) => {\n  switch (name) {\n    case 'Morning':\n      return '早診';\n    case 'Afternoon':\n      return '午診';\n    case 'Evening':\n      return '晚診';\n    case 'AllDay':\n      return '全天';\n  }\n}\n\n// -- 以下跟診 --\n\nconst detailedTrackInformationData = ref(null);\n\n/** 取得詳細跟診資料 - 依門診 - 美容部  */\nasync function getDepartmentFollowUpData() {\n\n  const date = `${trackState.year}-${trackState.month + 1 <= 9 ?'0':''}${trackState.month + 1}-${trackState.date <= 9 ?'0':''}${trackState.date}`;\n\n  let url = `/api/MedicalRecord/GetDepartmentFollowUpData?departmentId=${trackState.department}&date=${date}`;\n\n  const token = fetchFunction.getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  const response = await fetchFunction.fetchApi(url, options);\n\n  detailedInformationInit(response.data);\n}\n\n/** 取得詳細跟診資料 - 依醫師 - 醫美部  */\nasync function getDoctorFollowUpData() {\n\n  const date = `${trackState.year}-${trackState.month + 1 <= 9 ?'0':''}${trackState.month + 1}-${trackState.date <= 9 ?'0':''}${trackState.date}`;\n\n  let url = `/api/MedicalRecord/GetDoctorFollowUpData?departmentId=${trackState.department}&date=${date}`;\n\n  trackState.selectedDoctor.forEach(item => {\n    url = `${url}&doctors=${item.id}`;\n  });\n\n  const token = fetchFunction.getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  const response = await fetchFunction.fetchApi(url, options);\n\n  detailedInformationInit(response.data);\n}\n\n/** 根據條件取得詳細跟診資料(門診依部門產生時用) */\nasync function getDepartmentFollowUpDataBySearchCondition(customer) {\n  const {name, birthday, cellPhone, courseTypeId } = customer;\n  const data = {\n    customerName: name,\n    customerBirthday: birthday,\n    customerCellPhone: cellPhone,\n    courseTypeId: courseTypeId,\n  }\n\n  const date = `${trackState.year}-${trackState.month + 1 <= 9 ?'0':''}${trackState.month + 1}-${trackState.date <= 9 ?'0':''}${trackState.date}`;\n\n  let url = `/api/MedicalRecord/GetDepartmentFollowUpDataBySearchCondition?departmentId=${trackState.department}&date=${date}`;\n\n  const token = fetchFunction.getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  const key = Object.keys(data);\n  \n  key.forEach(item => {\n    if (data[item]) {\n      url += `&${item}=${data[item]}`;\n    }\n  })\n  \n  const response = await fetchFunction.fetchApi(url, options);\n  \n  detailedInformationInit(response.data);\n}\n\n/** 主頁跟診資料整理 */\nfunction detailedInformationInit(response) {\n\n  console.log(response);\n\n  let doctorAttendanceData = response;\n  const customerIdArr = [];\n  const data = [];\n  \n  if (!doctorAttendanceData) return null;\n\n  let morning = trackState.filterQueryStatus.morning ? '早診' : null;\n  let afternoon = trackState.filterQueryStatus.afternoon ? '午診' : null;\n  let evening = trackState.filterQueryStatus.evening ? '晚診' : null;\n\n  doctorAttendanceData = doctorAttendanceData.filter(item => {\n    const clinicPeriodName = item.followUpMedicalRecord.clinicPeriodName;\n    return clinicPeriodName === morning || clinicPeriodName === afternoon || clinicPeriodName === evening;\n  });\n\n\n  if (trackState.filterQueryStatus.courseTypeId) {\n    doctorAttendanceData = doctorAttendanceData.filter(item => {\n      const clinicPeriodName = item.followUpMedicalRecord.courseTypeId;\n      return clinicPeriodName === trackState.filterQueryStatus.courseTypeId;\n    });\n  }\n\n  doctorAttendanceData.forEach(item => {\n\n    if (!customerIdArr.includes(item.followUpMedicalRecord.customerId)) {\n      customerIdArr.push(item.followUpMedicalRecord.customerId);\n      data.push({\n          customer: {\n            customerId: item.followUpMedicalRecord.customerId,\n            beauticianNickname: item.followUpMedicalRecord.beauticianNickname,\n            customerName: item.followUpMedicalRecord.customerName,\n            customerBirthday: item.followUpMedicalRecord.customerBirthday,\n            customerTraitColor: item.customerTraitColor.color,\n          },\n          followUpMedicalRecord: [],\n        });\n    }\n  })\n\n  doctorAttendanceData.forEach(itemA => {\n\n    const detailItem = {\n      cureContent: {\n        ...itemA.followUpMedicalRecord,\n      },\n      voucherOrderDetails: [],\n      bodyPart: [],\n      beautyConsumableName: itemA.followUpMedicalRecord.beautyConsumableName,\n      orderDetails: [],\n      totalExpense: 0,\n      medicalRecordSubcourseData: itemA.medicalRecordSubcourseData,\n      medicalRecordCustomerDemands: itemA.medicalRecordCustomerDemands,\n      beauticians: itemA.beauticians,\n      suggestionOfToday: itemA.suggestionOfToday,\n      doctorSigned: itemA.followUpMedicalRecord.doctorSigned,\n      needToSignConsent: itemA.needToSignConsent,\n      needToSignPhotoConsent: itemA.needToSignPhotoConsent,\n      customerStoredValueData: itemA.customerStoredValueData\n    }\n\n    // 麻藥費用整理\n    // 不上麻不用顯示\n    // 改不上麻\n    if (itemA.followUpMedicalRecord.anesthesiaSituation === \"CancelAnesthesia\") {\n      detailItem.orderDetails.push({\n        chargeType: 'anesthesia',\n        chargeName: '麻藥費用 (改不上麻)',\n        anesthesiaSituation: \"CancelAnesthesia\",\n        price: 0,\n        received: true,\n      })\n    }\n\n    // 上麻\n    if (itemA.followUpMedicalRecord.anesthesiaSituation === \"Anesthesia\") {\n      detailItem.orderDetails.push({\n        chargeType: 'anesthesia',\n        chargeName: '麻藥費用',\n        anesthesiaSituation: \"Anesthesia\",\n        price: itemA.anestheticOrderDetail.price === 0 ? '免費' : itemA.anestheticOrderDetail.price,\n        received: itemA.anestheticOrderDetail.received,\n      })\n    }\n\n    const experienceData = {\n      chargeType: 'cash',\n      chargeName: '體驗費用',\n      bodyParts: [],\n      price: [],\n      received: [],\n    }\n\n    const depositData = {\n      chargeType: 'cash',\n      chargeName: '押金費用',\n      bodyParts: [],\n      price: [],\n      received: [],\n    }\n\n    const onceData = {\n      chargeType: 'cash',\n      chargeName: '單次費用',\n      bodyParts: [],\n      price: [],\n      received: [],\n    }\n\n    // 現金支付\n    itemA.coursePartOrderDetails.forEach(itemB => {\n      \n      detailItem.totalExpense += parseInt(itemB.price);\n\n      // 體驗費用 - 初始\n      if (itemB.priceType === 'Experience') {\n        let bodyPart = itemA.bodyPartOptions.find(itemC => itemC.id === itemB.bodyPartId);\n        if (itemA.followUpMedicalRecord.courseTypeId === 'IV') {\n          bodyPart = {\n            name: 'IV',\n          }\n        }\n        \n        if (bodyPart.name === '全臉') {\n          experienceData.bodyParts.unshift(bodyPart);\n          experienceData.price.unshift(itemB.price);\n          experienceData.received.unshift(itemB.received);\n          return null;\n        }\n\n        experienceData.bodyParts.push(bodyPart);\n        experienceData.price.push(itemB.price);\n        experienceData.received.push(itemB.received);\n        return null;\n      }\n\n      // 押金費用 - 初始\n      if (itemB.priceType === 'Deposit') {\n        let bodyPart = itemA.bodyPartOptions.find(itemC => itemC.id === itemB.bodyPartId);\n        if (itemA.followUpMedicalRecord.courseTypeId === 'IV') {\n          bodyPart = {\n            name: 'IV',\n          }\n        }\n        if (bodyPart.name === '全臉') {\n          depositData.bodyParts.unshift(bodyPart);\n          depositData.price.unshift(itemB.price);\n          depositData.received.unshift(itemB.received);\n          return null;\n        }\n\n        depositData.bodyParts.push(bodyPart);\n        depositData.price.push(itemB.price);\n        depositData.received.push(itemB.received);\n        return null;\n      }\n\n      // 單次費用 - 初始\n      if (itemB.priceType === 'Once') {\n        if (itemB.bodyPartId === 'Other') {\n          onceData.bodyParts.push({\n            id: itemB.bodyPartId,\n            name: itemB.otherPartName,\n          });\n          onceData.price.push(itemB.price);\n          onceData.received.push(itemB.received);\n          return null;\n        }\n\n        let bodyPart = itemA.bodyPartOptions.find(itemC => itemC.id === itemB.bodyPartId);\n        if (itemA.followUpMedicalRecord.courseTypeId === 'IV') {\n          bodyPart = {\n            name: 'IV',\n          }\n        }\n\n        if (bodyPart.name === '全臉') {\n          onceData.bodyParts.unshift(bodyPart);\n          onceData.price.unshift(itemB.price);\n          onceData.received.unshift(itemB.received);\n          return null;\n        }\n\n        onceData.bodyParts.push(bodyPart);\n        onceData.price.push(itemB.price);\n        onceData.received.push(itemB.received);\n        return null;\n      }\n    })\n\n    if (experienceData.bodyParts.length !== 0) {\n      detailItem.orderDetails.push(experienceData);\n    }\n\n    if (depositData.bodyParts.length !== 0) {\n      detailItem.orderDetails.push(depositData);\n    }\n\n    if (onceData.bodyParts.length !== 0) {\n      detailItem.orderDetails.push(onceData);\n    }\n    \n    // detailItem.bodyPart 資料整理\n    detailItem.bodyPart = itemA.bodyPartOptions.map(item => {\n      const bodyPartItem = itemA.bodyParts.find(t => item.id === t.bodyPartId);\n\n      if (bodyPartItem) {\n        return {\n          name: item.name,\n          ...bodyPartItem\n          // itemA\n        }\n      }\n    })\n\n    // detailItem.bodyPart = itemA.bodyParts.map(item1 => {\n    //   const bodyPartItem = itemA.bodyPartOptions.find(item2 => item2.id === item1.bodyPartId);\n\n    //   return {\n    //     name: bodyPartItem.name,\n    //     ...item1\n    //   }\n    // });\n\n    const allCoupons = [\n      ...itemA.voucherOrderDetails,\n      ...itemA.couponOrderDetails,\n      ...itemA.oweVoucherSituationData\n    ];\n\n    // 療程卷號資料帶入預設位置 - 重複 id 中取唯一出來\n    const uniqueId = allCoupons.filter((item, index, self) => {\n      return index === self.findIndex((t) => t.bodyPartId === item.bodyPartId)\n    })\n\n    detailItem.voucherOrderDetails = uniqueId.map(item => {\n      if (itemA.followUpMedicalRecord.courseTypeName === '點滴') {\n        return {\n          bodyPartName: 'IV',\n          bodyPartId: item.bodyPartId,\n          voucherId: [],\n        }\n      }\n\n      let bodyPartName = itemA.bodyPartOptions.find(itemB => itemB.id === item.bodyPartId);\n\n      return {\n        bodyPartName: bodyPartName ? bodyPartName.name : null,\n        bodyPartId: item.bodyPartId,\n        voucherId: [],\n      }\n    })\n\n    // 以 bodyPartId，整理欠卷\n    itemA.oweVoucherSituationData.forEach(item1 => {\n\n      detailItem.voucherOrderDetails.forEach(item2 => {\n\n        if (item2.bodyPartId === item1.bodyPartId) {\n          item2.voucherId.push('oweVoucher');\n\n          return null;\n        }\n      })\n    })\n\n    // 以 bodyPartId，整理療程卷號\n    itemA.voucherOrderDetails.forEach(item1 => {\n\n      detailItem.voucherOrderDetails.forEach(item2 => {\n\n        if (item2.bodyPartId === item1.bodyPartId) {\n          item2.voucherId.push(item1.voucherId);\n\n          return null;\n        }\n      })\n    })\n\n    // 以 bodyPartId，整理活動卷號\n    itemA.couponOrderDetails.forEach(item1 => {\n\n      let couponNumber = item1.couponNumber.toString().padStart(3, 0);\n\n      let volumeNumber = `${item1.activityVoucherId}${couponNumber}`;\n\n      detailItem.voucherOrderDetails.forEach(item2 => {\n\n        if (item2.bodyPartId === item1.bodyPartId) {\n          item2.voucherId.push(volumeNumber);\n        }\n      })\n    })\n\n    // 預設醫師資料位置，並帶入 detailItem\n    data.forEach(itemB => {\n      if (itemB.customer.customerId === itemA.followUpMedicalRecord.customerId) {\n\n        if (itemB.followUpMedicalRecord.length === 0) {\n          itemB.followUpMedicalRecord.push({\n            operatorName: itemA.followUpMedicalRecord.operatorName,\n            operatorId: itemA.followUpMedicalRecord.operatorId,\n            detail: [detailItem],\n          })\n\n          return null;\n        }\n\n        const judge = itemB.followUpMedicalRecord.some(itemC => itemC.operatorId === itemA.followUpMedicalRecord.operatorId);\n\n        if (!judge) {\n          itemB.followUpMedicalRecord.push({\n              operatorName: itemA.followUpMedicalRecord.operatorName,\n              operatorId: itemA.followUpMedicalRecord.operatorId,\n              detail: [detailItem],\n          })\n        } else {\n          itemB.followUpMedicalRecord.forEach(itemD => {\n            if (itemD.operatorId === itemA.followUpMedicalRecord.operatorId) {\n              itemD.detail.push(detailItem);\n            }\n          })\n        }\n      }\n    })\n  })\n\n  // 資料排序\n\n  console.log(data);\n  \n  // 資料層排序\n  data.forEach(itemA => {\n    // 客戶層\n    itemA.followUpMedicalRecord.forEach(itemB => {\n      // 醫生層\n      let arrive = [];\n      let hasLeft = [];\n      itemB.detail.forEach(itemC => {\n        // 資料層\n        if (itemC.cureContent.arrivedTime && !itemC.cureContent.leftTime) {\n          arrive.push(itemC);\n        }\n\n        if (itemC.cureContent.arrivedTime && itemC.cureContent.leftTime) {\n          hasLeft.push(itemC);\n        }\n      })\n\n      arrive.sort((a, b) => {\n        const splitA = a.cureContent.arrivedTime.split('T');\n        const splitB = b.cureContent.arrivedTime.split('T');\n        let timeA = new Date(`${splitA[0]} ${splitA[1]}`).getTime();\n        let timeB = new Date(`${splitB[0]} ${splitB[1]}`).getTime();\n\n        if (timeA > timeB) {\n          return -1;\n        }\n\n        if (timeA < timeB) {\n          return 1;\n        }\n\n        if (timeA === timeB) {\n          return 0;\n        }\n      });\n\n      hasLeft.sort((a, b) => {\n        const splitA = a.cureContent.arrivedTime.split('T');\n        const splitB = b.cureContent.arrivedTime.split('T');\n        let timeA = new Date(`${splitA[0]} ${splitA[1]}`).getTime();\n        let timeB = new Date(`${splitB[0]} ${splitB[1]}`).getTime();\n\n        if (timeA > timeB) {\n          return 1;\n        }\n\n        if (timeA < timeB) {\n          return -1;\n        }\n\n        if (timeA === timeB) {\n          return 0;\n        }\n      });\n\n      itemB.detail = arrive.concat(hasLeft);\n    })\n  })\n\n  // console.log(itemB.detail);\n\n  // 醫生層排序\n  data.forEach(itemA => {\n    // 客戶層\n    let arrive = [];\n    let hasLeft = [];\n    itemA.followUpMedicalRecord.forEach(itemB => {\n      // 醫生層\n\n      if (itemB.detail[0].cureContent.arrivedTime && !itemB.detail[0].cureContent.leftTime) {\n        arrive.push(itemB);\n      }\n\n      if (itemB.detail[0].cureContent.arrivedTime && itemB.detail[0].cureContent.leftTime) {\n        hasLeft.push(itemB);\n      }\n    })\n\n    arrive.sort((a, b) => {\n      const splitA = a.detail[0].cureContent.arrivedTime.split('T');\n      const splitB = b.detail[0].cureContent.arrivedTime.split('T');\n      let timeA = new Date(`${splitA[0]} ${splitA[1]}`).getTime();\n      let timeB = new Date(`${splitB[0]} ${splitB[1]}`).getTime();\n\n      if (timeA > timeB) {\n        return -1;\n      }\n\n      if (timeA < timeB) {\n        return 1;\n      }\n\n      if (timeA === timeB) {\n        return 0;\n      }\n    });\n\n    hasLeft.sort((a, b) => {\n      const splitA = a.detail[0].cureContent.arrivedTime.split('T');\n      const splitB = b.detail[0].cureContent.arrivedTime.split('T');\n      let timeA = new Date(`${splitA[0]} ${splitA[1]}`).getTime();\n      let timeB = new Date(`${splitB[0]} ${splitB[1]}`).getTime();\n\n      if (timeA > timeB) {\n        return 1;\n      }\n\n      if (timeA < timeB) {\n        return -1;\n      }\n\n      if (timeA === timeB) {\n        return 0;\n      }\n    });\n  \n    itemA.followUpMedicalRecord = arrive.concat(hasLeft);\n  })\n\n  // 客戶層排序\n  let arrive = [];\n  let hasLeft = [];\n\n  data.forEach(itemA => {\n    // 客戶層\n    if (itemA.followUpMedicalRecord[0].detail[0].cureContent.arrivedTime && !itemA.followUpMedicalRecord[0].detail[0].cureContent.leftTime) {\n      arrive.push(itemA);\n    }\n\n    if (itemA.followUpMedicalRecord[0].detail[0].cureContent.arrivedTime && itemA.followUpMedicalRecord[0].detail[0].cureContent.leftTime) {\n      hasLeft.push(itemA);\n    }\n  })\n\n  arrive.sort((a, b) => {\n    const splitA = a.followUpMedicalRecord[0].detail[0].cureContent.arrivedTime.split('T');\n    const splitB = b.followUpMedicalRecord[0].detail[0].cureContent.arrivedTime.split('T');\n    let timeA = new Date(`${splitA[0]} ${splitA[1]}`).getTime();\n    let timeB = new Date(`${splitB[0]} ${splitB[1]}`).getTime();\n\n    if (timeA > timeB) {\n      return -1;\n    }\n\n    if (timeA < timeB) {\n      return 1;\n    }\n\n    if (timeA === timeB) {\n      return 0;\n    }\n  });\n\n  hasLeft.sort((a, b) => {\n    const splitA = a.followUpMedicalRecord[0].detail[0].cureContent.arrivedTime.split('T');\n    const splitB = b.followUpMedicalRecord[0].detail[0].cureContent.arrivedTime.split('T');\n    let timeA = new Date(`${splitA[0]} ${splitA[1]}`).getTime();\n    let timeB = new Date(`${splitB[0]} ${splitB[1]}`).getTime();\n\n    if (timeA > timeB) {\n      return 1;\n    }\n\n    if (timeA < timeB) {\n      return -1;\n    }\n\n    if (timeA === timeB) {\n      return 0;\n    }\n  });\n\n  if (trackState.trackContent === 'detailedInformation') {\n    detailedTrackInformationData.value = hasLeft;\n    return null;\n  }\n\n  // 分離出到診與完診\n  const arrived = [];\n  const endTime = [];\n\n  arrive.forEach(doc => {\n    const alljudge = [];\n\n    doc.followUpMedicalRecord.forEach(customer => {\n      const endTimeJudge = customer.detail.some(item => item.cureContent.endTimeOfTreatment);\n\n      if (endTimeJudge) {\n        alljudge.push(customer);\n      }\n    })\n\n    if (alljudge.length === 0) {\n      arrived.push(doc);\n    } else {\n      endTime.push(doc);\n    }\n  })\n\n  detailedTrackInformationData.value = [...arrived, ...endTime, ...hasLeft];\n}\n\n/** 切換醫美部或美容部 - 約診與已約診 */\nconst continuousOrReservedToggle = async() => {\n\n  if (trackState.department === 'AestheticMedicine') {\n    resetSelectedDoctor();\n\n    if (trackState.trackContent === 'dateOfAppointment') await getDoctorFollowUpData();\n\n    if (trackState.trackContent === 'detailedInformation') await getDoctorFollowUpData();\n  }\n\n  if (trackState.department === 'Beauty') {\n  \n    if (trackState.trackContent === 'dateOfAppointment') await getDepartmentFollowUpData();\n\n    if (trackState.trackContent === 'detailedInformation') await getDepartmentFollowUpData();\n  }\n\n  getClinicPeriodLastTime();\n}\n\n\nexport default {\n  trackState,\n  detailedinformationData,\n  detailedTrackInformationData,\n  getDoctors,\n  getCurrentMonth,\n  resetSelectedDoctor,\n  showCalendar,\n  getCalendar,\n  timeSwitch,\n  continuousOrReservedToggle,\n  clinicPeriodToCh,\n  // departmentToggle,\n  getDaysOutpatientData,\n  getClinicPeriodLastTime,\n  getUpdateAppointmentData,\n  searchDetailedInformation,\n  getDoctorAttendanceData,\n  detailedInformationInit,\n};","import { reactive } from 'vue';\n\nconst messageState = reactive({\n  messages: [],\n});\n\nconst updateMessage = (message) => {\n  const timestamp = Math.floor(new Date() / 1000);\n  messageState.messages.push({ message, timestamp });\n  removeMessageWithTiming(timestamp);\n}\n\nfunction removeMessageWithTiming(timestamp) {\n  setTimeout(() => {\n    messageState.messages.forEach((item, i) => {\n      if (item.timestamp === timestamp) {\n        messageState.messages.splice(i, 1);\n      }\n    })\n  }, 5000);\n}\n\nexport default {\n  messageState,\n  updateMessage,\n};","import { reactive } from 'vue';\n\nconst state = reactive({\n  \n});\n\n/** 年和月的數字切換 */\nconst timeSwitch = (year, month, judge) => {\n  if (judge) {\n    month -= 1;\n  } else {\n    month += 1;\n  }\n\n  if (month === 12) {\n    month = 0;\n    year+= 1;\n  }\n\n  if (month === -1) {\n    month = 11;\n    year -= 1;\n  }\n\n  return { year, month };\n}\n\n/** 候補時間轉換中文 */\nconst clinicPeriodToCh = (name) => {\n  switch (name) {\n    case 'Morning':\n      return '早診';\n    case 'Afternoon':\n      return '午診';\n    case 'Evening':\n      return '晚診';\n    case 'AllDay':\n      return '全天';\n  }\n}\n\n/** 轉換時間(分針)刪除秒的格式，9:00:00 => 9:00 */\nconst convertTimeFormatDeleteSecond = (time) => {\n  if(!time) return null;\n  return time.substring(0, 5);\n}\n\n/** 轉換時間，刪除 T*/\n// 2023-03-06T14:30:15.7561711+08:00 => { 2023-03-06, 14:30:15 }\nconst deleteTTimeFormat = (format) => {\n\n  if (!format) return { date: null, time: null }; \n\n  const newformat = format.split('T');\n\n  return { date: newformat[0], time: newformat[1].substring(0, 5)}\n \n}\n\n/** 轉換時間(年月日)斜線格式，2023-03-06 => 2023/ 03/ 06 */\nconst convertTimeFormatSlash = (time) => {\n  const str = time || '';\n  return str.replace(/-/g, '/ ');\n}\n\n/** 日期轉星期  */\nconst dateConversionWeek = (time) => {\n  const date = new Date(time);\n  const dayList = ['日', '一', '二', '三', '四', '五', '六'];\n\n  const day = date.getDay();\n\n  return dayList[day];\n}\n\nexport default {\n  state,\n  timeSwitch,\n  clinicPeriodToCh,\n  convertTimeFormatDeleteSecond,\n  convertTimeFormatSlash,\n  deleteTTimeFormat,\n  dateConversionWeek,\n};","const accordionToggle = (num, toggleData) => {\n  const toggleName = document.querySelectorAll(`${toggleData[0].className}`);\n\n  let toggleIcon;\n  let judge = false;\n\n  if(toggleData.length > 1) {\n    toggleIcon = document.querySelectorAll(`${toggleData[1].className}`);\n    judge = true;\n  }\n  \n  const offsetHeight = toggleName[num].offsetHeight;\n\n  const len = toggleName.length;\n\n  if (offsetHeight !== 0) {\n    toggleName[num].style.maxHeight = `0px`;\n    if (judge) {\n      toggleIcon[num].style[`${toggleData[1].style}`] = toggleData[1].close;\n    }\n    return null;\n  }\n  \n  if(toggleData[0].maxHeight) {\n    toggleName[num].style.maxHeight = toggleData[0].maxHeight;\n  } else {\n    toggleName[num].style.maxHeight = toggleName[num].scrollHeight + 'px';\n  }\n\n  if (judge) {\n    toggleIcon[num].style[`${toggleData[1].style}`] = toggleData[1].open;\n  }\n\n   for (let i = 0; i < len; i++) {\n    if (i !== num) {\n      toggleName[i].style.maxHeight = `0px`;\n      if (judge) {\n        toggleIcon[i].style[`${toggleData[1].style}`] = toggleData[1].close;\n      }\n    }\n  }\n}\n\nexport default {\n  accordionToggle,\n};","import { reactive } from 'vue';\nimport fetchFunction from './fetchFunction';\n\nconst {\n  getTokenFromCookie,\n  fetchApi,\n} = fetchFunction;\n\nconst employeeState = reactive({\n  allDoctorData: [],\n  beauticiansData: [],\n  beauticianAAData: [],\n  beauticiansAAForCareData: [],\n  initUpdateEmployeeData: {},\n  employeeSettingData: [],\n});\n\n// GET\n\n/** 取得所有醫師 (啟用中) */\nasync function getAllDoctorData() {\n  const url = `/api/Employee/GetDoctorByActiveStatus?active=true`;\n\n  const token = getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  const response = await fetchApi(url, options);\n\n  employeeState.allDoctorData = response.data;\n}\n\n/** 取得所有醫美師 */\nasync function getBeauticians() {\n  const url = `/api/Employee/GetBeauticians`;\n\n  const token = getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  const response = await fetchApi(url, options);\n\n  employeeState.beauticiansData = response.data;\n}\n\n/** 取得啟用中的高階醫美師 */\nasync function getBeauticianAAByActiveStatus() {\n  const url = `/api/Employee/GetBeautician_AAByActiveStatus?active=true`;\n\n  const token = getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  const response = await fetchApi(url, options);\n\n  employeeState.beauticianAAData = response.data;\n}\n\n/** 取得醫美師助理可代關心的高階醫美師 */\nasync function getBeauticiansAAForCare() {\n  const url = `/api/Employee/GetBeauticiansAAForCare`;\n\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${getTokenFromCookie()}`\n    },\n    method: 'GET',\n  };\n\n  const response = await fetchApi(url, options);\n\n  employeeState.beauticiansAAForCareData = response.data;\n}\n\n/** 取得初始化更新員工的資料 */\nasync function getInitUpdateEmployeeData(id) {\n\n  const url = `/api/Employee/GetInitUpdateEmployeeData?id=${id}`;\n\n  const token = getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  const response = await fetchApi(url, options);\n\n  employeeState.initUpdateEmployeeData = response.data;\n}\n\n/** 取全部員工資料 */\nasync function getEmployeeSettingData() {\n      \n  const url = `/api/Employee/GetEmployeeSettingData`;\n\n  const token = getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET',\n  };\n\n  const response = await fetchApi(url, options);\n\n  employeeState.employeeSettingData = response.data;\n}\n\n// POST\n\n/** 新增員工 */\nasync function addEmployee(data) {\n  const url = `/api/Employee`;\n\n  const token = getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'POST',\n    body: JSON.stringify(data),\n  };\n\n  return await fetchApi(url, options);\n}\n\n// PATCH\n\n/** 編輯員工 */\nconst editEmployee = async(data) => {\n  const url = `/api/Employee`;\n\n  const token = getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'PATCH',\n    body: JSON.stringify(data),\n  };\n\n  return await fetchApi(url, options);\n}\n\nexport default {\n  employeeState,\n  getAllDoctorData,\n  getBeauticians,\n  getBeauticianAAByActiveStatus,\n  getBeauticiansAAForCare,\n  addEmployee,\n  editEmployee,\n  getInitUpdateEmployeeData,\n  getEmployeeSettingData,\n};","import { reactive } from 'vue';\nimport fetchFunction from './fetchFunction';\n\nconst {\n  getTokenFromCookie,\n  fetchApi,\n} = fetchFunction;\n\nconst leaveRecordState = reactive({\n  leaveRecordTagData: [],\n  initLeaveRecordData: [],\n});\n\n// GET\n\n/** 取得離診紀錄的標籤資料 */\nasync function getLeaveRecordTagData(customerId, date) {\n\n  const url = `/api/LeaveRecord/GetLeaveRecordTagData?customerId=${customerId}&appointmentDate=${date}`;\n\n  const token = getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  const response = await fetchApi(url, options);\n\n  leaveRecordState.leaveRecordTagData = response.data;\n}\n\n/** 取得初始化離診紀錄的資料 */\nasync function getInitLeaveRecordData(medicalRecordId) {\n  const url = `/api/LeaveRecord/GetInitLeaveRecordData?medicalRecordId=${medicalRecordId}`;\n\n  const token = getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  const response = await fetchApi(url, options);\n\n  leaveRecordState.initLeaveRecordData = response.data;\n  console.log(response.data);\n}\n\n// POST\n\n/** 建立離診紀錄 */\nasync function createLeaveRecord(data) {\n  const url = `/api/LeaveRecord`;\n\n  const token = getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'POST',\n    body: JSON.stringify(data),\n  }\n\n  return await fetchApi(url, options);\n}\n\nexport default {\n  leaveRecordState,\n  getLeaveRecordTagData,\n  getInitLeaveRecordData,\n  createLeaveRecord,\n};","import { reactive } from 'vue';\nimport fetchFunction from './fetchFunction';\n\nconst {\n  getTokenFromCookie,\n  fetchApi,\n} = fetchFunction;\n\nconst medicalRecordState = reactive({\n  changeOperatorData: [],\n  employeeStampData: [],\n  otherPartHistoryData: [],\n  consoleConfirmTagData: [],\n  historicalMedicalRecordOption: [],\n  doctorStampData: [],\n  initExtraMedicalRecordData: [],\n  historicalMedicalRecordData: [],\n  medicalRecordStampData: [],\n});\n\n// GET\n\n/** 取得變更負責看診員工的資料 */\nasync function getChangeOperatorData(departmentId, customerId, date) {\n\n  const url = `/api/MedicalRecord/GetChangeOperatorData?departmentId=${departmentId}&customerId=${customerId}&date=${date}`;\n\n  const token = getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  const response = await fetchApi(url, options);\n\n  medicalRecordState.changeOperatorData = response.data;\n}\n\n/** 根據條件取得詳細跟診資料(門診依部門產生時用) */\nasync function getDepartmentFollowUpDataBySearchCondition(departmentId, date, data) {\n\n  let url = `/api/MedicalRecord/GetDepartmentFollowUpDataBySearchCondition?departmentId=${departmentId}&date=${date}`;\n\n  const key = Object.keys(data);\n\n  key.forEach(item => {\n    if (data[item]) {\n      url += `&${item}=${data[item]}`;\n    }\n  })\n\n  const token = getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  return await fetchApi(url, options);\n}\n\n/** 取得員工的簽章資料 */\nasync function getEmployeeStampData(employeeId) {\n  const url = `/api/MedicalRecord/GetEmployeeStampData?employeeId=${employeeId}`;\n\n  const token = getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  const response = await fetchApi(url, options);\n\n  medicalRecordState.employeeStampData = response.data;\n}\n\n/** 更新病歷基本資料和收費 */\nasync function getOtherPartHistory(customerId, courseId) {\n  const url = `/api/MedicalRecord/GetOtherPartHistory?customerId=${customerId}&courseId=${courseId}&limit=5`;\n\n  const token = getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  const response = await fetchApi(url, options);\n\n  medicalRecordState.otherPartHistoryData = response.data;\n}\n\n/** 取得初始化加診的資料 */\nasync function getInitExtraMedicalRecordData(departmentId, customerId) {\n\n  const url =`/api/MedicalRecord/GetInitExtraMedicalRecordData?departmentId=${departmentId}&customerId=${customerId}`;\n\n  const token = getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  const response = await fetchApi(url, options);\n\n  medicalRecordState.initExtraMedicalRecordData = response.data;\n}\n\n/** 取得控台確認病歷的標籤資料 */\nasync function getConsoleConfirmTagData(customerId, date) {\n  \n  const url = `/api/MedicalRecord/GetConsoleConfirmTagData?customerId=${customerId}&appointmentDate=${date}`;\n\n  const token = getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  const response = await fetchApi(url, options);\n\n  medicalRecordState.consoleConfirmTagData = response.data;\n}\n\n/** 取得醫師簽章資料 */\nasync function getDoctorStampData() {\n  const url = `/api/MedicalRecord/GetDoctorStampData`;\n\n  const token = getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  const response = await fetchApi(url, options);\n\n  medicalRecordState.doctorStampData = response.data;\n}\n\n/** 取得客戶歷史病歷選項資料  */\nasync function getHistoricalMedicalRecordOption(courseTypeArr, customerId) {\n  let url = `/api/MedicalRecord/GetHistoricalMedicalRecordOption?customerId=${customerId}`;\n  \n  courseTypeArr.forEach(item => {\n    url+=`&courseTypeIdList=${item.id}`\n  })\n\n  const token = getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  const response = await fetchApi(url, options);\n\n  medicalRecordState.historicalMedicalRecordOption = response.data;\n}\n\n/** 取得歷史病歷資料 */\nasync function getHistoricalMedicalRecordData(medicalRecordId) {\n\n  const url = `/api/MedicalRecord/GetHistoricalMedicalRecordData?medicalRecordId=${medicalRecordId}`;\n\n  const token = getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n  const response = await fetchApi(url, options);\n\n  medicalRecordState.historicalMedicalRecordData = response.data;\n}\n\n/** 取得病歷簽章資料 */\nasync function getMedicalRecordStampData(medicalRecordId) {\n  const url = `/api/MedicalRecord/GetMedicalRecordStampData?medicalRecordId=${medicalRecordId}`;\n\n  const token = getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  const response = await fetchApi(url, options);\n\n  medicalRecordState.medicalRecordStampData = response.data;\n}\n\n// PATCH\n\n/** 修改變更負責子療程的員工 */\nasync function changeSubcourseOperator(item) {\n  const url = `/api/MedicalRecord/ChangeSubcourseOperator`;\n\n  const PATCHData = {\n    medicalRecordId: item.medicalRecordId,\n    subcourseId: item.subcourseId,\n    beautician: item.beautician\n  }\n\n  const token = getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'PATCH',\n    body: JSON.stringify(PATCHData),\n  }\n\n  await fetchApi(url, options);\n}\n\nexport default {\n  medicalRecordState,\n  getChangeOperatorData,\n  getDepartmentFollowUpDataBySearchCondition,\n  getEmployeeStampData,\n  getOtherPartHistory,\n  getInitExtraMedicalRecordData,\n  getConsoleConfirmTagData,\n  changeSubcourseOperator,\n  getDoctorStampData,\n  getHistoricalMedicalRecordOption,\n  getHistoricalMedicalRecordData,\n  getMedicalRecordStampData,\n};","import { reactive } from 'vue';\nimport fetchFunction from './fetchFunction';\n\nconst {\n  getTokenFromCookie,\n  fetchApi,\n} = fetchFunction;\n\nconst courseState = reactive({\n  courseOptionsByType: [],\n});\n\n// GET\n\n/** 取得療程選項 */\nasync function getCourseOptionsByType(courseType) {\n\n  const url = `/api/Course/GetCourseOptionsByType?courseTypeId=${courseType}`;\n\n  const token = getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  const response = await fetchApi(url, options);\n\n  courseState.courseOptionsByType = response.data;\n}\n\nexport default {\n  courseState,\n  getCourseOptionsByType,\n};","import { reactive } from 'vue';\nimport fetchFunction from './fetchFunction';\n\nconst {\n  getTokenFromCookie,\n  fetchApi,\n} = fetchFunction;\n\nconst courseTypeState = reactive({\n  courseTypeData: [],\n});\n\n// GET\n\n/** 取得所有療程類型  */\nasync function getCourseTypeData() {\n  const url = `/api/CourseType/GetAll`;\n\n  const token = getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  const response = await fetchApi(url, options);\n\n  courseTypeState.courseTypeData = response.data;\n}\n\nexport default {\n  courseTypeState,\n  getCourseTypeData,\n};","import { reactive } from 'vue';\nimport fetchFunction from './fetchFunction';\n\nconst {\n  getTokenFromCookie,\n  fetchApi,\n} = fetchFunction;\n\nconst prescribeMedicineRecordState = reactive({\n  prescribeMedicineRecordData: [],\n});\n\n// GET\n\n/** 取得病歷對應的開藥紀錄 */\nasync function getPrescribeMedicineRecord(medicalReocrdId) {\n\n  const url = `/api/PrescribeMedicineRecord/GetByMedicalRecord?medicalReocrdId=${medicalReocrdId}`;\n\n  const token = getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`\n    },\n    method: 'GET'\n  }\n\n  const response = await fetchApi(url, options);\n\n  prescribeMedicineRecordState.prescribeMedicineRecordData = response.data;\n}\n\n// PATCH\n\n/** 取得病歷對應的開藥紀錄 */\nasync function getByUpdateMedicalRecord(data) {\n\n  const url = `/api/PrescribeMedicineRecord`;\n\n  const token = getTokenFromCookie();\n\n  const options = {\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`,\n    },\n    method: 'PATCH',\n    body: JSON.stringify(data),\n  }\n\n  return await fetchApi(url, options);\n}\n\nexport default {\n  prescribeMedicineRecordState,\n  getPrescribeMedicineRecord,\n  getByUpdateMedicalRecord\n};","import { render } from \"./App.vue?vue&type=template&id=09e08914\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=09e08914&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\shang\\\\OneDrive\\\\桌面\\\\amis\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\n\r\nimport { createPinia } from \"pinia\";\r\nconst pinia = createPinia();\r\n\r\ncreateApp(App).use(router).use(pinia).mount('#app')\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + (chunkId === 443 ? \"about\" : chunkId) + \".\" + {\"13\":\"42b2e244\",\"57\":\"751b3953\",\"129\":\"04743bce\",\"152\":\"4851c358\",\"180\":\"b22aef95\",\"225\":\"ebc5dc6f\",\"241\":\"da5a6d98\",\"299\":\"224d8ef7\",\"381\":\"3daa1517\",\"440\":\"191f7c1d\",\"443\":\"7519a5aa\",\"455\":\"fae7b856\",\"479\":\"f9116ac0\",\"534\":\"04a0dcda\",\"537\":\"5bb82707\",\"563\":\"c92367c9\",\"590\":\"ea84d7c4\",\"705\":\"bd4721dd\",\"763\":\"961ec1ef\",\"807\":\"c79da6ae\",\"815\":\"d540776b\",\"826\":\"8a12230a\",\"852\":\"375ddf12\",\"877\":\"51bf004e\",\"881\":\"58ad83fb\",\"962\":\"e0caa828\",\"965\":\"8ea15558\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"css/\" + (chunkId === 443 ? \"about\" : chunkId) + \".\" + {\"13\":\"8bfa0583\",\"57\":\"7ec37c1c\",\"225\":\"25886226\",\"443\":\"24ece2e2\",\"537\":\"205b77f8\",\"563\":\"e353346e\",\"705\":\"e412008f\",\"763\":\"e9e06c64\",\"807\":\"892a85a6\",\"965\":\"0681db14\"}[chunkId] + \".css\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"amis:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t};\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/testamis/\";","if (typeof document === \"undefined\") return;\nvar createStylesheet = function(chunkId, fullhref, oldTag, resolve, reject) {\n\tvar linkTag = document.createElement(\"link\");\n\n\tlinkTag.rel = \"stylesheet\";\n\tlinkTag.type = \"text/css\";\n\tvar onLinkComplete = function(event) {\n\t\t// avoid mem leaks.\n\t\tlinkTag.onerror = linkTag.onload = null;\n\t\tif (event.type === 'load') {\n\t\t\tresolve();\n\t\t} else {\n\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\tvar realHref = event && event.target && event.target.href || fullhref;\n\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + realHref + \")\");\n\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n\t\t\terr.type = errorType;\n\t\t\terr.request = realHref;\n\t\t\tlinkTag.parentNode.removeChild(linkTag)\n\t\t\treject(err);\n\t\t}\n\t}\n\tlinkTag.onerror = linkTag.onload = onLinkComplete;\n\tlinkTag.href = fullhref;\n\n\tif (oldTag) {\n\t\toldTag.parentNode.insertBefore(linkTag, oldTag.nextSibling);\n\t} else {\n\t\tdocument.head.appendChild(linkTag);\n\t}\n\treturn linkTag;\n};\nvar findStylesheet = function(href, fullhref) {\n\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n\tfor(var i = 0; i < existingLinkTags.length; i++) {\n\t\tvar tag = existingLinkTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return tag;\n\t}\n\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n\tfor(var i = 0; i < existingStyleTags.length; i++) {\n\t\tvar tag = existingStyleTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\");\n\t\tif(dataHref === href || dataHref === fullhref) return tag;\n\t}\n};\nvar loadStylesheet = function(chunkId) {\n\treturn new Promise(function(resolve, reject) {\n\t\tvar href = __webpack_require__.miniCssF(chunkId);\n\t\tvar fullhref = __webpack_require__.p + href;\n\t\tif(findStylesheet(href, fullhref)) return resolve();\n\t\tcreateStylesheet(chunkId, fullhref, null, resolve, reject);\n\t});\n}\n// object to store loaded CSS chunks\nvar installedCssChunks = {\n\t143: 0\n};\n\n__webpack_require__.f.miniCss = function(chunkId, promises) {\n\tvar cssChunks = {\"13\":1,\"57\":1,\"225\":1,\"443\":1,\"537\":1,\"563\":1,\"705\":1,\"763\":1,\"807\":1,\"965\":1};\n\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n\t\tpromises.push(installedCssChunks[chunkId] = loadStylesheet(chunkId).then(function() {\n\t\t\tinstalledCssChunks[chunkId] = 0;\n\t\t}, function(e) {\n\t\t\tdelete installedCssChunks[chunkId];\n\t\t\tthrow e;\n\t\t}));\n\t}\n};\n\n// no hmr","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkamis\"] = self[\"webpackChunkamis\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(1797); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createBlock","_component_router_view","routes","path","redirect","name","component","children","router","createRouter","history","createWebHashHistory","BASE_URL","async","fetchApi","url","options","fetchOptines","response","fetch","then","res","json","statusCode","error","getTokenFromCookie","cookies","document","cookie","split","i","length","trim","startsWith","token","substring","appointmentState","reactive","year","month","date","today","updateAppointmentData","selectedCustomer","clinicPeriodLastTime","calendarContent","department","appointmentContent","couseReason","timeRange","filterQueryStatus","continuousOutpatientNum","isAppointment","morning","afternoon","evening","customerStoredValueData","voucherDepositData","offWorkTime","calendarData","doctorData","alternateCustomerData","daysOutpatientData","selectedDoctor","showCalendarData","calendar","scrollToTimePeriodString","getDoctors","fetchFunction","headers","method","data","doctorDataLength","select","getUpdateAppointmentData","id","courseEnter","putData","cancelReason","appointmentId","body","JSON","stringify","resetSelectedDoctor","forEach","item","push","getDaysOutpatientData","daysOutpatients","timeArr","Object","keys","hourIntervals","minuteIntervals","lastData","time","Date","setHours","getHours","setMinutes","getMinutes","j","normalAppointment","itemRange","k","operatorId","left","lastTimeSlot","getCurrentMonth","getMonth","getFullYear","getDate","getClinicPeriodLastTime","getDoctorContinuousOutpatientData","judge","showCalendar","currentMonth","getCalendar","firstWeekLen","lastWeekLen","lastMonth","concat","nextMonth","splice","week","allDate","g","day","clinicPeriod","morningSortBySelectedDoctor","afternoonSortBySelectedDoctor","eveningSortBySelectedDoctor","itemA","itemB","doctor","getDay","isCurrentMonth","timeSwitch","findGenerateOutpatientWay","continuousOrReservedToggle","status","dataGenerationMethod","getDoctorReservedDaysAndAmount","getBeauticianContinuousOutpatientData","getDepartmentReservedDaysAndAmount","findAlternateByDate","findAlternateByYearMonth","clinicPeriodToCh","convertTimeFormatDeleteSecond","substr","convertTimeFormatSlash","str","replace","departmentToggle","state","checkInContent","searchDetailedInformation","customer","birthday","cellPhone","detailedInformationInit","detailedinformationData","ref","getDoctorAttendanceData","getDepartmentAttendanceData","doctorAttendanceData","customerIdArr","filter","clinicPeriodName","attendanceMedicalRecord","includes","customerId","beauticianNickname","customerName","customerBirthday","detailItem","cureContent","voucherOrderDetails","bodyPart","beautyConsumableName","orderDetails","totalExpense","anesthesiaSituation","chargeType","chargeName","price","received","anestheticOrderDetail","experienceData","bodyParts","depositData","onceData","coursePartOrderDetails","parseInt","priceType","bodyPartOptions","find","itemC","bodyPartId","courseTypeId","otherPartName","map","bodyPartItem","t","allCoupons","couponOrderDetails","oweVoucherSituationData","uniqueId","index","self","findIndex","courseTypeName","bodyPartName","voucherId","item1","item2","couponNumber","toString","padStart","volumeNumber","activityVoucherId","operatorName","detail","some","itemD","arrive","hasLeft","arrivedTime","leftTime","sort","a","b","splitA","splitB","timeA","getTime","timeB","value","console","log","trackState","trackContent","getDepartmentFollowUpDataBySearchCondition","detailedTrackInformationData","getDepartmentFollowUpData","getDoctorFollowUpData","customerCellPhone","key","followUpMedicalRecord","customerTraitColor","color","medicalRecordSubcourseData","medicalRecordCustomerDemands","beauticians","suggestionOfToday","doctorSigned","needToSignConsent","needToSignPhotoConsent","unshift","arrived","endTime","doc","alljudge","endTimeJudge","endTimeOfTreatment","messageState","messages","updateMessage","message","timestamp","Math","floor","removeMessageWithTiming","setTimeout","deleteTTimeFormat","format","newformat","dateConversionWeek","dayList","accordionToggle","num","toggleData","toggleName","querySelectorAll","className","toggleIcon","offsetHeight","len","style","maxHeight","close","scrollHeight","open","employeeState","allDoctorData","beauticiansData","beauticianAAData","beauticiansAAForCareData","initUpdateEmployeeData","employeeSettingData","getAllDoctorData","getBeauticians","getBeauticianAAByActiveStatus","getBeauticiansAAForCare","getInitUpdateEmployeeData","getEmployeeSettingData","addEmployee","editEmployee","leaveRecordState","leaveRecordTagData","initLeaveRecordData","getLeaveRecordTagData","getInitLeaveRecordData","medicalRecordId","createLeaveRecord","medicalRecordState","changeOperatorData","employeeStampData","otherPartHistoryData","consoleConfirmTagData","historicalMedicalRecordOption","doctorStampData","initExtraMedicalRecordData","historicalMedicalRecordData","medicalRecordStampData","getChangeOperatorData","departmentId","getEmployeeStampData","employeeId","getOtherPartHistory","courseId","getInitExtraMedicalRecordData","getConsoleConfirmTagData","getDoctorStampData","getHistoricalMedicalRecordOption","courseTypeArr","getHistoricalMedicalRecordData","getMedicalRecordStampData","changeSubcourseOperator","PATCHData","subcourseId","beautician","courseState","courseOptionsByType","getCourseOptionsByType","courseType","courseTypeState","courseTypeData","getCourseTypeData","prescribeMedicineRecordState","prescribeMedicineRecordData","getPrescribeMedicineRecord","medicalReocrdId","getByUpdateMedicalRecord","setup","provide","store","checkIn","alertMessage","track","textConversionTool","accordion","Employee","LeaveRecord","MedicalRecord","Course","prescribeMedicineRecord","__exports__","render","pinia","createPinia","createApp","App","use","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","every","r","n","getter","__esModule","d","definition","o","defineProperty","enumerable","get","f","e","chunkId","Promise","all","reduce","promises","u","miniCssF","globalThis","this","Function","window","obj","prop","prototype","hasOwnProperty","call","inProgress","dataWebpackPrefix","l","done","script","needAttach","scripts","getElementsByTagName","s","getAttribute","createElement","charset","timeout","nc","setAttribute","src","onScriptComplete","prev","event","onerror","onload","clearTimeout","doneFns","parentNode","removeChild","bind","type","target","head","appendChild","Symbol","toStringTag","p","createStylesheet","fullhref","oldTag","resolve","reject","linkTag","rel","onLinkComplete","errorType","realHref","href","err","Error","code","request","insertBefore","nextSibling","findStylesheet","existingLinkTags","tag","dataHref","existingStyleTags","loadStylesheet","installedCssChunks","miniCss","cssChunks","installedChunks","installedChunkData","promise","loadingEnded","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","__webpack_exports__"],"sourceRoot":""}